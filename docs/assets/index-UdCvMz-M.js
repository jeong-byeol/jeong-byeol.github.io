import{u as Mo,j as k,_ as Lo,r as Nt,a as PE,b as IE,d as jE,c as zE,h as HE,i as GE,Q as FE,R as QE,W as qE,e as VE}from"./wagmi-6ZcuvPc5.js";import{r as KE,a as JE,g as Xb,b as YE}from"./vendor-vtvkNrF5.js";import{u as XE,L as ZE,B as $E,R as WE,a as mh}from"./router-CI5skHEK.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();var bh={exports:{}},fo={},wh={exports:{}},vh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function tS(){return e0||(e0=1,function(r){function t(N,z){var X=N.length;N.push(z);t:for(;0<X;){var it=X-1>>>1,ct=N[it];if(0<o(ct,z))N[it]=z,N[X]=ct,X=it;else break t}}function e(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var z=N[0],X=N.pop();if(X!==z){N[0]=X;t:for(var it=0,ct=N.length,Rt=ct>>>1;it<Rt;){var Q=2*(it+1)-1,ut=N[Q],kt=Q+1,Ee=N[kt];if(0>o(ut,X))kt<ct&&0>o(Ee,ut)?(N[it]=Ee,N[kt]=X,it=kt):(N[it]=ut,N[Q]=X,it=Q);else if(kt<ct&&0>o(Ee,X))N[it]=Ee,N[kt]=X,it=kt;else break t}}return z}function o(N,z){var X=N.sortIndex-z.sortIndex;return X!==0?X:N.id-z.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var c=Date,h=c.now();r.unstable_now=function(){return c.now()-h}}var p=[],g=[],y=1,m=null,v=3,E=!1,T=!1,S=!1,x=!1,D=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function F(N){for(var z=e(g);z!==null;){if(z.callback===null)i(g);else if(z.startTime<=N)i(g),z.sortIndex=z.expirationTime,t(p,z);else break;z=e(g)}}function K(N){if(S=!1,F(N),!T)if(e(p)!==null)T=!0,H||(H=!0,At());else{var z=e(g);z!==null&&V(K,z.startTime-N)}}var H=!1,J=-1,Z=5,Y=-1;function nt(){return x?!0:!(r.unstable_now()-Y<Z)}function ft(){if(x=!1,H){var N=r.unstable_now();Y=N;var z=!0;try{t:{T=!1,S&&(S=!1,G(J),J=-1),E=!0;var X=v;try{e:{for(F(N),m=e(p);m!==null&&!(m.expirationTime>N&&nt());){var it=m.callback;if(typeof it=="function"){m.callback=null,v=m.priorityLevel;var ct=it(m.expirationTime<=N);if(N=r.unstable_now(),typeof ct=="function"){m.callback=ct,F(N),z=!0;break e}m===e(p)&&i(p),F(N)}else i(p);m=e(p)}if(m!==null)z=!0;else{var Rt=e(g);Rt!==null&&V(K,Rt.startTime-N),z=!1}}break t}finally{m=null,v=X,E=!1}z=void 0}}finally{z?At():H=!1}}}var At;if(typeof L=="function")At=function(){L(ft)};else if(typeof MessageChannel<"u"){var Qt=new MessageChannel,pe=Qt.port2;Qt.port1.onmessage=ft,At=function(){pe.postMessage(null)}}else At=function(){D(ft,0)};function V(N,z){J=D(function(){N(r.unstable_now())},z)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(N){N.callback=null},r.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<N?Math.floor(1e3/N):5},r.unstable_getCurrentPriorityLevel=function(){return v},r.unstable_next=function(N){switch(v){case 1:case 2:case 3:var z=3;break;default:z=v}var X=v;v=z;try{return N()}finally{v=X}},r.unstable_requestPaint=function(){x=!0},r.unstable_runWithPriority=function(N,z){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var X=v;v=N;try{return z()}finally{v=X}},r.unstable_scheduleCallback=function(N,z,X){var it=r.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?it+X:it):X=it,N){case 1:var ct=-1;break;case 2:ct=250;break;case 5:ct=1073741823;break;case 4:ct=1e4;break;default:ct=5e3}return ct=X+ct,N={id:y++,callback:z,priorityLevel:N,startTime:X,expirationTime:ct,sortIndex:-1},X>it?(N.sortIndex=X,t(g,N),e(p)===null&&N===e(g)&&(S?(G(J),J=-1):S=!0,V(K,X-it))):(N.sortIndex=ct,t(p,N),T||E||(T=!0,H||(H=!0,At()))),N},r.unstable_shouldYield=nt,r.unstable_wrapCallback=function(N){var z=v;return function(){var X=v;v=z;try{return N.apply(this,arguments)}finally{v=X}}}}(vh)),vh}var n0;function eS(){return n0||(n0=1,wh.exports=tS()),wh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function nS(){if(s0)return fo;s0=1;var r=eS(),t=KE(),e=JE();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function h(n){if(u(n)!==n)throw Error(i(188))}function p(n){var s=n.alternate;if(!s){if(s=u(n),s===null)throw Error(i(188));return s!==n?null:n}for(var a=n,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return h(f),n;if(d===l)return h(f),s;d=d.sibling}throw Error(i(188))}if(a.return!==l.return)a=f,l=d;else{for(var b=!1,w=f.child;w;){if(w===a){b=!0,a=f,l=d;break}if(w===l){b=!0,l=f,a=d;break}w=w.sibling}if(!b){for(w=d.child;w;){if(w===a){b=!0,a=d,l=f;break}if(w===l){b=!0,l=d,a=f;break}w=w.sibling}if(!b)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?n:s}function g(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=g(n),s!==null)return s;n=n.sibling}return null}var y=Object.assign,m=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),L=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),nt=Symbol.for("react.memo_cache_sentinel"),ft=Symbol.iterator;function At(n){return n===null||typeof n!="object"?null:(n=ft&&n[ft]||n["@@iterator"],typeof n=="function"?n:null)}var Qt=Symbol.for("react.client.reference");function pe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Qt?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case T:return"Fragment";case x:return"Profiler";case S:return"StrictMode";case K:return"Suspense";case H:return"SuspenseList";case Y:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case E:return"Portal";case L:return(n.displayName||"Context")+".Provider";case G:return(n._context.displayName||"Context")+".Consumer";case F:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case J:return s=n.displayName||null,s!==null?s:pe(n.type)||"Memo";case Z:s=n._payload,n=n._init;try{return pe(n(s))}catch{}}return null}var V=Array.isArray,N=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},it=[],ct=-1;function Rt(n){return{current:n}}function Q(n){0>ct||(n.current=it[ct],it[ct]=null,ct--)}function ut(n,s){ct++,it[ct]=n.current,n.current=s}var kt=Rt(null),Ee=Rt(null),Pe=Rt(null),Je=Rt(null);function As(n,s){switch(ut(Pe,s),ut(Ee,n),ut(kt,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Rm(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Rm(s),n=Cm(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Q(kt),ut(kt,n)}function Ie(){Q(kt),Q(Ee),Q(Pe)}function Bn(n){n.memoizedState!==null&&ut(Je,n);var s=kt.current,a=Cm(s,n.type);s!==a&&(ut(Ee,n),ut(kt,a))}function ui(n){Ee.current===n&&(Q(kt),Q(Ee)),Je.current===n&&(Q(Je),ao._currentValue=X)}var je=Object.prototype.hasOwnProperty,Un=r.unstable_scheduleCallback,Es=r.unstable_cancelCallback,Qo=r.unstable_shouldYield,qo=r.unstable_requestPaint,Dn=r.unstable_now,mA=r.unstable_getCurrentPriorityLevel,up=r.unstable_ImmediatePriority,cp=r.unstable_UserBlockingPriority,Vo=r.unstable_NormalPriority,bA=r.unstable_LowPriority,fp=r.unstable_IdlePriority,wA=r.log,vA=r.unstable_setDisableYieldValue,pa=null,Ye=null;function Ss(n){if(typeof wA=="function"&&vA(n),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(pa,n)}catch{}}var Xe=Math.clz32?Math.clz32:SA,AA=Math.log,EA=Math.LN2;function SA(n){return n>>>=0,n===0?32:31-(AA(n)/EA|0)|0}var Ko=256,Jo=4194304;function ci(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Yo(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,b=n.pingedLanes;n=n.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?f=ci(l):(b&=w,b!==0?f=ci(b):a||(a=w&~n,a!==0&&(f=ci(a))))):(w=l&~d,w!==0?f=ci(w):b!==0?f=ci(b):a||(a=l&~n,a!==0&&(f=ci(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function ga(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function TA(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hp(){var n=Ko;return Ko<<=1,(Ko&4194048)===0&&(Ko=256),n}function dp(){var n=Jo;return Jo<<=1,(Jo&62914560)===0&&(Jo=4194304),n}function rc(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function ya(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function _A(n,s,a,l,f,d){var b=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var w=n.entanglements,A=n.expirationTimes,B=n.hiddenUpdates;for(a=b&~a;0<a;){var P=31-Xe(a),j=1<<P;w[P]=0,A[P]=-1;var U=B[P];if(U!==null)for(B[P]=null,P=0;P<U.length;P++){var M=U[P];M!==null&&(M.lane&=-536870913)}a&=~j}l!==0&&pp(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(b&~s))}function pp(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-Xe(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function gp(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-Xe(a),f=1<<l;f&s|n[l]&s&&(n[l]|=s),a&=~f}}function ac(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function oc(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function yp(){var n=z.p;return n!==0?n:(n=window.event,n===void 0?32:Ym(n.type))}function xA(n,s){var a=z.p;try{return z.p=n,s()}finally{z.p=a}}var Ts=Math.random().toString(36).slice(2),Ne="__reactFiber$"+Ts,ze="__reactProps$"+Ts,Yi="__reactContainer$"+Ts,lc="__reactEvents$"+Ts,OA="__reactListeners$"+Ts,NA="__reactHandles$"+Ts,mp="__reactResources$"+Ts,ma="__reactMarker$"+Ts;function uc(n){delete n[Ne],delete n[ze],delete n[lc],delete n[OA],delete n[NA]}function Xi(n){var s=n[Ne];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Yi]||a[Ne]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=Dm(n);n!==null;){if(a=n[Ne])return a;n=Dm(n)}return s}n=a,a=n.parentNode}return null}function Zi(n){if(n=n[Ne]||n[Yi]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function ba(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function $i(n){var s=n[mp];return s||(s=n[mp]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ge(n){n[ma]=!0}var bp=new Set,wp={};function fi(n,s){Wi(n,s),Wi(n+"Capture",s)}function Wi(n,s){for(wp[n]=s,n=0;n<s.length;n++)bp.add(s[n])}var RA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vp={},Ap={};function CA(n){return je.call(Ap,n)?!0:je.call(vp,n)?!1:RA.test(n)?Ap[n]=!0:(vp[n]=!0,!1)}function Xo(n,s,a){if(CA(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function Zo(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function Vn(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}var cc,Ep;function tr(n){if(cc===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);cc=s&&s[1]||"",Ep=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cc+n+Ep}var fc=!1;function hc(n,s){if(!n||fc)return"";fc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var j=function(){throw Error()};if(Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(M){var U=M}Reflect.construct(n,[],j)}else{try{j.call()}catch(M){U=M}n.call(j.prototype)}}else{try{throw Error()}catch(M){U=M}(j=n())&&typeof j.catch=="function"&&j.catch(function(){})}}catch(M){if(M&&U&&typeof M.stack=="string")return[M.stack,U.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),b=d[0],w=d[1];if(b&&w){var A=b.split(`
`),B=w.split(`
`);for(f=l=0;l<A.length&&!A[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===A.length||f===B.length)for(l=A.length-1,f=B.length-1;1<=l&&0<=f&&A[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(A[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||A[l]!==B[f]){var P=`
`+A[l].replace(" at new "," at ");return n.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",n.displayName)),P}while(1<=l&&0<=f);break}}}finally{fc=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?tr(a):""}function kA(n){switch(n.tag){case 26:case 27:case 5:return tr(n.type);case 16:return tr("Lazy");case 13:return tr("Suspense");case 19:return tr("SuspenseList");case 0:case 15:return hc(n.type,!1);case 11:return hc(n.type.render,!1);case 1:return hc(n.type,!0);case 31:return tr("Activity");default:return""}}function Sp(n){try{var s="";do s+=kA(n),n=n.return;while(n);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ln(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Tp(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function BA(n){var s=Tp(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),l=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(b){l=""+b,d.call(this,b)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function $o(n){n._valueTracker||(n._valueTracker=BA(n))}function _p(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=Tp(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function Wo(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var UA=/[\n"\\]/g;function un(n){return n.replace(UA,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function dc(n,s,a,l,f,d,b,w){n.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.type=b:n.removeAttribute("type"),s!=null?b==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+ln(s)):n.value!==""+ln(s)&&(n.value=""+ln(s)):b!=="submit"&&b!=="reset"||n.removeAttribute("value"),s!=null?pc(n,b,ln(s)):a!=null?pc(n,b,ln(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+ln(w):n.removeAttribute("name")}function xp(n,s,a,l,f,d,b,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null))return;a=a!=null?""+ln(a):"",s=s!=null?""+ln(s):a,w||s===n.value||(n.value=s),n.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=w?n.checked:!!l,n.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.name=b)}function pc(n,s,a){s==="number"&&Wo(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function er(n,s,a,l){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+ln(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Op(n,s,a){if(s!=null&&(s=""+ln(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+ln(a):""}function Np(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(i(92));if(V(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=ln(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function nr(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var DA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rp(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||DA.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function Cp(n,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&Rp(n,f,l)}else for(var d in s)s.hasOwnProperty(d)&&Rp(n,d,s[d])}function gc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var MA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),LA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tl(n){return LA.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var yc=null;function mc(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var sr=null,ir=null;function kp(n){var s=Zi(n);if(s&&(n=s.stateNode)){var a=n[ze]||null;t:switch(n=s.stateNode,s.type){case"input":if(dc(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var f=l[ze]||null;if(!f)throw Error(i(90));dc(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&_p(l)}break t;case"textarea":Op(n,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&er(n,!!a.multiple,s,!1)}}}var bc=!1;function Bp(n,s,a){if(bc)return n(s,a);bc=!0;try{var l=n(s);return l}finally{if(bc=!1,(sr!==null||ir!==null)&&(jl(),sr&&(s=sr,n=ir,ir=sr=null,kp(s),n)))for(s=0;s<n.length;s++)kp(n[s])}}function wa(n,s){var a=n.stateNode;if(a===null)return null;var l=a[ze]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wc=!1;if(Kn)try{var va={};Object.defineProperty(va,"passive",{get:function(){wc=!0}}),window.addEventListener("test",va,va),window.removeEventListener("test",va,va)}catch{wc=!1}var _s=null,vc=null,el=null;function Up(){if(el)return el;var n,s=vc,a=s.length,l,f="value"in _s?_s.value:_s.textContent,d=f.length;for(n=0;n<a&&s[n]===f[n];n++);var b=a-n;for(l=1;l<=b&&s[a-l]===f[d-l];l++);return el=f.slice(n,1<l?1-l:void 0)}function nl(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function sl(){return!0}function Dp(){return!1}function He(n){function s(a,l,f,d,b){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=b,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(a=n[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?sl:Dp,this.isPropagationStopped=Dp,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=sl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=sl)},persist:function(){},isPersistent:sl}),s}var hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},il=He(hi),Aa=y({},hi,{view:0,detail:0}),PA=He(Aa),Ac,Ec,Ea,rl=y({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ea&&(Ea&&n.type==="mousemove"?(Ac=n.screenX-Ea.screenX,Ec=n.screenY-Ea.screenY):Ec=Ac=0,Ea=n),Ac)},movementY:function(n){return"movementY"in n?n.movementY:Ec}}),Mp=He(rl),IA=y({},rl,{dataTransfer:0}),jA=He(IA),zA=y({},Aa,{relatedTarget:0}),Sc=He(zA),HA=y({},hi,{animationName:0,elapsedTime:0,pseudoElement:0}),GA=He(HA),FA=y({},hi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),QA=He(FA),qA=y({},hi,{data:0}),Lp=He(qA),VA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YA(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=JA[n])?!!s[n]:!1}function Tc(){return YA}var XA=y({},Aa,{key:function(n){if(n.key){var s=VA[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=nl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?KA[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tc,charCode:function(n){return n.type==="keypress"?nl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?nl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ZA=He(XA),$A=y({},rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pp=He($A),WA=y({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tc}),t1=He(WA),e1=y({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),n1=He(e1),s1=y({},rl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),i1=He(s1),r1=y({},hi,{newState:0,oldState:0}),a1=He(r1),o1=[9,13,27,32],_c=Kn&&"CompositionEvent"in window,Sa=null;Kn&&"documentMode"in document&&(Sa=document.documentMode);var l1=Kn&&"TextEvent"in window&&!Sa,Ip=Kn&&(!_c||Sa&&8<Sa&&11>=Sa),jp=" ",zp=!1;function Hp(n,s){switch(n){case"keyup":return o1.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var rr=!1;function u1(n,s){switch(n){case"compositionend":return Gp(s);case"keypress":return s.which!==32?null:(zp=!0,jp);case"textInput":return n=s.data,n===jp&&zp?null:n;default:return null}}function c1(n,s){if(rr)return n==="compositionend"||!_c&&Hp(n,s)?(n=Up(),el=vc=_s=null,rr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ip&&s.locale!=="ko"?null:s.data;default:return null}}var f1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fp(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!f1[n.type]:s==="textarea"}function Qp(n,s,a,l){sr?ir?ir.push(l):ir=[l]:sr=l,s=ql(s,"onChange"),0<s.length&&(a=new il("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var Ta=null,_a=null;function h1(n){Tm(n,0)}function al(n){var s=ba(n);if(_p(s))return n}function qp(n,s){if(n==="change")return s}var Vp=!1;if(Kn){var xc;if(Kn){var Oc="oninput"in document;if(!Oc){var Kp=document.createElement("div");Kp.setAttribute("oninput","return;"),Oc=typeof Kp.oninput=="function"}xc=Oc}else xc=!1;Vp=xc&&(!document.documentMode||9<document.documentMode)}function Jp(){Ta&&(Ta.detachEvent("onpropertychange",Yp),_a=Ta=null)}function Yp(n){if(n.propertyName==="value"&&al(_a)){var s=[];Qp(s,_a,n,mc(n)),Bp(h1,s)}}function d1(n,s,a){n==="focusin"?(Jp(),Ta=s,_a=a,Ta.attachEvent("onpropertychange",Yp)):n==="focusout"&&Jp()}function p1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return al(_a)}function g1(n,s){if(n==="click")return al(s)}function y1(n,s){if(n==="input"||n==="change")return al(s)}function m1(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Ze=typeof Object.is=="function"?Object.is:m1;function xa(n,s){if(Ze(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!je.call(s,f)||!Ze(n[f],s[f]))return!1}return!0}function Xp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Zp(n,s){var a=Xp(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Xp(a)}}function $p(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?$p(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Wp(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Wo(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Wo(n.document)}return s}function Nc(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var b1=Kn&&"documentMode"in document&&11>=document.documentMode,ar=null,Rc=null,Oa=null,Cc=!1;function tg(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Cc||ar==null||ar!==Wo(l)||(l=ar,"selectionStart"in l&&Nc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Oa&&xa(Oa,l)||(Oa=l,l=ql(Rc,"onSelect"),0<l.length&&(s=new il("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=ar)))}function di(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var or={animationend:di("Animation","AnimationEnd"),animationiteration:di("Animation","AnimationIteration"),animationstart:di("Animation","AnimationStart"),transitionrun:di("Transition","TransitionRun"),transitionstart:di("Transition","TransitionStart"),transitioncancel:di("Transition","TransitionCancel"),transitionend:di("Transition","TransitionEnd")},kc={},eg={};Kn&&(eg=document.createElement("div").style,"AnimationEvent"in window||(delete or.animationend.animation,delete or.animationiteration.animation,delete or.animationstart.animation),"TransitionEvent"in window||delete or.transitionend.transition);function pi(n){if(kc[n])return kc[n];if(!or[n])return n;var s=or[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in eg)return kc[n]=s[a];return n}var ng=pi("animationend"),sg=pi("animationiteration"),ig=pi("animationstart"),w1=pi("transitionrun"),v1=pi("transitionstart"),A1=pi("transitioncancel"),rg=pi("transitionend"),ag=new Map,Bc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bc.push("scrollEnd");function An(n,s){ag.set(n,s),fi(s,[n])}var og=new WeakMap;function cn(n,s){if(typeof n=="object"&&n!==null){var a=og.get(n);return a!==void 0?a:(s={value:n,source:s,stack:Sp(s)},og.set(n,s),s)}return{value:n,source:s,stack:Sp(s)}}var fn=[],lr=0,Uc=0;function ol(){for(var n=lr,s=Uc=lr=0;s<n;){var a=fn[s];fn[s++]=null;var l=fn[s];fn[s++]=null;var f=fn[s];fn[s++]=null;var d=fn[s];if(fn[s++]=null,l!==null&&f!==null){var b=l.pending;b===null?f.next=f:(f.next=b.next,b.next=f),l.pending=f}d!==0&&lg(a,f,d)}}function ll(n,s,a,l){fn[lr++]=n,fn[lr++]=s,fn[lr++]=a,fn[lr++]=l,Uc|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Dc(n,s,a,l){return ll(n,s,a,l),ul(n)}function ur(n,s){return ll(n,null,null,s),ul(n)}function lg(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&s!==null&&(f=31-Xe(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function ul(n){if(50<$a)throw $a=0,Hf=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var cr={};function E1(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $e(n,s,a,l){return new E1(n,s,a,l)}function Mc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Jn(n,s){var a=n.alternate;return a===null?(a=$e(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function ug(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function cl(n,s,a,l,f,d){var b=0;if(l=n,typeof n=="function")Mc(n)&&(b=1);else if(typeof n=="string")b=TE(n,a,kt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case Y:return n=$e(31,a,s,f),n.elementType=Y,n.lanes=d,n;case T:return gi(a.children,f,d,s);case S:b=8,f|=24;break;case x:return n=$e(12,a,s,f|2),n.elementType=x,n.lanes=d,n;case K:return n=$e(13,a,s,f),n.elementType=K,n.lanes=d,n;case H:return n=$e(19,a,s,f),n.elementType=H,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case D:case L:b=10;break t;case G:b=9;break t;case F:b=11;break t;case J:b=14;break t;case Z:b=16,l=null;break t}b=29,a=Error(i(130,n===null?"null":typeof n,"")),l=null}return s=$e(b,a,s,f),s.elementType=n,s.type=l,s.lanes=d,s}function gi(n,s,a,l){return n=$e(7,n,l,s),n.lanes=a,n}function Lc(n,s,a){return n=$e(6,n,null,s),n.lanes=a,n}function Pc(n,s,a){return s=$e(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var fr=[],hr=0,fl=null,hl=0,hn=[],dn=0,yi=null,Yn=1,Xn="";function mi(n,s){fr[hr++]=hl,fr[hr++]=fl,fl=n,hl=s}function cg(n,s,a){hn[dn++]=Yn,hn[dn++]=Xn,hn[dn++]=yi,yi=n;var l=Yn;n=Xn;var f=32-Xe(l)-1;l&=~(1<<f),a+=1;var d=32-Xe(s)+f;if(30<d){var b=f-f%5;d=(l&(1<<b)-1).toString(32),l>>=b,f-=b,Yn=1<<32-Xe(s)+f|a<<f|l,Xn=d+n}else Yn=1<<d|a<<f|l,Xn=n}function Ic(n){n.return!==null&&(mi(n,1),cg(n,1,0))}function jc(n){for(;n===fl;)fl=fr[--hr],fr[hr]=null,hl=fr[--hr],fr[hr]=null;for(;n===yi;)yi=hn[--dn],hn[dn]=null,Xn=hn[--dn],hn[dn]=null,Yn=hn[--dn],hn[dn]=null}var Ce=null,Yt=null,Ct=!1,bi=null,Mn=!1,zc=Error(i(519));function wi(n){var s=Error(i(418,""));throw Ca(cn(s,n)),zc}function fg(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[Ne]=n,s[ze]=l,a){case"dialog":wt("cancel",s),wt("close",s);break;case"iframe":case"object":case"embed":wt("load",s);break;case"video":case"audio":for(a=0;a<to.length;a++)wt(to[a],s);break;case"source":wt("error",s);break;case"img":case"image":case"link":wt("error",s),wt("load",s);break;case"details":wt("toggle",s);break;case"input":wt("invalid",s),xp(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),$o(s);break;case"select":wt("invalid",s);break;case"textarea":wt("invalid",s),Np(s,l.value,l.defaultValue,l.children),$o(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||Nm(s.textContent,a)?(l.popover!=null&&(wt("beforetoggle",s),wt("toggle",s)),l.onScroll!=null&&wt("scroll",s),l.onScrollEnd!=null&&wt("scrollend",s),l.onClick!=null&&(s.onclick=Vl),s=!0):s=!1,s||wi(n)}function hg(n){for(Ce=n.return;Ce;)switch(Ce.tag){case 5:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Ce=Ce.return}}function Na(n){if(n!==Ce)return!1;if(!Ct)return hg(n),Ct=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||sh(n.type,n.memoizedProps)),a=!a),a&&Yt&&wi(n),hg(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));t:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(s===0){Yt=Sn(n.nextSibling);break t}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;n=n.nextSibling}Yt=null}}else s===27?(s=Yt,Hs(n.type)?(n=oh,oh=null,Yt=n):Yt=s):Yt=Ce?Sn(n.stateNode.nextSibling):null;return!0}function Ra(){Yt=Ce=null,Ct=!1}function dg(){var n=bi;return n!==null&&(Qe===null?Qe=n:Qe.push.apply(Qe,n),bi=null),n}function Ca(n){bi===null?bi=[n]:bi.push(n)}var Hc=Rt(null),vi=null,Zn=null;function xs(n,s,a){ut(Hc,s._currentValue),s._currentValue=a}function $n(n){n._currentValue=Hc.current,Q(Hc)}function Gc(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function Fc(n,s,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var b=f.child;d=d.firstContext;t:for(;d!==null;){var w=d;d=f;for(var A=0;A<s.length;A++)if(w.context===s[A]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),Gc(d.return,a,n),l||(b=null);break t}d=w.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(i(341));b.lanes|=a,d=b.alternate,d!==null&&(d.lanes|=a),Gc(b,a,n),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===n){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function ka(n,s,a,l){n=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var w=f.type;Ze(f.pendingProps.value,b.value)||(n!==null?n.push(w):n=[w])}}else if(f===Je.current){if(b=f.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(ao):n=[ao])}f=f.return}n!==null&&Fc(s,n,a,l),s.flags|=262144}function dl(n){for(n=n.firstContext;n!==null;){if(!Ze(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ai(n){vi=n,Zn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Re(n){return pg(vi,n)}function pl(n,s){return vi===null&&Ai(n),pg(n,s)}function pg(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Zn===null){if(n===null)throw Error(i(308));Zn=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Zn=Zn.next=s;return a}var S1=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},T1=r.unstable_scheduleCallback,_1=r.unstable_NormalPriority,ue={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qc(){return{controller:new S1,data:new Map,refCount:0}}function Ba(n){n.refCount--,n.refCount===0&&T1(_1,function(){n.controller.abort()})}var Ua=null,qc=0,dr=0,pr=null;function x1(n,s){if(Ua===null){var a=Ua=[];qc=0,dr=Jf(),pr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return qc++,s.then(gg,gg),s}function gg(){if(--qc===0&&Ua!==null){pr!==null&&(pr.status="fulfilled");var n=Ua;Ua=null,dr=0,pr=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function O1(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var yg=N.S;N.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&x1(n,s),yg!==null&&yg(n,s)};var Ei=Rt(null);function Vc(){var n=Ei.current;return n!==null?n:zt.pooledCache}function gl(n,s){s===null?ut(Ei,Ei.current):ut(Ei,s.pool)}function mg(){var n=Vc();return n===null?null:{parent:ue._currentValue,pool:n}}var Da=Error(i(460)),bg=Error(i(474)),yl=Error(i(542)),Kc={then:function(){}};function wg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function ml(){}function vg(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(ml,ml),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Eg(n),n;default:if(typeof s.status=="string")s.then(ml,ml);else{if(n=zt,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Eg(n),n}throw Ma=s,Da}}var Ma=null;function Ag(){if(Ma===null)throw Error(i(459));var n=Ma;return Ma=null,n}function Eg(n){if(n===Da||n===yl)throw Error(i(483))}var Os=!1;function Jc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yc(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ns(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Rs(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ut&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=ul(n),lg(n,null,a),s}return ll(n,l,s,a),ul(n)}function La(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,gp(n,a)}}function Xc(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=b:d=d.next=b,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var Zc=!1;function Pa(){if(Zc){var n=pr;if(n!==null)throw n}}function Ia(n,s,a,l){Zc=!1;var f=n.updateQueue;Os=!1;var d=f.firstBaseUpdate,b=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var A=w,B=A.next;A.next=null,b===null?d=B:b.next=B,b=A;var P=n.alternate;P!==null&&(P=P.updateQueue,w=P.lastBaseUpdate,w!==b&&(w===null?P.firstBaseUpdate=B:w.next=B,P.lastBaseUpdate=A))}if(d!==null){var j=f.baseState;b=0,P=B=A=null,w=d;do{var U=w.lane&-536870913,M=U!==w.lane;if(M?(_t&U)===U:(l&U)===U){U!==0&&U===dr&&(Zc=!0),P!==null&&(P=P.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var lt=n,rt=w;U=s;var Pt=a;switch(rt.tag){case 1:if(lt=rt.payload,typeof lt=="function"){j=lt.call(Pt,j,U);break t}j=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=rt.payload,U=typeof lt=="function"?lt.call(Pt,j,U):lt,U==null)break t;j=y({},j,U);break t;case 2:Os=!0}}U=w.callback,U!==null&&(n.flags|=64,M&&(n.flags|=8192),M=f.callbacks,M===null?f.callbacks=[U]:M.push(U))}else M={lane:U,tag:w.tag,payload:w.payload,callback:w.callback,next:null},P===null?(B=P=M,A=j):P=P.next=M,b|=U;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;M=w,w=M.next,M.next=null,f.lastBaseUpdate=M,f.shared.pending=null}}while(!0);P===null&&(A=j),f.baseState=A,f.firstBaseUpdate=B,f.lastBaseUpdate=P,d===null&&(f.shared.lanes=0),Ps|=b,n.lanes=b,n.memoizedState=j}}function Sg(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function Tg(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Sg(a[n],s)}var gr=Rt(null),bl=Rt(0);function _g(n,s){n=rs,ut(bl,n),ut(gr,s),rs=n|s.baseLanes}function $c(){ut(bl,rs),ut(gr,gr.current)}function Wc(){rs=bl.current,Q(gr),Q(bl)}var Cs=0,pt=null,Mt=null,re=null,wl=!1,yr=!1,Si=!1,vl=0,ja=0,mr=null,N1=0;function ee(){throw Error(i(321))}function tf(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Ze(n[a],s[a]))return!1;return!0}function ef(n,s,a,l,f,d){return Cs=d,pt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,N.H=n===null||n.memoizedState===null?ly:uy,Si=!1,d=a(l,f),Si=!1,yr&&(d=Og(s,a,l,f)),xg(n),d}function xg(n){N.H=xl;var s=Mt!==null&&Mt.next!==null;if(Cs=0,re=Mt=pt=null,wl=!1,ja=0,mr=null,s)throw Error(i(300));n===null||ye||(n=n.dependencies,n!==null&&dl(n)&&(ye=!0))}function Og(n,s,a,l){pt=n;var f=0;do{if(yr&&(mr=null),ja=0,yr=!1,25<=f)throw Error(i(301));if(f+=1,re=Mt=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}N.H=M1,d=s(a,l)}while(yr);return d}function R1(){var n=N.H,s=n.useState()[0];return s=typeof s.then=="function"?za(s):s,n=n.useState()[0],(Mt!==null?Mt.memoizedState:null)!==n&&(pt.flags|=1024),s}function nf(){var n=vl!==0;return vl=0,n}function sf(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function rf(n){if(wl){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}wl=!1}Cs=0,re=Mt=pt=null,yr=!1,ja=vl=0,mr=null}function Ge(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return re===null?pt.memoizedState=re=n:re=re.next=n,re}function ae(){if(Mt===null){var n=pt.alternate;n=n!==null?n.memoizedState:null}else n=Mt.next;var s=re===null?pt.memoizedState:re.next;if(s!==null)re=s,Mt=n;else{if(n===null)throw pt.alternate===null?Error(i(467)):Error(i(310));Mt=n,n={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},re===null?pt.memoizedState=re=n:re=re.next=n}return re}function af(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function za(n){var s=ja;return ja+=1,mr===null&&(mr=[]),n=vg(mr,n,s),s=pt,(re===null?s.memoizedState:re.next)===null&&(s=s.alternate,N.H=s===null||s.memoizedState===null?ly:uy),n}function Al(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return za(n);if(n.$$typeof===L)return Re(n)}throw Error(i(438,String(n)))}function of(n){var s=null,a=pt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=pt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=af(),pt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=nt;return s.index++,a}function Wn(n,s){return typeof s=="function"?s(n):s}function El(n){var s=ae();return lf(s,Mt,n)}function lf(n,s,a){var l=n.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var b=f.next;f.next=d.next,d.next=b}s.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{s=f.next;var w=b=null,A=null,B=s,P=!1;do{var j=B.lane&-536870913;if(j!==B.lane?(_t&j)===j:(Cs&j)===j){var U=B.revertLane;if(U===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),j===dr&&(P=!0);else if((Cs&U)===U){B=B.next,U===dr&&(P=!0);continue}else j={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},A===null?(w=A=j,b=d):A=A.next=j,pt.lanes|=U,Ps|=U;j=B.action,Si&&a(d,j),d=B.hasEagerState?B.eagerState:a(d,j)}else U={lane:j,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},A===null?(w=A=U,b=d):A=A.next=U,pt.lanes|=j,Ps|=j;B=B.next}while(B!==null&&B!==s);if(A===null?b=d:A.next=w,!Ze(d,n.memoizedState)&&(ye=!0,P&&(a=pr,a!==null)))throw a;n.memoizedState=d,n.baseState=b,n.baseQueue=A,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function uf(n){var s=ae(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var b=f=f.next;do d=n(d,b.action),b=b.next;while(b!==f);Ze(d,s.memoizedState)||(ye=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function Ng(n,s,a){var l=pt,f=ae(),d=Ct;if(d){if(a===void 0)throw Error(i(407));a=a()}else a=s();var b=!Ze((Mt||f).memoizedState,a);b&&(f.memoizedState=a,ye=!0),f=f.queue;var w=kg.bind(null,l,f,n);if(Ha(2048,8,w,[n]),f.getSnapshot!==s||b||re!==null&&re.memoizedState.tag&1){if(l.flags|=2048,br(9,Sl(),Cg.bind(null,l,f,a,s),null),zt===null)throw Error(i(349));d||(Cs&124)!==0||Rg(l,s,a)}return a}function Rg(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=pt.updateQueue,s===null?(s=af(),pt.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Cg(n,s,a,l){s.value=a,s.getSnapshot=l,Bg(s)&&Ug(n)}function kg(n,s,a){return a(function(){Bg(s)&&Ug(n)})}function Bg(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Ze(n,a)}catch{return!0}}function Ug(n){var s=ur(n,2);s!==null&&sn(s,n,2)}function cf(n){var s=Ge();if(typeof n=="function"){var a=n;if(n=a(),Si){Ss(!0);try{a()}finally{Ss(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:n},s}function Dg(n,s,a,l){return n.baseState=a,lf(n,Mt,typeof l=="function"?l:Wn)}function C1(n,s,a,l,f){if(_l(n))throw Error(i(485));if(n=s.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){d.listeners.push(b)}};N.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,Mg(s,d)):(d.next=a.next,s.pending=a.next=d)}}function Mg(n,s){var a=s.action,l=s.payload,f=n.state;if(s.isTransition){var d=N.T,b={};N.T=b;try{var w=a(f,l),A=N.S;A!==null&&A(b,w),Lg(n,s,w)}catch(B){ff(n,s,B)}finally{N.T=d}}else try{d=a(f,l),Lg(n,s,d)}catch(B){ff(n,s,B)}}function Lg(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Pg(n,s,l)},function(l){return ff(n,s,l)}):Pg(n,s,a)}function Pg(n,s,a){s.status="fulfilled",s.value=a,Ig(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,Mg(n,a)))}function ff(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Ig(s),s=s.next;while(s!==l)}n.action=null}function Ig(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function jg(n,s){return s}function zg(n,s){if(Ct){var a=zt.formState;if(a!==null){t:{var l=pt;if(Ct){if(Yt){e:{for(var f=Yt,d=Mn;f.nodeType!==8;){if(!d){f=null;break e}if(f=Sn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Yt=Sn(f.nextSibling),l=f.data==="F!";break t}}wi(l)}l=!1}l&&(s=a[0])}}return a=Ge(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jg,lastRenderedState:s},a.queue=l,a=ry.bind(null,pt,l),l.dispatch=a,l=cf(!1),d=yf.bind(null,pt,!1,l.queue),l=Ge(),f={state:s,dispatch:null,action:n,pending:null},l.queue=f,a=C1.bind(null,pt,f,d,a),f.dispatch=a,l.memoizedState=n,[s,a,!1]}function Hg(n){var s=ae();return Gg(s,Mt,n)}function Gg(n,s,a){if(s=lf(n,s,jg)[0],n=El(Wn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=za(s)}catch(b){throw b===Da?yl:b}else l=s;s=ae();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(pt.flags|=2048,br(9,Sl(),k1.bind(null,f,a),null)),[l,d,n]}function k1(n,s){n.action=s}function Fg(n){var s=ae(),a=Mt;if(a!==null)return Gg(s,a,n);ae(),s=s.memoizedState,a=ae();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function br(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=pt.updateQueue,s===null&&(s=af(),pt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function Sl(){return{destroy:void 0,resource:void 0}}function Qg(){return ae().memoizedState}function Tl(n,s,a,l){var f=Ge();l=l===void 0?null:l,pt.flags|=n,f.memoizedState=br(1|s,Sl(),a,l)}function Ha(n,s,a,l){var f=ae();l=l===void 0?null:l;var d=f.memoizedState.inst;Mt!==null&&l!==null&&tf(l,Mt.memoizedState.deps)?f.memoizedState=br(s,d,a,l):(pt.flags|=n,f.memoizedState=br(1|s,d,a,l))}function qg(n,s){Tl(8390656,8,n,s)}function Vg(n,s){Ha(2048,8,n,s)}function Kg(n,s){return Ha(4,2,n,s)}function Jg(n,s){return Ha(4,4,n,s)}function Yg(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Xg(n,s,a){a=a!=null?a.concat([n]):null,Ha(4,4,Yg.bind(null,s,n),a)}function hf(){}function Zg(n,s){var a=ae();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&tf(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function $g(n,s){var a=ae();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&tf(s,l[1]))return l[0];if(l=n(),Si){Ss(!0);try{n()}finally{Ss(!1)}}return a.memoizedState=[l,s],l}function df(n,s,a){return a===void 0||(Cs&1073741824)!==0?n.memoizedState=s:(n.memoizedState=a,n=em(),pt.lanes|=n,Ps|=n,a)}function Wg(n,s,a,l){return Ze(a,s)?a:gr.current!==null?(n=df(n,a,l),Ze(n,s)||(ye=!0),n):(Cs&42)===0?(ye=!0,n.memoizedState=a):(n=em(),pt.lanes|=n,Ps|=n,s)}function ty(n,s,a,l,f){var d=z.p;z.p=d!==0&&8>d?d:8;var b=N.T,w={};N.T=w,yf(n,!1,s,a);try{var A=f(),B=N.S;if(B!==null&&B(w,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var P=O1(A,l);Ga(n,s,P,nn(n))}else Ga(n,s,l,nn(n))}catch(j){Ga(n,s,{then:function(){},status:"rejected",reason:j},nn())}finally{z.p=d,N.T=b}}function B1(){}function pf(n,s,a,l){if(n.tag!==5)throw Error(i(476));var f=ey(n).queue;ty(n,f,s,X,a===null?B1:function(){return ny(n),a(l)})}function ey(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:X},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function ny(n){var s=ey(n).next.queue;Ga(n,s,{},nn())}function gf(){return Re(ao)}function sy(){return ae().memoizedState}function iy(){return ae().memoizedState}function U1(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=nn();n=Ns(a);var l=Rs(s,n,a);l!==null&&(sn(l,s,a),La(l,s,a)),s={cache:Qc()},n.payload=s;return}s=s.return}}function D1(n,s,a){var l=nn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},_l(n)?ay(s,a):(a=Dc(n,s,a,l),a!==null&&(sn(a,n,l),oy(a,s,l)))}function ry(n,s,a){var l=nn();Ga(n,s,a,l)}function Ga(n,s,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(_l(n))ay(s,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var b=s.lastRenderedState,w=d(b,a);if(f.hasEagerState=!0,f.eagerState=w,Ze(w,b))return ll(n,s,f,0),zt===null&&ol(),!1}catch{}finally{}if(a=Dc(n,s,f,l),a!==null)return sn(a,n,l),oy(a,s,l),!0}return!1}function yf(n,s,a,l){if(l={lane:2,revertLane:Jf(),action:l,hasEagerState:!1,eagerState:null,next:null},_l(n)){if(s)throw Error(i(479))}else s=Dc(n,a,l,2),s!==null&&sn(s,n,2)}function _l(n){var s=n.alternate;return n===pt||s!==null&&s===pt}function ay(n,s){yr=wl=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function oy(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,gp(n,a)}}var xl={readContext:Re,use:Al,useCallback:ee,useContext:ee,useEffect:ee,useImperativeHandle:ee,useLayoutEffect:ee,useInsertionEffect:ee,useMemo:ee,useReducer:ee,useRef:ee,useState:ee,useDebugValue:ee,useDeferredValue:ee,useTransition:ee,useSyncExternalStore:ee,useId:ee,useHostTransitionStatus:ee,useFormState:ee,useActionState:ee,useOptimistic:ee,useMemoCache:ee,useCacheRefresh:ee},ly={readContext:Re,use:Al,useCallback:function(n,s){return Ge().memoizedState=[n,s===void 0?null:s],n},useContext:Re,useEffect:qg,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,Tl(4194308,4,Yg.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Tl(4194308,4,n,s)},useInsertionEffect:function(n,s){Tl(4,2,n,s)},useMemo:function(n,s){var a=Ge();s=s===void 0?null:s;var l=n();if(Si){Ss(!0);try{n()}finally{Ss(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=Ge();if(a!==void 0){var f=a(s);if(Si){Ss(!0);try{a(s)}finally{Ss(!1)}}}else f=s;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=D1.bind(null,pt,n),[l.memoizedState,n]},useRef:function(n){var s=Ge();return n={current:n},s.memoizedState=n},useState:function(n){n=cf(n);var s=n.queue,a=ry.bind(null,pt,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:hf,useDeferredValue:function(n,s){var a=Ge();return df(a,n,s)},useTransition:function(){var n=cf(!1);return n=ty.bind(null,pt,n.queue,!0,!1),Ge().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=pt,f=Ge();if(Ct){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),zt===null)throw Error(i(349));(_t&124)!==0||Rg(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,qg(kg.bind(null,l,d,n),[n]),l.flags|=2048,br(9,Sl(),Cg.bind(null,l,d,a,s),null),a},useId:function(){var n=Ge(),s=zt.identifierPrefix;if(Ct){var a=Xn,l=Yn;a=(l&~(1<<32-Xe(l)-1)).toString(32)+a,s="«"+s+"R"+a,a=vl++,0<a&&(s+="H"+a.toString(32)),s+="»"}else a=N1++,s="«"+s+"r"+a.toString(32)+"»";return n.memoizedState=s},useHostTransitionStatus:gf,useFormState:zg,useActionState:zg,useOptimistic:function(n){var s=Ge();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=yf.bind(null,pt,!0,a),a.dispatch=s,[n,s]},useMemoCache:of,useCacheRefresh:function(){return Ge().memoizedState=U1.bind(null,pt)}},uy={readContext:Re,use:Al,useCallback:Zg,useContext:Re,useEffect:Vg,useImperativeHandle:Xg,useInsertionEffect:Kg,useLayoutEffect:Jg,useMemo:$g,useReducer:El,useRef:Qg,useState:function(){return El(Wn)},useDebugValue:hf,useDeferredValue:function(n,s){var a=ae();return Wg(a,Mt.memoizedState,n,s)},useTransition:function(){var n=El(Wn)[0],s=ae().memoizedState;return[typeof n=="boolean"?n:za(n),s]},useSyncExternalStore:Ng,useId:sy,useHostTransitionStatus:gf,useFormState:Hg,useActionState:Hg,useOptimistic:function(n,s){var a=ae();return Dg(a,Mt,n,s)},useMemoCache:of,useCacheRefresh:iy},M1={readContext:Re,use:Al,useCallback:Zg,useContext:Re,useEffect:Vg,useImperativeHandle:Xg,useInsertionEffect:Kg,useLayoutEffect:Jg,useMemo:$g,useReducer:uf,useRef:Qg,useState:function(){return uf(Wn)},useDebugValue:hf,useDeferredValue:function(n,s){var a=ae();return Mt===null?df(a,n,s):Wg(a,Mt.memoizedState,n,s)},useTransition:function(){var n=uf(Wn)[0],s=ae().memoizedState;return[typeof n=="boolean"?n:za(n),s]},useSyncExternalStore:Ng,useId:sy,useHostTransitionStatus:gf,useFormState:Fg,useActionState:Fg,useOptimistic:function(n,s){var a=ae();return Mt!==null?Dg(a,Mt,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:of,useCacheRefresh:iy},wr=null,Fa=0;function Ol(n){var s=Fa;return Fa+=1,wr===null&&(wr=[]),vg(wr,n,s)}function Qa(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Nl(n,s){throw s.$$typeof===m?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function cy(n){var s=n._init;return s(n._payload)}function fy(n){function s(R,_){if(n){var C=R.deletions;C===null?(R.deletions=[_],R.flags|=16):C.push(_)}}function a(R,_){if(!n)return null;for(;_!==null;)s(R,_),_=_.sibling;return null}function l(R){for(var _=new Map;R!==null;)R.key!==null?_.set(R.key,R):_.set(R.index,R),R=R.sibling;return _}function f(R,_){return R=Jn(R,_),R.index=0,R.sibling=null,R}function d(R,_,C){return R.index=C,n?(C=R.alternate,C!==null?(C=C.index,C<_?(R.flags|=67108866,_):C):(R.flags|=67108866,_)):(R.flags|=1048576,_)}function b(R){return n&&R.alternate===null&&(R.flags|=67108866),R}function w(R,_,C,I){return _===null||_.tag!==6?(_=Lc(C,R.mode,I),_.return=R,_):(_=f(_,C),_.return=R,_)}function A(R,_,C,I){var et=C.type;return et===T?P(R,_,C.props.children,I,C.key):_!==null&&(_.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===Z&&cy(et)===_.type)?(_=f(_,C.props),Qa(_,C),_.return=R,_):(_=cl(C.type,C.key,C.props,null,R.mode,I),Qa(_,C),_.return=R,_)}function B(R,_,C,I){return _===null||_.tag!==4||_.stateNode.containerInfo!==C.containerInfo||_.stateNode.implementation!==C.implementation?(_=Pc(C,R.mode,I),_.return=R,_):(_=f(_,C.children||[]),_.return=R,_)}function P(R,_,C,I,et){return _===null||_.tag!==7?(_=gi(C,R.mode,I,et),_.return=R,_):(_=f(_,C),_.return=R,_)}function j(R,_,C){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Lc(""+_,R.mode,C),_.return=R,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case v:return C=cl(_.type,_.key,_.props,null,R.mode,C),Qa(C,_),C.return=R,C;case E:return _=Pc(_,R.mode,C),_.return=R,_;case Z:var I=_._init;return _=I(_._payload),j(R,_,C)}if(V(_)||At(_))return _=gi(_,R.mode,C,null),_.return=R,_;if(typeof _.then=="function")return j(R,Ol(_),C);if(_.$$typeof===L)return j(R,pl(R,_),C);Nl(R,_)}return null}function U(R,_,C,I){var et=_!==null?_.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return et!==null?null:w(R,_,""+C,I);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case v:return C.key===et?A(R,_,C,I):null;case E:return C.key===et?B(R,_,C,I):null;case Z:return et=C._init,C=et(C._payload),U(R,_,C,I)}if(V(C)||At(C))return et!==null?null:P(R,_,C,I,null);if(typeof C.then=="function")return U(R,_,Ol(C),I);if(C.$$typeof===L)return U(R,_,pl(R,C),I);Nl(R,C)}return null}function M(R,_,C,I,et){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return R=R.get(C)||null,w(_,R,""+I,et);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case v:return R=R.get(I.key===null?C:I.key)||null,A(_,R,I,et);case E:return R=R.get(I.key===null?C:I.key)||null,B(_,R,I,et);case Z:var gt=I._init;return I=gt(I._payload),M(R,_,C,I,et)}if(V(I)||At(I))return R=R.get(C)||null,P(_,R,I,et,null);if(typeof I.then=="function")return M(R,_,C,Ol(I),et);if(I.$$typeof===L)return M(R,_,C,pl(_,I),et);Nl(_,I)}return null}function lt(R,_,C,I){for(var et=null,gt=null,st=_,at=_=0,be=null;st!==null&&at<C.length;at++){st.index>at?(be=st,st=null):be=st.sibling;var xt=U(R,st,C[at],I);if(xt===null){st===null&&(st=be);break}n&&st&&xt.alternate===null&&s(R,st),_=d(xt,_,at),gt===null?et=xt:gt.sibling=xt,gt=xt,st=be}if(at===C.length)return a(R,st),Ct&&mi(R,at),et;if(st===null){for(;at<C.length;at++)st=j(R,C[at],I),st!==null&&(_=d(st,_,at),gt===null?et=st:gt.sibling=st,gt=st);return Ct&&mi(R,at),et}for(st=l(st);at<C.length;at++)be=M(st,R,at,C[at],I),be!==null&&(n&&be.alternate!==null&&st.delete(be.key===null?at:be.key),_=d(be,_,at),gt===null?et=be:gt.sibling=be,gt=be);return n&&st.forEach(function(Vs){return s(R,Vs)}),Ct&&mi(R,at),et}function rt(R,_,C,I){if(C==null)throw Error(i(151));for(var et=null,gt=null,st=_,at=_=0,be=null,xt=C.next();st!==null&&!xt.done;at++,xt=C.next()){st.index>at?(be=st,st=null):be=st.sibling;var Vs=U(R,st,xt.value,I);if(Vs===null){st===null&&(st=be);break}n&&st&&Vs.alternate===null&&s(R,st),_=d(Vs,_,at),gt===null?et=Vs:gt.sibling=Vs,gt=Vs,st=be}if(xt.done)return a(R,st),Ct&&mi(R,at),et;if(st===null){for(;!xt.done;at++,xt=C.next())xt=j(R,xt.value,I),xt!==null&&(_=d(xt,_,at),gt===null?et=xt:gt.sibling=xt,gt=xt);return Ct&&mi(R,at),et}for(st=l(st);!xt.done;at++,xt=C.next())xt=M(st,R,at,xt.value,I),xt!==null&&(n&&xt.alternate!==null&&st.delete(xt.key===null?at:xt.key),_=d(xt,_,at),gt===null?et=xt:gt.sibling=xt,gt=xt);return n&&st.forEach(function(LE){return s(R,LE)}),Ct&&mi(R,at),et}function Pt(R,_,C,I){if(typeof C=="object"&&C!==null&&C.type===T&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case v:t:{for(var et=C.key;_!==null;){if(_.key===et){if(et=C.type,et===T){if(_.tag===7){a(R,_.sibling),I=f(_,C.props.children),I.return=R,R=I;break t}}else if(_.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===Z&&cy(et)===_.type){a(R,_.sibling),I=f(_,C.props),Qa(I,C),I.return=R,R=I;break t}a(R,_);break}else s(R,_);_=_.sibling}C.type===T?(I=gi(C.props.children,R.mode,I,C.key),I.return=R,R=I):(I=cl(C.type,C.key,C.props,null,R.mode,I),Qa(I,C),I.return=R,R=I)}return b(R);case E:t:{for(et=C.key;_!==null;){if(_.key===et)if(_.tag===4&&_.stateNode.containerInfo===C.containerInfo&&_.stateNode.implementation===C.implementation){a(R,_.sibling),I=f(_,C.children||[]),I.return=R,R=I;break t}else{a(R,_);break}else s(R,_);_=_.sibling}I=Pc(C,R.mode,I),I.return=R,R=I}return b(R);case Z:return et=C._init,C=et(C._payload),Pt(R,_,C,I)}if(V(C))return lt(R,_,C,I);if(At(C)){if(et=At(C),typeof et!="function")throw Error(i(150));return C=et.call(C),rt(R,_,C,I)}if(typeof C.then=="function")return Pt(R,_,Ol(C),I);if(C.$$typeof===L)return Pt(R,_,pl(R,C),I);Nl(R,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,_!==null&&_.tag===6?(a(R,_.sibling),I=f(_,C),I.return=R,R=I):(a(R,_),I=Lc(C,R.mode,I),I.return=R,R=I),b(R)):a(R,_)}return function(R,_,C,I){try{Fa=0;var et=Pt(R,_,C,I);return wr=null,et}catch(st){if(st===Da||st===yl)throw st;var gt=$e(29,st,null,R.mode);return gt.lanes=I,gt.return=R,gt}finally{}}}var vr=fy(!0),hy=fy(!1),pn=Rt(null),Ln=null;function ks(n){var s=n.alternate;ut(ce,ce.current&1),ut(pn,n),Ln===null&&(s===null||gr.current!==null||s.memoizedState!==null)&&(Ln=n)}function dy(n){if(n.tag===22){if(ut(ce,ce.current),ut(pn,n),Ln===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(Ln=n)}}else Bs()}function Bs(){ut(ce,ce.current),ut(pn,pn.current)}function ts(n){Q(pn),Ln===n&&(Ln=null),Q(ce)}var ce=Rt(0);function Rl(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||ah(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function mf(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:y({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var bf={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=nn(),f=Ns(l);f.payload=s,a!=null&&(f.callback=a),s=Rs(n,f,l),s!==null&&(sn(s,n,l),La(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=nn(),f=Ns(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Rs(n,f,l),s!==null&&(sn(s,n,l),La(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=nn(),l=Ns(a);l.tag=2,s!=null&&(l.callback=s),s=Rs(n,l,a),s!==null&&(sn(s,n,a),La(s,n,a))}};function py(n,s,a,l,f,d,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,b):s.prototype&&s.prototype.isPureReactComponent?!xa(a,l)||!xa(f,d):!0}function gy(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&bf.enqueueReplaceState(s,s.state,null)}function Ti(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=y({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Cl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function yy(n){Cl(n)}function my(n){console.error(n)}function by(n){Cl(n)}function kl(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function wy(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function wf(n,s,a){return a=Ns(a),a.tag=3,a.payload={element:null},a.callback=function(){kl(n,s)},a}function vy(n){return n=Ns(n),n.tag=3,n}function Ay(n,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){wy(s,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(n.callback=function(){wy(s,a,l),typeof f!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function L1(n,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&ka(s,a,f,!0),a=pn.current,a!==null){switch(a.tag){case 13:return Ln===null?Ff():a.alternate===null&&Xt===0&&(Xt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Kc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),qf(n,l,f)),!1;case 22:return a.flags|=65536,l===Kc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),qf(n,l,f)),!1}throw Error(i(435,a.tag))}return qf(n,l,f),Ff(),!1}if(Ct)return s=pn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==zc&&(n=Error(i(422),{cause:l}),Ca(cn(n,a)))):(l!==zc&&(s=Error(i(423),{cause:l}),Ca(cn(s,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=cn(l,a),f=wf(n.stateNode,l,f),Xc(n,f),Xt!==4&&(Xt=2)),!1;var d=Error(i(520),{cause:l});if(d=cn(d,a),Za===null?Za=[d]:Za.push(d),Xt!==4&&(Xt=2),s===null)return!0;l=cn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=wf(a.stateNode,l,n),Xc(a,n),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Is===null||!Is.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=vy(f),Ay(f,n,a,l),Xc(a,f),!1}a=a.return}while(a!==null);return!1}var Ey=Error(i(461)),ye=!1;function Se(n,s,a,l){s.child=n===null?hy(s,null,a,l):vr(s,n.child,a,l)}function Sy(n,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var b={};for(var w in l)w!=="ref"&&(b[w]=l[w])}else b=l;return Ai(s),l=ef(n,s,a,b,d,f),w=nf(),n!==null&&!ye?(sf(n,s,f),es(n,s,f)):(Ct&&w&&Ic(s),s.flags|=1,Se(n,s,l,f),s.child)}function Ty(n,s,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!Mc(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,_y(n,s,d,l,f)):(n=cl(a.type,null,l,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(d=n.child,!Of(n,f)){var b=d.memoizedProps;if(a=a.compare,a=a!==null?a:xa,a(b,l)&&n.ref===s.ref)return es(n,s,f)}return s.flags|=1,n=Jn(d,l),n.ref=s.ref,n.return=s,s.child=n}function _y(n,s,a,l,f){if(n!==null){var d=n.memoizedProps;if(xa(d,l)&&n.ref===s.ref)if(ye=!1,s.pendingProps=l=d,Of(n,f))(n.flags&131072)!==0&&(ye=!0);else return s.lanes=n.lanes,es(n,s,f)}return vf(n,s,a,l,f)}function xy(n,s,a){var l=s.pendingProps,f=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(f=s.child=n.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;s.childLanes=d&~l}else s.childLanes=0,s.child=null;return Oy(n,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&gl(s,d!==null?d.cachePool:null),d!==null?_g(s,d):$c(),dy(s);else return s.lanes=s.childLanes=536870912,Oy(n,s,d!==null?d.baseLanes|a:a,a)}else d!==null?(gl(s,d.cachePool),_g(s,d),Bs(),s.memoizedState=null):(n!==null&&gl(s,null),$c(),Bs());return Se(n,s,f,a),s.child}function Oy(n,s,a,l){var f=Vc();return f=f===null?null:{parent:ue._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},n!==null&&gl(s,null),$c(),dy(s),n!==null&&ka(n,s,l,!0),null}function Bl(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function vf(n,s,a,l,f){return Ai(s),a=ef(n,s,a,l,void 0,f),l=nf(),n!==null&&!ye?(sf(n,s,f),es(n,s,f)):(Ct&&l&&Ic(s),s.flags|=1,Se(n,s,a,f),s.child)}function Ny(n,s,a,l,f,d){return Ai(s),s.updateQueue=null,a=Og(s,l,a,f),xg(n),l=nf(),n!==null&&!ye?(sf(n,s,d),es(n,s,d)):(Ct&&l&&Ic(s),s.flags|=1,Se(n,s,a,d),s.child)}function Ry(n,s,a,l,f){if(Ai(s),s.stateNode===null){var d=cr,b=a.contextType;typeof b=="object"&&b!==null&&(d=Re(b)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=bf,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},Jc(s),b=a.contextType,d.context=typeof b=="object"&&b!==null?Re(b):cr,d.state=s.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(mf(s,a,b,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(b=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),b!==d.state&&bf.enqueueReplaceState(d,d.state,null),Ia(s,l,d,f),Pa(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){d=s.stateNode;var w=s.memoizedProps,A=Ti(a,w);d.props=A;var B=d.context,P=a.contextType;b=cr,typeof P=="object"&&P!==null&&(b=Re(P));var j=a.getDerivedStateFromProps;P=typeof j=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,P||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||B!==b)&&gy(s,d,l,b),Os=!1;var U=s.memoizedState;d.state=U,Ia(s,l,d,f),Pa(),B=s.memoizedState,w||U!==B||Os?(typeof j=="function"&&(mf(s,a,j,l),B=s.memoizedState),(A=Os||py(s,a,A,l,U,B,b))?(P||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=B),d.props=l,d.state=B,d.context=b,l=A):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,Yc(n,s),b=s.memoizedProps,P=Ti(a,b),d.props=P,j=s.pendingProps,U=d.context,B=a.contextType,A=cr,typeof B=="object"&&B!==null&&(A=Re(B)),w=a.getDerivedStateFromProps,(B=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b!==j||U!==A)&&gy(s,d,l,A),Os=!1,U=s.memoizedState,d.state=U,Ia(s,l,d,f),Pa();var M=s.memoizedState;b!==j||U!==M||Os||n!==null&&n.dependencies!==null&&dl(n.dependencies)?(typeof w=="function"&&(mf(s,a,w,l),M=s.memoizedState),(P=Os||py(s,a,P,l,U,M,A)||n!==null&&n.dependencies!==null&&dl(n.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,M,A),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,M,A)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||b===n.memoizedProps&&U===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&U===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=M),d.props=l,d.state=M,d.context=A,l=P):(typeof d.componentDidUpdate!="function"||b===n.memoizedProps&&U===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&U===n.memoizedState||(s.flags|=1024),l=!1)}return d=l,Bl(n,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,n!==null&&l?(s.child=vr(s,n.child,null,f),s.child=vr(s,null,a,f)):Se(n,s,a,f),s.memoizedState=d.state,n=s.child):n=es(n,s,f),n}function Cy(n,s,a,l){return Ra(),s.flags|=256,Se(n,s,a,l),s.child}var Af={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ef(n){return{baseLanes:n,cachePool:mg()}}function Sf(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=gn),n}function ky(n,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,b;if((b=d)||(b=n!==null&&n.memoizedState===null?!1:(ce.current&2)!==0),b&&(f=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ct){if(f?ks(s):Bs(),Ct){var w=Yt,A;if(A=w){t:{for(A=w,w=Mn;A.nodeType!==8;){if(!w){w=null;break t}if(A=Sn(A.nextSibling),A===null){w=null;break t}}w=A}w!==null?(s.memoizedState={dehydrated:w,treeContext:yi!==null?{id:Yn,overflow:Xn}:null,retryLane:536870912,hydrationErrors:null},A=$e(18,null,null,0),A.stateNode=w,A.return=s,s.child=A,Ce=s,Yt=null,A=!0):A=!1}A||wi(s)}if(w=s.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return ah(w)?s.lanes=32:s.lanes=536870912,null;ts(s)}return w=l.children,l=l.fallback,f?(Bs(),f=s.mode,w=Ul({mode:"hidden",children:w},f),l=gi(l,f,a,null),w.return=s,l.return=s,w.sibling=l,s.child=w,f=s.child,f.memoizedState=Ef(a),f.childLanes=Sf(n,b,a),s.memoizedState=Af,l):(ks(s),Tf(s,w))}if(A=n.memoizedState,A!==null&&(w=A.dehydrated,w!==null)){if(d)s.flags&256?(ks(s),s.flags&=-257,s=_f(n,s,a)):s.memoizedState!==null?(Bs(),s.child=n.child,s.flags|=128,s=null):(Bs(),f=l.fallback,w=s.mode,l=Ul({mode:"visible",children:l.children},w),f=gi(f,w,a,null),f.flags|=2,l.return=s,f.return=s,l.sibling=f,s.child=l,vr(s,n.child,null,a),l=s.child,l.memoizedState=Ef(a),l.childLanes=Sf(n,b,a),s.memoizedState=Af,s=f);else if(ks(s),ah(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var B=b.dgst;b=B,l=Error(i(419)),l.stack="",l.digest=b,Ca({value:l,source:null,stack:null}),s=_f(n,s,a)}else if(ye||ka(n,s,a,!1),b=(a&n.childLanes)!==0,ye||b){if(b=zt,b!==null&&(l=a&-a,l=(l&42)!==0?1:ac(l),l=(l&(b.suspendedLanes|a))!==0?0:l,l!==0&&l!==A.retryLane))throw A.retryLane=l,ur(n,l),sn(b,n,l),Ey;w.data==="$?"||Ff(),s=_f(n,s,a)}else w.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=A.treeContext,Yt=Sn(w.nextSibling),Ce=s,Ct=!0,bi=null,Mn=!1,n!==null&&(hn[dn++]=Yn,hn[dn++]=Xn,hn[dn++]=yi,Yn=n.id,Xn=n.overflow,yi=s),s=Tf(s,l.children),s.flags|=4096);return s}return f?(Bs(),f=l.fallback,w=s.mode,A=n.child,B=A.sibling,l=Jn(A,{mode:"hidden",children:l.children}),l.subtreeFlags=A.subtreeFlags&65011712,B!==null?f=Jn(B,f):(f=gi(f,w,a,null),f.flags|=2),f.return=s,l.return=s,l.sibling=f,s.child=l,l=f,f=s.child,w=n.child.memoizedState,w===null?w=Ef(a):(A=w.cachePool,A!==null?(B=ue._currentValue,A=A.parent!==B?{parent:B,pool:B}:A):A=mg(),w={baseLanes:w.baseLanes|a,cachePool:A}),f.memoizedState=w,f.childLanes=Sf(n,b,a),s.memoizedState=Af,l):(ks(s),a=n.child,n=a.sibling,a=Jn(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(b=s.deletions,b===null?(s.deletions=[n],s.flags|=16):b.push(n)),s.child=a,s.memoizedState=null,a)}function Tf(n,s){return s=Ul({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Ul(n,s){return n=$e(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function _f(n,s,a){return vr(s,n.child,null,a),n=Tf(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function By(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),Gc(n.return,s,a)}function xf(n,s,a,l,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=s,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function Uy(n,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;if(Se(n,s,l.children,a),l=ce.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&By(n,a,s);else if(n.tag===19)By(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(ut(ce,l),f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&Rl(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),xf(s,!1,f,a,d);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&Rl(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}xf(s,!0,a,null,d);break;case"together":xf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function es(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),Ps|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(ka(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,a=Jn(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Jn(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Of(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&dl(n)))}function P1(n,s,a){switch(s.tag){case 3:As(s,s.stateNode.containerInfo),xs(s,ue,n.memoizedState.cache),Ra();break;case 27:case 5:Bn(s);break;case 4:As(s,s.stateNode.containerInfo);break;case 10:xs(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(ks(s),s.flags|=128,null):(a&s.child.childLanes)!==0?ky(n,s,a):(ks(s),n=es(n,s,a),n!==null?n.sibling:null);ks(s);break;case 19:var f=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(ka(n,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return Uy(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ut(ce,ce.current),l)break;return null;case 22:case 23:return s.lanes=0,xy(n,s,a);case 24:xs(s,ue,n.memoizedState.cache)}return es(n,s,a)}function Dy(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)ye=!0;else{if(!Of(n,a)&&(s.flags&128)===0)return ye=!1,P1(n,s,a);ye=(n.flags&131072)!==0}else ye=!1,Ct&&(s.flags&1048576)!==0&&cg(s,hl,s.index);switch(s.lanes=0,s.tag){case 16:t:{n=s.pendingProps;var l=s.elementType,f=l._init;if(l=f(l._payload),s.type=l,typeof l=="function")Mc(l)?(n=Ti(l,n),s.tag=1,s=Ry(null,s,l,n,a)):(s.tag=0,s=vf(null,s,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===F){s.tag=11,s=Sy(null,s,l,n,a);break t}else if(f===J){s.tag=14,s=Ty(null,s,l,n,a);break t}}throw s=pe(l)||l,Error(i(306,s,""))}}return s;case 0:return vf(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=Ti(l,s.pendingProps),Ry(n,s,l,f,a);case 3:t:{if(As(s,s.stateNode.containerInfo),n===null)throw Error(i(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,Yc(n,s),Ia(s,l,null,a);var b=s.memoizedState;if(l=b.cache,xs(s,ue,l),l!==d.cache&&Fc(s,[ue],a,!0),Pa(),l=b.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=Cy(n,s,l,a);break t}else if(l!==f){f=cn(Error(i(424)),s),Ca(f),s=Cy(n,s,l,a);break t}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Yt=Sn(n.firstChild),Ce=s,Ct=!0,bi=null,Mn=!0,a=hy(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ra(),l===f){s=es(n,s,a);break t}Se(n,s,l,a)}s=s.child}return s;case 26:return Bl(n,s),n===null?(a=Im(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ct||(a=s.type,n=s.pendingProps,l=Kl(Pe.current).createElement(a),l[Ne]=s,l[ze]=n,_e(l,a,n),ge(l),s.stateNode=l):s.memoizedState=Im(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Bn(s),n===null&&Ct&&(l=s.stateNode=Mm(s.type,s.pendingProps,Pe.current),Ce=s,Mn=!0,f=Yt,Hs(s.type)?(oh=f,Yt=Sn(l.firstChild)):Yt=f),Se(n,s,s.pendingProps.children,a),Bl(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Ct&&((f=l=Yt)&&(l=fE(l,s.type,s.pendingProps,Mn),l!==null?(s.stateNode=l,Ce=s,Yt=Sn(l.firstChild),Mn=!1,f=!0):f=!1),f||wi(s)),Bn(s),f=s.type,d=s.pendingProps,b=n!==null?n.memoizedProps:null,l=d.children,sh(f,d)?l=null:b!==null&&sh(f,b)&&(s.flags|=32),s.memoizedState!==null&&(f=ef(n,s,R1,null,null,a),ao._currentValue=f),Bl(n,s),Se(n,s,l,a),s.child;case 6:return n===null&&Ct&&((n=a=Yt)&&(a=hE(a,s.pendingProps,Mn),a!==null?(s.stateNode=a,Ce=s,Yt=null,n=!0):n=!1),n||wi(s)),null;case 13:return ky(n,s,a);case 4:return As(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=vr(s,null,l,a):Se(n,s,l,a),s.child;case 11:return Sy(n,s,s.type,s.pendingProps,a);case 7:return Se(n,s,s.pendingProps,a),s.child;case 8:return Se(n,s,s.pendingProps.children,a),s.child;case 12:return Se(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,xs(s,s.type,l.value),Se(n,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Ai(s),f=Re(f),l=l(f),s.flags|=1,Se(n,s,l,a),s.child;case 14:return Ty(n,s,s.type,s.pendingProps,a);case 15:return _y(n,s,s.type,s.pendingProps,a);case 19:return Uy(n,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},n===null?(a=Ul(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Jn(n.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return xy(n,s,a);case 24:return Ai(s),l=Re(ue),n===null?(f=Vc(),f===null&&(f=zt,d=Qc(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},Jc(s),xs(s,ue,f)):((n.lanes&a)!==0&&(Yc(n,s),Ia(s,null,null,a),Pa()),f=n.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),xs(s,ue,l)):(l=d.cache,xs(s,ue,l),l!==f.cache&&Fc(s,[ue],a,!0))),Se(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ns(n){n.flags|=4}function My(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Fm(s)){if(s=pn.current,s!==null&&((_t&4194048)===_t?Ln!==null:(_t&62914560)!==_t&&(_t&536870912)===0||s!==Ln))throw Ma=Kc,bg;n.flags|=8192}}function Dl(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?dp():536870912,n.lanes|=s,Tr|=s)}function qa(n,s){if(!Ct)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function Kt(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function I1(n,s,a){var l=s.pendingProps;switch(jc(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(s),null;case 1:return Kt(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),$n(ue),Ie(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Na(s)?ns(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,dg())),Kt(s),null;case 26:return a=s.memoizedState,n===null?(ns(s),a!==null?(Kt(s),My(s,a)):(Kt(s),s.flags&=-16777217)):a?a!==n.memoizedState?(ns(s),Kt(s),My(s,a)):(Kt(s),s.flags&=-16777217):(n.memoizedProps!==l&&ns(s),Kt(s),s.flags&=-16777217),null;case 27:ui(s),a=Pe.current;var f=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==l&&ns(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return Kt(s),null}n=kt.current,Na(s)?fg(s):(n=Mm(f,l,a),s.stateNode=n,ns(s))}return Kt(s),null;case 5:if(ui(s),a=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&ns(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return Kt(s),null}if(n=kt.current,Na(s))fg(s);else{switch(f=Kl(Pe.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[Ne]=s,n[ze]=l;t:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break t;for(;f.sibling===null;){if(f.return===null||f.return===s)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=n;t:switch(_e(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&ns(s)}}return Kt(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&ns(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(i(166));if(n=Pe.current,Na(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,f=Ce,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Ne]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Nm(n.nodeValue,a)),n||wi(s)}else n=Kl(n).createTextNode(l),n[Ne]=s,s.stateNode=n}return Kt(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Na(s),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Ne]=s}else Ra(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Kt(s),f=!1}else f=dg(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(ts(s),s):(ts(s),null)}if(ts(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==n&&a&&(s.child.flags|=8192),Dl(s,s.updateQueue),Kt(s),null;case 4:return Ie(),n===null&&$f(s.stateNode.containerInfo),Kt(s),null;case 10:return $n(s.type),Kt(s),null;case 19:if(Q(ce),f=s.memoizedState,f===null)return Kt(s),null;if(l=(s.flags&128)!==0,d=f.rendering,d===null)if(l)qa(f,!1);else{if(Xt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(d=Rl(n),d!==null){for(s.flags|=128,qa(f,!1),n=d.updateQueue,s.updateQueue=n,Dl(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)ug(a,n),a=a.sibling;return ut(ce,ce.current&1|2),s.child}n=n.sibling}f.tail!==null&&Dn()>Pl&&(s.flags|=128,l=!0,qa(f,!1),s.lanes=4194304)}else{if(!l)if(n=Rl(d),n!==null){if(s.flags|=128,l=!0,n=n.updateQueue,s.updateQueue=n,Dl(s,n),qa(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Ct)return Kt(s),null}else 2*Dn()-f.renderingStartTime>Pl&&a!==536870912&&(s.flags|=128,l=!0,qa(f,!1),s.lanes=4194304);f.isBackwards?(d.sibling=s.child,s.child=d):(n=f.last,n!==null?n.sibling=d:s.child=d,f.last=d)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Dn(),s.sibling=null,n=ce.current,ut(ce,l?n&1|2:n&1),s):(Kt(s),null);case 22:case 23:return ts(s),Wc(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(Kt(s),s.subtreeFlags&6&&(s.flags|=8192)):Kt(s),a=s.updateQueue,a!==null&&Dl(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&Q(Ei),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),$n(ue),Kt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function j1(n,s){switch(jc(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return $n(ue),Ie(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return ui(s),null;case 13:if(ts(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Ra()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Q(ce),null;case 4:return Ie(),null;case 10:return $n(s.type),null;case 22:case 23:return ts(s),Wc(),n!==null&&Q(Ei),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return $n(ue),null;case 25:return null;default:return null}}function Ly(n,s){switch(jc(s),s.tag){case 3:$n(ue),Ie();break;case 26:case 27:case 5:ui(s);break;case 4:Ie();break;case 13:ts(s);break;case 19:Q(ce);break;case 10:$n(s.type);break;case 22:case 23:ts(s),Wc(),n!==null&&Q(Ei);break;case 24:$n(ue)}}function Va(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,b=a.inst;l=d(),b.destroy=l}a=a.next}while(a!==f)}}catch(w){jt(s,s.return,w)}}function Us(n,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var b=l.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,f=s;var A=a,B=w;try{B()}catch(P){jt(f,A,P)}}}l=l.next}while(l!==d)}}catch(P){jt(s,s.return,P)}}function Py(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{Tg(s,a)}catch(l){jt(n,n.return,l)}}}function Iy(n,s,a){a.props=Ti(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){jt(n,s,l)}}function Ka(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){jt(n,s,f)}}function Pn(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){jt(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){jt(n,s,f)}else a.current=null}function jy(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){jt(n,n.return,f)}}function Nf(n,s,a){try{var l=n.stateNode;aE(l,n.type,a,s),l[ze]=s}catch(f){jt(n,n.return,f)}}function zy(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Hs(n.type)||n.tag===4}function Rf(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||zy(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Hs(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Cf(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Vl));else if(l!==4&&(l===27&&Hs(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(Cf(n,s,a),n=n.sibling;n!==null;)Cf(n,s,a),n=n.sibling}function Ml(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&Hs(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Ml(n,s,a),n=n.sibling;n!==null;)Ml(n,s,a),n=n.sibling}function Hy(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);_e(s,l,a),s[Ne]=n,s[ze]=a}catch(d){jt(n,n.return,d)}}var ss=!1,ne=!1,kf=!1,Gy=typeof WeakSet=="function"?WeakSet:Set,me=null;function z1(n,s){if(n=n.containerInfo,eh=Wl,n=Wp(n),Nc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var b=0,w=-1,A=-1,B=0,P=0,j=n,U=null;e:for(;;){for(var M;j!==a||f!==0&&j.nodeType!==3||(w=b+f),j!==d||l!==0&&j.nodeType!==3||(A=b+l),j.nodeType===3&&(b+=j.nodeValue.length),(M=j.firstChild)!==null;)U=j,j=M;for(;;){if(j===n)break e;if(U===a&&++B===f&&(w=b),U===d&&++P===l&&(A=b),(M=j.nextSibling)!==null)break;j=U,U=j.parentNode}j=M}a=w===-1||A===-1?null:{start:w,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(nh={focusedElem:n,selectionRange:a},Wl=!1,me=s;me!==null;)if(s=me,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,me=n;else for(;me!==null;){switch(s=me,d=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var lt=Ti(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(lt,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(rt){jt(a,a.return,rt)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)rh(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":rh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,me=n;break}me=s.return}}function Fy(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ds(n,a),l&4&&Va(5,a);break;case 1:if(Ds(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(b){jt(a,a.return,b)}else{var f=Ti(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(b){jt(a,a.return,b)}}l&64&&Py(a),l&512&&Ka(a,a.return);break;case 3:if(Ds(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Tg(n,s)}catch(b){jt(a,a.return,b)}}break;case 27:s===null&&l&4&&Hy(a);case 26:case 5:Ds(n,a),s===null&&l&4&&jy(a),l&512&&Ka(a,a.return);break;case 12:Ds(n,a);break;case 13:Ds(n,a),l&4&&Vy(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=Y1.bind(null,a),dE(n,a))));break;case 22:if(l=a.memoizedState!==null||ss,!l){s=s!==null&&s.memoizedState!==null||ne,f=ss;var d=ne;ss=l,(ne=s)&&!d?Ms(n,a,(a.subtreeFlags&8772)!==0):Ds(n,a),ss=f,ne=d}break;case 30:break;default:Ds(n,a)}}function Qy(n){var s=n.alternate;s!==null&&(n.alternate=null,Qy(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&uc(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var qt=null,Fe=!1;function is(n,s,a){for(a=a.child;a!==null;)qy(n,s,a),a=a.sibling}function qy(n,s,a){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(pa,a)}catch{}switch(a.tag){case 26:ne||Pn(a,s),is(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ne||Pn(a,s);var l=qt,f=Fe;Hs(a.type)&&(qt=a.stateNode,Fe=!1),is(n,s,a),no(a.stateNode),qt=l,Fe=f;break;case 5:ne||Pn(a,s);case 6:if(l=qt,f=Fe,qt=null,is(n,s,a),qt=l,Fe=f,qt!==null)if(Fe)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(a.stateNode)}catch(d){jt(a,s,d)}else try{qt.removeChild(a.stateNode)}catch(d){jt(a,s,d)}break;case 18:qt!==null&&(Fe?(n=qt,Um(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),co(n)):Um(qt,a.stateNode));break;case 4:l=qt,f=Fe,qt=a.stateNode.containerInfo,Fe=!0,is(n,s,a),qt=l,Fe=f;break;case 0:case 11:case 14:case 15:ne||Us(2,a,s),ne||Us(4,a,s),is(n,s,a);break;case 1:ne||(Pn(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Iy(a,s,l)),is(n,s,a);break;case 21:is(n,s,a);break;case 22:ne=(l=ne)||a.memoizedState!==null,is(n,s,a),ne=l;break;default:is(n,s,a)}}function Vy(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{co(n)}catch(a){jt(s,s.return,a)}}function H1(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Gy),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Gy),s;default:throw Error(i(435,n.tag))}}function Bf(n,s){var a=H1(n);s.forEach(function(l){var f=X1.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function We(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,b=s,w=b;t:for(;w!==null;){switch(w.tag){case 27:if(Hs(w.type)){qt=w.stateNode,Fe=!1;break t}break;case 5:qt=w.stateNode,Fe=!1;break t;case 3:case 4:qt=w.stateNode.containerInfo,Fe=!0;break t}w=w.return}if(qt===null)throw Error(i(160));qy(d,b,f),qt=null,Fe=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Ky(s,n),s=s.sibling}var En=null;function Ky(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:We(s,n),tn(n),l&4&&(Us(3,n,n.return),Va(3,n),Us(5,n,n.return));break;case 1:We(s,n),tn(n),l&512&&(ne||a===null||Pn(a,a.return)),l&64&&ss&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=En;if(We(s,n),tn(n),l&512&&(ne||a===null||Pn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){t:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[ma]||d[Ne]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),_e(d,l,a),d[Ne]=n,ge(d),l=d;break t;case"link":var b=Hm("link","href",f).get(l+(a.href||""));if(b){for(var w=0;w<b.length;w++)if(d=b[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(w,1);break e}}d=f.createElement(l),_e(d,l,a),f.head.appendChild(d);break;case"meta":if(b=Hm("meta","content",f).get(l+(a.content||""))){for(w=0;w<b.length;w++)if(d=b[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(w,1);break e}}d=f.createElement(l),_e(d,l,a),f.head.appendChild(d);break;default:throw Error(i(468,l))}d[Ne]=n,ge(d),l=d}n.stateNode=l}else Gm(f,n.type,n.stateNode);else n.stateNode=zm(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Gm(f,n.type,n.stateNode):zm(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Nf(n,n.memoizedProps,a.memoizedProps)}break;case 27:We(s,n),tn(n),l&512&&(ne||a===null||Pn(a,a.return)),a!==null&&l&4&&Nf(n,n.memoizedProps,a.memoizedProps);break;case 5:if(We(s,n),tn(n),l&512&&(ne||a===null||Pn(a,a.return)),n.flags&32){f=n.stateNode;try{nr(f,"")}catch(M){jt(n,n.return,M)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Nf(n,f,a!==null?a.memoizedProps:f)),l&1024&&(kf=!0);break;case 6:if(We(s,n),tn(n),l&4){if(n.stateNode===null)throw Error(i(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(M){jt(n,n.return,M)}}break;case 3:if(Xl=null,f=En,En=Jl(s.containerInfo),We(s,n),En=f,tn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{co(s.containerInfo)}catch(M){jt(n,n.return,M)}kf&&(kf=!1,Jy(n));break;case 4:l=En,En=Jl(n.stateNode.containerInfo),We(s,n),tn(n),En=l;break;case 12:We(s,n),tn(n);break;case 13:We(s,n),tn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(If=Dn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Bf(n,l)));break;case 22:f=n.memoizedState!==null;var A=a!==null&&a.memoizedState!==null,B=ss,P=ne;if(ss=B||f,ne=P||A,We(s,n),ne=P,ss=B,tn(n),l&8192)t:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||A||ss||ne||_i(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){A=a=s;try{if(d=A.stateNode,f)b=d.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=A.stateNode;var j=A.memoizedProps.style,U=j!=null&&j.hasOwnProperty("display")?j.display:null;w.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(M){jt(A,A.return,M)}}}else if(s.tag===6){if(a===null){A=s;try{A.stateNode.nodeValue=f?"":A.memoizedProps}catch(M){jt(A,A.return,M)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Bf(n,a))));break;case 19:We(s,n),tn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Bf(n,l)));break;case 30:break;case 21:break;default:We(s,n),tn(n)}}function tn(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if(zy(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var f=a.stateNode,d=Rf(n);Ml(n,d,f);break;case 5:var b=a.stateNode;a.flags&32&&(nr(b,""),a.flags&=-33);var w=Rf(n);Ml(n,w,b);break;case 3:case 4:var A=a.stateNode.containerInfo,B=Rf(n);Cf(n,B,A);break;default:throw Error(i(161))}}catch(P){jt(n,n.return,P)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Jy(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;Jy(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Ds(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Fy(n,s.alternate,s),s=s.sibling}function _i(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Us(4,s,s.return),_i(s);break;case 1:Pn(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Iy(s,s.return,a),_i(s);break;case 27:no(s.stateNode);case 26:case 5:Pn(s,s.return),_i(s);break;case 22:s.memoizedState===null&&_i(s);break;case 30:_i(s);break;default:_i(s)}n=n.sibling}}function Ms(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=n,d=s,b=d.flags;switch(d.tag){case 0:case 11:case 15:Ms(f,d,a),Va(4,d);break;case 1:if(Ms(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){jt(l,l.return,B)}if(l=d,f=l.updateQueue,f!==null){var w=l.stateNode;try{var A=f.shared.hiddenCallbacks;if(A!==null)for(f.shared.hiddenCallbacks=null,f=0;f<A.length;f++)Sg(A[f],w)}catch(B){jt(l,l.return,B)}}a&&b&64&&Py(d),Ka(d,d.return);break;case 27:Hy(d);case 26:case 5:Ms(f,d,a),a&&l===null&&b&4&&jy(d),Ka(d,d.return);break;case 12:Ms(f,d,a);break;case 13:Ms(f,d,a),a&&b&4&&Vy(f,d);break;case 22:d.memoizedState===null&&Ms(f,d,a),Ka(d,d.return);break;case 30:break;default:Ms(f,d,a)}s=s.sibling}}function Uf(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Ba(a))}function Df(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Ba(n))}function In(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Yy(n,s,a,l),s=s.sibling}function Yy(n,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:In(n,s,a,l),f&2048&&Va(9,s);break;case 1:In(n,s,a,l);break;case 3:In(n,s,a,l),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Ba(n)));break;case 12:if(f&2048){In(n,s,a,l),n=s.stateNode;try{var d=s.memoizedProps,b=d.id,w=d.onPostCommit;typeof w=="function"&&w(b,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(A){jt(s,s.return,A)}}else In(n,s,a,l);break;case 13:In(n,s,a,l);break;case 23:break;case 22:d=s.stateNode,b=s.alternate,s.memoizedState!==null?d._visibility&2?In(n,s,a,l):Ja(n,s):d._visibility&2?In(n,s,a,l):(d._visibility|=2,Ar(n,s,a,l,(s.subtreeFlags&10256)!==0)),f&2048&&Uf(b,s);break;case 24:In(n,s,a,l),f&2048&&Df(s.alternate,s);break;default:In(n,s,a,l)}}function Ar(n,s,a,l,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var d=n,b=s,w=a,A=l,B=b.flags;switch(b.tag){case 0:case 11:case 15:Ar(d,b,w,A,f),Va(8,b);break;case 23:break;case 22:var P=b.stateNode;b.memoizedState!==null?P._visibility&2?Ar(d,b,w,A,f):Ja(d,b):(P._visibility|=2,Ar(d,b,w,A,f)),f&&B&2048&&Uf(b.alternate,b);break;case 24:Ar(d,b,w,A,f),f&&B&2048&&Df(b.alternate,b);break;default:Ar(d,b,w,A,f)}s=s.sibling}}function Ja(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,f=l.flags;switch(l.tag){case 22:Ja(a,l),f&2048&&Uf(l.alternate,l);break;case 24:Ja(a,l),f&2048&&Df(l.alternate,l);break;default:Ja(a,l)}s=s.sibling}}var Ya=8192;function Er(n){if(n.subtreeFlags&Ya)for(n=n.child;n!==null;)Xy(n),n=n.sibling}function Xy(n){switch(n.tag){case 26:Er(n),n.flags&Ya&&n.memoizedState!==null&&xE(En,n.memoizedState,n.memoizedProps);break;case 5:Er(n);break;case 3:case 4:var s=En;En=Jl(n.stateNode.containerInfo),Er(n),En=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=Ya,Ya=16777216,Er(n),Ya=s):Er(n));break;default:Er(n)}}function Zy(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Xa(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];me=l,Wy(l,n)}Zy(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)$y(n),n=n.sibling}function $y(n){switch(n.tag){case 0:case 11:case 15:Xa(n),n.flags&2048&&Us(9,n,n.return);break;case 3:Xa(n);break;case 12:Xa(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Ll(n)):Xa(n);break;default:Xa(n)}}function Ll(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];me=l,Wy(l,n)}Zy(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Us(8,s,s.return),Ll(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Ll(s));break;default:Ll(s)}n=n.sibling}}function Wy(n,s){for(;me!==null;){var a=me;switch(a.tag){case 0:case 11:case 15:Us(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ba(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,me=l;else t:for(a=n;me!==null;){l=me;var f=l.sibling,d=l.return;if(Qy(l),l===a){me=null;break t}if(f!==null){f.return=d,me=f;break t}me=d}}}var G1={getCacheForType:function(n){var s=Re(ue),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a}},F1=typeof WeakMap=="function"?WeakMap:Map,Ut=0,zt=null,bt=null,_t=0,Dt=0,en=null,Ls=!1,Sr=!1,Mf=!1,rs=0,Xt=0,Ps=0,xi=0,Lf=0,gn=0,Tr=0,Za=null,Qe=null,Pf=!1,If=0,Pl=1/0,Il=null,Is=null,Te=0,js=null,_r=null,xr=0,jf=0,zf=null,tm=null,$a=0,Hf=null;function nn(){if((Ut&2)!==0&&_t!==0)return _t&-_t;if(N.T!==null){var n=dr;return n!==0?n:Jf()}return yp()}function em(){gn===0&&(gn=(_t&536870912)===0||Ct?hp():536870912);var n=pn.current;return n!==null&&(n.flags|=32),gn}function sn(n,s,a){(n===zt&&(Dt===2||Dt===9)||n.cancelPendingCommit!==null)&&(Or(n,0),zs(n,_t,gn,!1)),ya(n,a),((Ut&2)===0||n!==zt)&&(n===zt&&((Ut&2)===0&&(xi|=a),Xt===4&&zs(n,_t,gn,!1)),jn(n))}function nm(n,s,a){if((Ut&6)!==0)throw Error(i(327));var l=!a&&(s&124)===0&&(s&n.expiredLanes)===0||ga(n,s),f=l?V1(n,s):Qf(n,s,!0),d=l;do{if(f===0){Sr&&!l&&zs(n,s,0,!1);break}else{if(a=n.current.alternate,d&&!Q1(a)){f=Qf(n,s,!1),d=!1;continue}if(f===2){if(d=s,n.errorRecoveryDisabledLanes&d)var b=0;else b=n.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;t:{var w=n;f=Za;var A=w.current.memoizedState.isDehydrated;if(A&&(Or(w,b).flags|=256),b=Qf(w,b,!1),b!==2){if(Mf&&!A){w.errorRecoveryDisabledLanes|=d,xi|=d,f=4;break t}d=Qe,Qe=f,d!==null&&(Qe===null?Qe=d:Qe.push.apply(Qe,d))}f=b}if(d=!1,f!==2)continue}}if(f===1){Or(n,0),zs(n,s,0,!0);break}t:{switch(l=n,d=f,d){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:zs(l,s,gn,!Ls);break t;case 2:Qe=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=If+300-Dn(),10<f)){if(zs(l,s,gn,!Ls),Yo(l,0,!0)!==0)break t;l.timeoutHandle=km(sm.bind(null,l,a,Qe,Il,Pf,s,gn,xi,Tr,Ls,d,2,-0,0),f);break t}sm(l,a,Qe,Il,Pf,s,gn,xi,Tr,Ls,d,0,-0,0)}}break}while(!0);jn(n)}function sm(n,s,a,l,f,d,b,w,A,B,P,j,U,M){if(n.timeoutHandle=-1,j=s.subtreeFlags,(j&8192||(j&16785408)===16785408)&&(ro={stylesheets:null,count:0,unsuspend:_E},Xy(s),j=OE(),j!==null)){n.cancelPendingCommit=j(cm.bind(null,n,s,d,a,l,f,b,w,A,P,1,U,M)),zs(n,d,b,!B);return}cm(n,s,d,a,l,f,b,w,A)}function Q1(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Ze(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function zs(n,s,a,l){s&=~Lf,s&=~xi,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var f=s;0<f;){var d=31-Xe(f),b=1<<d;l[d]=-1,f&=~b}a!==0&&pp(n,a,s)}function jl(){return(Ut&6)===0?(Wa(0),!1):!0}function Gf(){if(bt!==null){if(Dt===0)var n=bt.return;else n=bt,Zn=vi=null,rf(n),wr=null,Fa=0,n=bt;for(;n!==null;)Ly(n.alternate,n),n=n.return;bt=null}}function Or(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,lE(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Gf(),zt=n,bt=a=Jn(n.current,null),_t=s,Dt=0,en=null,Ls=!1,Sr=ga(n,s),Mf=!1,Tr=gn=Lf=xi=Ps=Xt=0,Qe=Za=null,Pf=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var f=31-Xe(l),d=1<<f;s|=n[f],l&=~d}return rs=s,ol(),a}function im(n,s){pt=null,N.H=xl,s===Da||s===yl?(s=Ag(),Dt=3):s===bg?(s=Ag(),Dt=4):Dt=s===Ey?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,en=s,bt===null&&(Xt=1,kl(n,cn(s,n.current)))}function rm(){var n=N.H;return N.H=xl,n===null?xl:n}function am(){var n=N.A;return N.A=G1,n}function Ff(){Xt=4,Ls||(_t&4194048)!==_t&&pn.current!==null||(Sr=!0),(Ps&134217727)===0&&(xi&134217727)===0||zt===null||zs(zt,_t,gn,!1)}function Qf(n,s,a){var l=Ut;Ut|=2;var f=rm(),d=am();(zt!==n||_t!==s)&&(Il=null,Or(n,s)),s=!1;var b=Xt;t:do try{if(Dt!==0&&bt!==null){var w=bt,A=en;switch(Dt){case 8:Gf(),b=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(s=!0);var B=Dt;if(Dt=0,en=null,Nr(n,w,A,B),a&&Sr){b=0;break t}break;default:B=Dt,Dt=0,en=null,Nr(n,w,A,B)}}q1(),b=Xt;break}catch(P){im(n,P)}while(!0);return s&&n.shellSuspendCounter++,Zn=vi=null,Ut=l,N.H=f,N.A=d,bt===null&&(zt=null,_t=0,ol()),b}function q1(){for(;bt!==null;)om(bt)}function V1(n,s){var a=Ut;Ut|=2;var l=rm(),f=am();zt!==n||_t!==s?(Il=null,Pl=Dn()+500,Or(n,s)):Sr=ga(n,s);t:do try{if(Dt!==0&&bt!==null){s=bt;var d=en;e:switch(Dt){case 1:Dt=0,en=null,Nr(n,s,d,1);break;case 2:case 9:if(wg(d)){Dt=0,en=null,lm(s);break}s=function(){Dt!==2&&Dt!==9||zt!==n||(Dt=7),jn(n)},d.then(s,s);break t;case 3:Dt=7;break t;case 4:Dt=5;break t;case 7:wg(d)?(Dt=0,en=null,lm(s)):(Dt=0,en=null,Nr(n,s,d,7));break;case 5:var b=null;switch(bt.tag){case 26:b=bt.memoizedState;case 5:case 27:var w=bt;if(!b||Fm(b)){Dt=0,en=null;var A=w.sibling;if(A!==null)bt=A;else{var B=w.return;B!==null?(bt=B,zl(B)):bt=null}break e}}Dt=0,en=null,Nr(n,s,d,5);break;case 6:Dt=0,en=null,Nr(n,s,d,6);break;case 8:Gf(),Xt=6;break t;default:throw Error(i(462))}}K1();break}catch(P){im(n,P)}while(!0);return Zn=vi=null,N.H=l,N.A=f,Ut=a,bt!==null?0:(zt=null,_t=0,ol(),Xt)}function K1(){for(;bt!==null&&!Qo();)om(bt)}function om(n){var s=Dy(n.alternate,n,rs);n.memoizedProps=n.pendingProps,s===null?zl(n):bt=s}function lm(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=Ny(a,s,s.pendingProps,s.type,void 0,_t);break;case 11:s=Ny(a,s,s.pendingProps,s.type.render,s.ref,_t);break;case 5:rf(s);default:Ly(a,s),s=bt=ug(s,rs),s=Dy(a,s,rs)}n.memoizedProps=n.pendingProps,s===null?zl(n):bt=s}function Nr(n,s,a,l){Zn=vi=null,rf(s),wr=null,Fa=0;var f=s.return;try{if(L1(n,f,s,a,_t)){Xt=1,kl(n,cn(a,n.current)),bt=null;return}}catch(d){if(f!==null)throw bt=f,d;Xt=1,kl(n,cn(a,n.current)),bt=null;return}s.flags&32768?(Ct||l===1?n=!0:Sr||(_t&536870912)!==0?n=!1:(Ls=n=!0,(l===2||l===9||l===3||l===6)&&(l=pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),um(s,n)):zl(s)}function zl(n){var s=n;do{if((s.flags&32768)!==0){um(s,Ls);return}n=s.return;var a=I1(s.alternate,s,rs);if(a!==null){bt=a;return}if(s=s.sibling,s!==null){bt=s;return}bt=s=n}while(s!==null);Xt===0&&(Xt=5)}function um(n,s){do{var a=j1(n.alternate,n);if(a!==null){a.flags&=32767,bt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){bt=n;return}bt=n=a}while(n!==null);Xt=6,bt=null}function cm(n,s,a,l,f,d,b,w,A){n.cancelPendingCommit=null;do Hl();while(Te!==0);if((Ut&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(d=s.lanes|s.childLanes,d|=Uc,_A(n,a,d,b,w,A),n===zt&&(bt=zt=null,_t=0),_r=s,js=n,xr=a,jf=d,zf=f,tm=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Z1(Vo,function(){return gm(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=N.T,N.T=null,f=z.p,z.p=2,b=Ut,Ut|=4;try{z1(n,s,a)}finally{Ut=b,z.p=f,N.T=l}}Te=1,fm(),hm(),dm()}}function fm(){if(Te===1){Te=0;var n=js,s=_r,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=N.T,N.T=null;var l=z.p;z.p=2;var f=Ut;Ut|=4;try{Ky(s,n);var d=nh,b=Wp(n.containerInfo),w=d.focusedElem,A=d.selectionRange;if(b!==w&&w&&w.ownerDocument&&$p(w.ownerDocument.documentElement,w)){if(A!==null&&Nc(w)){var B=A.start,P=A.end;if(P===void 0&&(P=B),"selectionStart"in w)w.selectionStart=B,w.selectionEnd=Math.min(P,w.value.length);else{var j=w.ownerDocument||document,U=j&&j.defaultView||window;if(U.getSelection){var M=U.getSelection(),lt=w.textContent.length,rt=Math.min(A.start,lt),Pt=A.end===void 0?rt:Math.min(A.end,lt);!M.extend&&rt>Pt&&(b=Pt,Pt=rt,rt=b);var R=Zp(w,rt),_=Zp(w,Pt);if(R&&_&&(M.rangeCount!==1||M.anchorNode!==R.node||M.anchorOffset!==R.offset||M.focusNode!==_.node||M.focusOffset!==_.offset)){var C=j.createRange();C.setStart(R.node,R.offset),M.removeAllRanges(),rt>Pt?(M.addRange(C),M.extend(_.node,_.offset)):(C.setEnd(_.node,_.offset),M.addRange(C))}}}}for(j=[],M=w;M=M.parentNode;)M.nodeType===1&&j.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<j.length;w++){var I=j[w];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}Wl=!!eh,nh=eh=null}finally{Ut=f,z.p=l,N.T=a}}n.current=s,Te=2}}function hm(){if(Te===2){Te=0;var n=js,s=_r,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=N.T,N.T=null;var l=z.p;z.p=2;var f=Ut;Ut|=4;try{Fy(n,s.alternate,s)}finally{Ut=f,z.p=l,N.T=a}}Te=3}}function dm(){if(Te===4||Te===3){Te=0,qo();var n=js,s=_r,a=xr,l=tm;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Te=5:(Te=0,_r=js=null,pm(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Is=null),oc(a),s=s.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(pa,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=N.T,f=z.p,z.p=2,N.T=null;try{for(var d=n.onRecoverableError,b=0;b<l.length;b++){var w=l[b];d(w.value,{componentStack:w.stack})}}finally{N.T=s,z.p=f}}(xr&3)!==0&&Hl(),jn(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===Hf?$a++:($a=0,Hf=n):$a=0,Wa(0)}}function pm(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Ba(s)))}function Hl(n){return fm(),hm(),dm(),gm()}function gm(){if(Te!==5)return!1;var n=js,s=jf;jf=0;var a=oc(xr),l=N.T,f=z.p;try{z.p=32>a?32:a,N.T=null,a=zf,zf=null;var d=js,b=xr;if(Te=0,_r=js=null,xr=0,(Ut&6)!==0)throw Error(i(331));var w=Ut;if(Ut|=4,$y(d.current),Yy(d,d.current,b,a),Ut=w,Wa(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(pa,d)}catch{}return!0}finally{z.p=f,N.T=l,pm(n,s)}}function ym(n,s,a){s=cn(a,s),s=wf(n.stateNode,s,2),n=Rs(n,s,2),n!==null&&(ya(n,2),jn(n))}function jt(n,s,a){if(n.tag===3)ym(n,n,a);else for(;s!==null;){if(s.tag===3){ym(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Is===null||!Is.has(l))){n=cn(a,n),a=vy(2),l=Rs(s,a,2),l!==null&&(Ay(a,l,s,n),ya(l,2),jn(l));break}}s=s.return}}function qf(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new F1;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(Mf=!0,f.add(a),n=J1.bind(null,n,s,a),s.then(n,n))}function J1(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,zt===n&&(_t&a)===a&&(Xt===4||Xt===3&&(_t&62914560)===_t&&300>Dn()-If?(Ut&2)===0&&Or(n,0):Lf|=a,Tr===_t&&(Tr=0)),jn(n)}function mm(n,s){s===0&&(s=dp()),n=ur(n,s),n!==null&&(ya(n,s),jn(n))}function Y1(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),mm(n,a)}function X1(n,s){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(s),mm(n,a)}function Z1(n,s){return Un(n,s)}var Gl=null,Rr=null,Vf=!1,Fl=!1,Kf=!1,Oi=0;function jn(n){n!==Rr&&n.next===null&&(Rr===null?Gl=Rr=n:Rr=Rr.next=n),Fl=!0,Vf||(Vf=!0,W1())}function Wa(n,s){if(!Kf&&Fl){Kf=!0;do for(var a=!1,l=Gl;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var b=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-Xe(42|n)+1)-1,d&=f&~(b&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Am(l,d))}else d=_t,d=Yo(l,l===zt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ga(l,d)||(a=!0,Am(l,d));l=l.next}while(a);Kf=!1}}function $1(){bm()}function bm(){Fl=Vf=!1;var n=0;Oi!==0&&(oE()&&(n=Oi),Oi=0);for(var s=Dn(),a=null,l=Gl;l!==null;){var f=l.next,d=wm(l,s);d===0?(l.next=null,a===null?Gl=f:a.next=f,f===null&&(Rr=a)):(a=l,(n!==0||(d&3)!==0)&&(Fl=!0)),l=f}Wa(n)}function wm(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var b=31-Xe(d),w=1<<b,A=f[b];A===-1?((w&a)===0||(w&l)!==0)&&(f[b]=TA(w,s)):A<=s&&(n.expiredLanes|=w),d&=~w}if(s=zt,a=_t,a=Yo(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&(Dt===2||Dt===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Es(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ga(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&Es(l),oc(a)){case 2:case 8:a=cp;break;case 32:a=Vo;break;case 268435456:a=fp;break;default:a=Vo}return l=vm.bind(null,n),a=Un(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&Es(l),n.callbackPriority=2,n.callbackNode=null,2}function vm(n,s){if(Te!==0&&Te!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Hl()&&n.callbackNode!==a)return null;var l=_t;return l=Yo(n,n===zt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(nm(n,l,s),wm(n,Dn()),n.callbackNode!=null&&n.callbackNode===a?vm.bind(null,n):null)}function Am(n,s){if(Hl())return null;nm(n,s,!0)}function W1(){uE(function(){(Ut&6)!==0?Un(up,$1):bm()})}function Jf(){return Oi===0&&(Oi=hp()),Oi}function Em(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:tl(""+n)}function Sm(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function tE(n,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=Em((f[ze]||null).action),b=l.submitter;b&&(s=(s=b[ze]||null)?Em(s.formAction):b.getAttribute("formAction"),s!==null&&(d=s,b=null));var w=new il("action","action",null,l,f);n.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Oi!==0){var A=b?Sm(f,b):new FormData(f);pf(a,{pending:!0,data:A,method:f.method,action:d},null,A)}}else typeof d=="function"&&(w.preventDefault(),A=b?Sm(f,b):new FormData(f),pf(a,{pending:!0,data:A,method:f.method,action:d},d,A))},currentTarget:f}]})}}for(var Yf=0;Yf<Bc.length;Yf++){var Xf=Bc[Yf],eE=Xf.toLowerCase(),nE=Xf[0].toUpperCase()+Xf.slice(1);An(eE,"on"+nE)}An(ng,"onAnimationEnd"),An(sg,"onAnimationIteration"),An(ig,"onAnimationStart"),An("dblclick","onDoubleClick"),An("focusin","onFocus"),An("focusout","onBlur"),An(w1,"onTransitionRun"),An(v1,"onTransitionStart"),An(A1,"onTransitionCancel"),An(rg,"onTransitionEnd"),Wi("onMouseEnter",["mouseout","mouseover"]),Wi("onMouseLeave",["mouseout","mouseover"]),Wi("onPointerEnter",["pointerout","pointerover"]),Wi("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var to="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(to));function Tm(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;t:{var d=void 0;if(s)for(var b=l.length-1;0<=b;b--){var w=l[b],A=w.instance,B=w.currentTarget;if(w=w.listener,A!==d&&f.isPropagationStopped())break t;d=w,f.currentTarget=B;try{d(f)}catch(P){Cl(P)}f.currentTarget=null,d=A}else for(b=0;b<l.length;b++){if(w=l[b],A=w.instance,B=w.currentTarget,w=w.listener,A!==d&&f.isPropagationStopped())break t;d=w,f.currentTarget=B;try{d(f)}catch(P){Cl(P)}f.currentTarget=null,d=A}}}}function wt(n,s){var a=s[lc];a===void 0&&(a=s[lc]=new Set);var l=n+"__bubble";a.has(l)||(_m(s,n,2,!1),a.add(l))}function Zf(n,s,a){var l=0;s&&(l|=4),_m(a,n,l,s)}var Ql="_reactListening"+Math.random().toString(36).slice(2);function $f(n){if(!n[Ql]){n[Ql]=!0,bp.forEach(function(a){a!=="selectionchange"&&(sE.has(a)||Zf(a,!1,n),Zf(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Ql]||(s[Ql]=!0,Zf("selectionchange",!1,s))}}function _m(n,s,a,l){switch(Ym(s)){case 2:var f=CE;break;case 8:f=kE;break;default:f=hh}a=f.bind(null,s,a,n),f=void 0,!wc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function Wf(n,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var w=l.stateNode.containerInfo;if(w===f)break;if(b===4)for(b=l.return;b!==null;){var A=b.tag;if((A===3||A===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;w!==null;){if(b=Xi(w),b===null)return;if(A=b.tag,A===5||A===6||A===26||A===27){l=d=b;continue t}w=w.parentNode}}l=l.return}Bp(function(){var B=d,P=mc(a),j=[];t:{var U=ag.get(n);if(U!==void 0){var M=il,lt=n;switch(n){case"keypress":if(nl(a)===0)break t;case"keydown":case"keyup":M=ZA;break;case"focusin":lt="focus",M=Sc;break;case"focusout":lt="blur",M=Sc;break;case"beforeblur":case"afterblur":M=Sc;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=Mp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=jA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=t1;break;case ng:case sg:case ig:M=GA;break;case rg:M=n1;break;case"scroll":case"scrollend":M=PA;break;case"wheel":M=i1;break;case"copy":case"cut":case"paste":M=QA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Pp;break;case"toggle":case"beforetoggle":M=a1}var rt=(s&4)!==0,Pt=!rt&&(n==="scroll"||n==="scrollend"),R=rt?U!==null?U+"Capture":null:U;rt=[];for(var _=B,C;_!==null;){var I=_;if(C=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||C===null||R===null||(I=wa(_,R),I!=null&&rt.push(eo(_,I,C))),Pt)break;_=_.return}0<rt.length&&(U=new M(U,lt,null,a,P),j.push({event:U,listeners:rt}))}}if((s&7)===0){t:{if(U=n==="mouseover"||n==="pointerover",M=n==="mouseout"||n==="pointerout",U&&a!==yc&&(lt=a.relatedTarget||a.fromElement)&&(Xi(lt)||lt[Yi]))break t;if((M||U)&&(U=P.window===P?P:(U=P.ownerDocument)?U.defaultView||U.parentWindow:window,M?(lt=a.relatedTarget||a.toElement,M=B,lt=lt?Xi(lt):null,lt!==null&&(Pt=u(lt),rt=lt.tag,lt!==Pt||rt!==5&&rt!==27&&rt!==6)&&(lt=null)):(M=null,lt=B),M!==lt)){if(rt=Mp,I="onMouseLeave",R="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(rt=Pp,I="onPointerLeave",R="onPointerEnter",_="pointer"),Pt=M==null?U:ba(M),C=lt==null?U:ba(lt),U=new rt(I,_+"leave",M,a,P),U.target=Pt,U.relatedTarget=C,I=null,Xi(P)===B&&(rt=new rt(R,_+"enter",lt,a,P),rt.target=C,rt.relatedTarget=Pt,I=rt),Pt=I,M&&lt)e:{for(rt=M,R=lt,_=0,C=rt;C;C=Cr(C))_++;for(C=0,I=R;I;I=Cr(I))C++;for(;0<_-C;)rt=Cr(rt),_--;for(;0<C-_;)R=Cr(R),C--;for(;_--;){if(rt===R||R!==null&&rt===R.alternate)break e;rt=Cr(rt),R=Cr(R)}rt=null}else rt=null;M!==null&&xm(j,U,M,rt,!1),lt!==null&&Pt!==null&&xm(j,Pt,lt,rt,!0)}}t:{if(U=B?ba(B):window,M=U.nodeName&&U.nodeName.toLowerCase(),M==="select"||M==="input"&&U.type==="file")var et=qp;else if(Fp(U))if(Vp)et=y1;else{et=p1;var gt=d1}else M=U.nodeName,!M||M.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?B&&gc(B.elementType)&&(et=qp):et=g1;if(et&&(et=et(n,B))){Qp(j,et,a,P);break t}gt&&gt(n,U,B),n==="focusout"&&B&&U.type==="number"&&B.memoizedProps.value!=null&&pc(U,"number",U.value)}switch(gt=B?ba(B):window,n){case"focusin":(Fp(gt)||gt.contentEditable==="true")&&(ar=gt,Rc=B,Oa=null);break;case"focusout":Oa=Rc=ar=null;break;case"mousedown":Cc=!0;break;case"contextmenu":case"mouseup":case"dragend":Cc=!1,tg(j,a,P);break;case"selectionchange":if(b1)break;case"keydown":case"keyup":tg(j,a,P)}var st;if(_c)t:{switch(n){case"compositionstart":var at="onCompositionStart";break t;case"compositionend":at="onCompositionEnd";break t;case"compositionupdate":at="onCompositionUpdate";break t}at=void 0}else rr?Hp(n,a)&&(at="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(at="onCompositionStart");at&&(Ip&&a.locale!=="ko"&&(rr||at!=="onCompositionStart"?at==="onCompositionEnd"&&rr&&(st=Up()):(_s=P,vc="value"in _s?_s.value:_s.textContent,rr=!0)),gt=ql(B,at),0<gt.length&&(at=new Lp(at,n,null,a,P),j.push({event:at,listeners:gt}),st?at.data=st:(st=Gp(a),st!==null&&(at.data=st)))),(st=l1?u1(n,a):c1(n,a))&&(at=ql(B,"onBeforeInput"),0<at.length&&(gt=new Lp("onBeforeInput","beforeinput",null,a,P),j.push({event:gt,listeners:at}),gt.data=st)),tE(j,n,B,a,P)}Tm(j,s)})}function eo(n,s,a){return{instance:n,listener:s,currentTarget:a}}function ql(n,s){for(var a=s+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=wa(n,a),f!=null&&l.unshift(eo(n,f,d)),f=wa(n,s),f!=null&&l.push(eo(n,f,d))),n.tag===3)return l;n=n.return}return[]}function Cr(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function xm(n,s,a,l,f){for(var d=s._reactName,b=[];a!==null&&a!==l;){var w=a,A=w.alternate,B=w.stateNode;if(w=w.tag,A!==null&&A===l)break;w!==5&&w!==26&&w!==27||B===null||(A=B,f?(B=wa(a,d),B!=null&&b.unshift(eo(a,B,A))):f||(B=wa(a,d),B!=null&&b.push(eo(a,B,A)))),a=a.return}b.length!==0&&n.push({event:s,listeners:b})}var iE=/\r\n?/g,rE=/\u0000|\uFFFD/g;function Om(n){return(typeof n=="string"?n:""+n).replace(iE,`
`).replace(rE,"")}function Nm(n,s){return s=Om(s),Om(n)===s}function Vl(){}function Lt(n,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||nr(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&nr(n,""+l);break;case"className":Zo(n,"class",l);break;case"tabIndex":Zo(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Zo(n,a,l);break;case"style":Cp(n,l,d);break;case"data":if(s!=="object"){Zo(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=tl(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&Lt(n,s,"name",f.name,f,null),Lt(n,s,"formEncType",f.formEncType,f,null),Lt(n,s,"formMethod",f.formMethod,f,null),Lt(n,s,"formTarget",f.formTarget,f,null)):(Lt(n,s,"encType",f.encType,f,null),Lt(n,s,"method",f.method,f,null),Lt(n,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=tl(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Vl);break;case"onScroll":l!=null&&wt("scroll",n);break;case"onScrollEnd":l!=null&&wt("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=tl(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":wt("beforetoggle",n),wt("toggle",n),Xo(n,"popover",l);break;case"xlinkActuate":Vn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Vn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Vn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Vn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Vn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Vn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Vn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Vn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Vn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Xo(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=MA.get(a)||a,Xo(n,a,l))}}function th(n,s,a,l,f,d){switch(a){case"style":Cp(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=a}}break;case"children":typeof l=="string"?nr(n,l):(typeof l=="number"||typeof l=="bigint")&&nr(n,""+l);break;case"onScroll":l!=null&&wt("scroll",n);break;case"onScrollEnd":l!=null&&wt("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Vl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wp.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=n[ze]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,f);break t}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Xo(n,a,l)}}}function _e(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",n),wt("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var b=a[d];if(b!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Lt(n,s,d,b,a,null)}}f&&Lt(n,s,"srcSet",a.srcSet,a,null),l&&Lt(n,s,"src",a.src,a,null);return;case"input":wt("invalid",n);var w=d=b=f=null,A=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var P=a[l];if(P!=null)switch(l){case"name":f=P;break;case"type":b=P;break;case"checked":A=P;break;case"defaultChecked":B=P;break;case"value":d=P;break;case"defaultValue":w=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(i(137,s));break;default:Lt(n,s,l,P,a,null)}}xp(n,d,w,A,B,b,f,!1),$o(n);return;case"select":wt("invalid",n),l=b=d=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":d=w;break;case"defaultValue":b=w;break;case"multiple":l=w;default:Lt(n,s,f,w,a,null)}s=d,a=b,n.multiple=!!l,s!=null?er(n,!!l,s,!1):a!=null&&er(n,!!l,a,!0);return;case"textarea":wt("invalid",n),d=f=l=null;for(b in a)if(a.hasOwnProperty(b)&&(w=a[b],w!=null))switch(b){case"value":l=w;break;case"defaultValue":f=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:Lt(n,s,b,w,a,null)}Np(n,l,f,d),$o(n);return;case"option":for(A in a)if(a.hasOwnProperty(A)&&(l=a[A],l!=null))switch(A){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Lt(n,s,A,l,a,null)}return;case"dialog":wt("beforetoggle",n),wt("toggle",n),wt("cancel",n),wt("close",n);break;case"iframe":case"object":wt("load",n);break;case"video":case"audio":for(l=0;l<to.length;l++)wt(to[l],n);break;case"image":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"embed":case"source":case"link":wt("error",n),wt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Lt(n,s,B,l,a,null)}return;default:if(gc(s)){for(P in a)a.hasOwnProperty(P)&&(l=a[P],l!==void 0&&th(n,s,P,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&Lt(n,s,w,l,a,null))}function aE(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,b=null,w=null,A=null,B=null,P=null;for(M in a){var j=a[M];if(a.hasOwnProperty(M)&&j!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":A=j;default:l.hasOwnProperty(M)||Lt(n,s,M,null,l,j)}}for(var U in l){var M=l[U];if(j=a[U],l.hasOwnProperty(U)&&(M!=null||j!=null))switch(U){case"type":d=M;break;case"name":f=M;break;case"checked":B=M;break;case"defaultChecked":P=M;break;case"value":b=M;break;case"defaultValue":w=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(i(137,s));break;default:M!==j&&Lt(n,s,U,M,l,j)}}dc(n,b,w,A,B,P,d,f);return;case"select":M=b=w=U=null;for(d in a)if(A=a[d],a.hasOwnProperty(d)&&A!=null)switch(d){case"value":break;case"multiple":M=A;default:l.hasOwnProperty(d)||Lt(n,s,d,null,l,A)}for(f in l)if(d=l[f],A=a[f],l.hasOwnProperty(f)&&(d!=null||A!=null))switch(f){case"value":U=d;break;case"defaultValue":w=d;break;case"multiple":b=d;default:d!==A&&Lt(n,s,f,d,l,A)}s=w,a=b,l=M,U!=null?er(n,!!a,U,!1):!!l!=!!a&&(s!=null?er(n,!!a,s,!0):er(n,!!a,a?[]:"",!1));return;case"textarea":M=U=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Lt(n,s,w,null,l,f)}for(b in l)if(f=l[b],d=a[b],l.hasOwnProperty(b)&&(f!=null||d!=null))switch(b){case"value":U=f;break;case"defaultValue":M=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==d&&Lt(n,s,b,f,l,d)}Op(n,U,M);return;case"option":for(var lt in a)if(U=a[lt],a.hasOwnProperty(lt)&&U!=null&&!l.hasOwnProperty(lt))switch(lt){case"selected":n.selected=!1;break;default:Lt(n,s,lt,null,l,U)}for(A in l)if(U=l[A],M=a[A],l.hasOwnProperty(A)&&U!==M&&(U!=null||M!=null))switch(A){case"selected":n.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Lt(n,s,A,U,l,M)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rt in a)U=a[rt],a.hasOwnProperty(rt)&&U!=null&&!l.hasOwnProperty(rt)&&Lt(n,s,rt,null,l,U);for(B in l)if(U=l[B],M=a[B],l.hasOwnProperty(B)&&U!==M&&(U!=null||M!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(i(137,s));break;default:Lt(n,s,B,U,l,M)}return;default:if(gc(s)){for(var Pt in a)U=a[Pt],a.hasOwnProperty(Pt)&&U!==void 0&&!l.hasOwnProperty(Pt)&&th(n,s,Pt,void 0,l,U);for(P in l)U=l[P],M=a[P],!l.hasOwnProperty(P)||U===M||U===void 0&&M===void 0||th(n,s,P,U,l,M);return}}for(var R in a)U=a[R],a.hasOwnProperty(R)&&U!=null&&!l.hasOwnProperty(R)&&Lt(n,s,R,null,l,U);for(j in l)U=l[j],M=a[j],!l.hasOwnProperty(j)||U===M||U==null&&M==null||Lt(n,s,j,U,l,M)}var eh=null,nh=null;function Kl(n){return n.nodeType===9?n:n.ownerDocument}function Rm(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cm(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function sh(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ih=null;function oE(){var n=window.event;return n&&n.type==="popstate"?n===ih?!1:(ih=n,!0):(ih=null,!1)}var km=typeof setTimeout=="function"?setTimeout:void 0,lE=typeof clearTimeout=="function"?clearTimeout:void 0,Bm=typeof Promise=="function"?Promise:void 0,uE=typeof queueMicrotask=="function"?queueMicrotask:typeof Bm<"u"?function(n){return Bm.resolve(null).then(n).catch(cE)}:km;function cE(n){setTimeout(function(){throw n})}function Hs(n){return n==="head"}function Um(n,s){var a=s,l=0,f=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var b=n.ownerDocument;if(a&1&&no(b.documentElement),a&2&&no(b.body),a&4)for(a=b.head,no(a),b=a.firstChild;b;){var w=b.nextSibling,A=b.nodeName;b[ma]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=w}}if(f===0){n.removeChild(d),co(s);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);co(s)}function rh(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":rh(a),uc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function fE(n,s,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[ma])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Sn(n.nextSibling),n===null)break}return null}function hE(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Sn(n.nextSibling),n===null))return null;return n}function ah(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function dE(n,s){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Sn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var oh=null;function Dm(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}function Mm(n,s,a){switch(s=Kl(a),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function no(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);uc(n)}var yn=new Map,Lm=new Set;function Jl(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var as=z.d;z.d={f:pE,r:gE,D:yE,C:mE,L:bE,m:wE,X:AE,S:vE,M:EE};function pE(){var n=as.f(),s=jl();return n||s}function gE(n){var s=Zi(n);s!==null&&s.tag===5&&s.type==="form"?ny(s):as.r(n)}var kr=typeof document>"u"?null:document;function Pm(n,s,a){var l=kr;if(l&&typeof s=="string"&&s){var f=un(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Lm.has(f)||(Lm.add(f),n={rel:n,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),_e(s,"link",n),ge(s),l.head.appendChild(s)))}}function yE(n){as.D(n),Pm("dns-prefetch",n,null)}function mE(n,s){as.C(n,s),Pm("preconnect",n,s)}function bE(n,s,a){as.L(n,s,a);var l=kr;if(l&&n&&s){var f='link[rel="preload"][as="'+un(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+un(a.imageSizes)+'"]')):f+='[href="'+un(n)+'"]';var d=f;switch(s){case"style":d=Br(n);break;case"script":d=Ur(n)}yn.has(d)||(n=y({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),yn.set(d,n),l.querySelector(f)!==null||s==="style"&&l.querySelector(so(d))||s==="script"&&l.querySelector(io(d))||(s=l.createElement("link"),_e(s,"link",n),ge(s),l.head.appendChild(s)))}}function wE(n,s){as.m(n,s);var a=kr;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+un(l)+'"][href="'+un(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ur(n)}if(!yn.has(d)&&(n=y({rel:"modulepreload",href:n},s),yn.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(io(d)))return}l=a.createElement("link"),_e(l,"link",n),ge(l),a.head.appendChild(l)}}}function vE(n,s,a){as.S(n,s,a);var l=kr;if(l&&n){var f=$i(l).hoistableStyles,d=Br(n);s=s||"default";var b=f.get(d);if(!b){var w={loading:0,preload:null};if(b=l.querySelector(so(d)))w.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":s},a),(a=yn.get(d))&&lh(n,a);var A=b=l.createElement("link");ge(A),_e(A,"link",n),A._p=new Promise(function(B,P){A.onload=B,A.onerror=P}),A.addEventListener("load",function(){w.loading|=1}),A.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Yl(b,s,l)}b={type:"stylesheet",instance:b,count:1,state:w},f.set(d,b)}}}function AE(n,s){as.X(n,s);var a=kr;if(a&&n){var l=$i(a).hoistableScripts,f=Ur(n),d=l.get(f);d||(d=a.querySelector(io(f)),d||(n=y({src:n,async:!0},s),(s=yn.get(f))&&uh(n,s),d=a.createElement("script"),ge(d),_e(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function EE(n,s){as.M(n,s);var a=kr;if(a&&n){var l=$i(a).hoistableScripts,f=Ur(n),d=l.get(f);d||(d=a.querySelector(io(f)),d||(n=y({src:n,async:!0,type:"module"},s),(s=yn.get(f))&&uh(n,s),d=a.createElement("script"),ge(d),_e(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Im(n,s,a,l){var f=(f=Pe.current)?Jl(f):null;if(!f)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Br(a.href),a=$i(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Br(a.href);var d=$i(f).hoistableStyles,b=d.get(n);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,b),(d=f.querySelector(so(n)))&&!d._p&&(b.instance=d,b.state.loading=5),yn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},yn.set(n,a),d||SE(f,n,a,b.state))),s&&l===null)throw Error(i(528,""));return b}if(s&&l!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ur(a),a=$i(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Br(n){return'href="'+un(n)+'"'}function so(n){return'link[rel="stylesheet"]['+n+"]"}function jm(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function SE(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),_e(s,"link",a),ge(s),n.head.appendChild(s))}function Ur(n){return'[src="'+un(n)+'"]'}function io(n){return"script[async]"+n}function zm(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+un(a.href)+'"]');if(l)return s.instance=l,ge(l),l;var f=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),ge(l),_e(l,"style",f),Yl(l,a.precedence,n),s.instance=l;case"stylesheet":f=Br(a.href);var d=n.querySelector(so(f));if(d)return s.state.loading|=4,s.instance=d,ge(d),d;l=jm(a),(f=yn.get(f))&&lh(l,f),d=(n.ownerDocument||n).createElement("link"),ge(d);var b=d;return b._p=new Promise(function(w,A){b.onload=w,b.onerror=A}),_e(d,"link",l),s.state.loading|=4,Yl(d,a.precedence,n),s.instance=d;case"script":return d=Ur(a.src),(f=n.querySelector(io(d)))?(s.instance=f,ge(f),f):(l=a,(f=yn.get(d))&&(l=y({},a),uh(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),ge(f),_e(f,"link",l),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Yl(l,a.precedence,n));return s.instance}function Yl(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,b=0;b<l.length;b++){var w=l[b];if(w.dataset.precedence===s)d=w;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function lh(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function uh(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Xl=null;function Hm(n,s,a){if(Xl===null){var l=new Map,f=Xl=new Map;f.set(a,l)}else f=Xl,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[ma]||d[Ne]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var b=d.getAttribute(s)||"";b=n+b;var w=l.get(b);w?w.push(d):l.set(b,[d])}}return l}function Gm(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function TE(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Fm(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var ro=null;function _E(){}function xE(n,s,a){if(ro===null)throw Error(i(475));var l=ro;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Br(a.href),d=n.querySelector(so(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Zl.bind(l),n.then(l,l)),s.state.loading|=4,s.instance=d,ge(d);return}d=n.ownerDocument||n,a=jm(a),(f=yn.get(f))&&lh(a,f),d=d.createElement("link"),ge(d);var b=d;b._p=new Promise(function(w,A){b.onload=w,b.onerror=A}),_e(d,"link",a),s.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=Zl.bind(l),n.addEventListener("load",s),n.addEventListener("error",s))}}function OE(){if(ro===null)throw Error(i(475));var n=ro;return n.stylesheets&&n.count===0&&ch(n,n.stylesheets),0<n.count?function(s){var a=setTimeout(function(){if(n.stylesheets&&ch(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Zl(){if(this.count--,this.count===0){if(this.stylesheets)ch(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var $l=null;function ch(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,$l=new Map,s.forEach(NE,n),$l=null,Zl.call(n))}function NE(n,s){if(!(s.state.loading&4)){var a=$l.get(n);if(a)var l=a.get(null);else{a=new Map,$l.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var b=f[d];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}f=s.instance,b=f.getAttribute("data-precedence"),d=a.get(b)||l,d===l&&a.set(null,f),a.set(b,f),this.count++,l=Zl.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var ao={$$typeof:L,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function RE(n,s,a,l,f,d,b,w){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rc(0),this.hiddenUpdates=rc(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Qm(n,s,a,l,f,d,b,w,A,B,P,j){return n=new RE(n,s,a,b,w,A,B,j),s=1,d===!0&&(s|=24),d=$e(3,null,null,s),n.current=d,d.stateNode=n,s=Qc(),s.refCount++,n.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},Jc(d),n}function qm(n){return n?(n=cr,n):cr}function Vm(n,s,a,l,f,d){f=qm(f),l.context===null?l.context=f:l.pendingContext=f,l=Ns(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Rs(n,l,s),a!==null&&(sn(a,n,s),La(a,n,s))}function Km(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function fh(n,s){Km(n,s),(n=n.alternate)&&Km(n,s)}function Jm(n){if(n.tag===13){var s=ur(n,67108864);s!==null&&sn(s,n,67108864),fh(n,67108864)}}var Wl=!0;function CE(n,s,a,l){var f=N.T;N.T=null;var d=z.p;try{z.p=2,hh(n,s,a,l)}finally{z.p=d,N.T=f}}function kE(n,s,a,l){var f=N.T;N.T=null;var d=z.p;try{z.p=8,hh(n,s,a,l)}finally{z.p=d,N.T=f}}function hh(n,s,a,l){if(Wl){var f=dh(l);if(f===null)Wf(n,s,l,tu,a),Xm(n,l);else if(UE(f,n,s,a,l))l.stopPropagation();else if(Xm(n,l),s&4&&-1<BE.indexOf(n)){for(;f!==null;){var d=Zi(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var b=ci(d.pendingLanes);if(b!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var A=1<<31-Xe(b);w.entanglements[1]|=A,b&=~A}jn(d),(Ut&6)===0&&(Pl=Dn()+500,Wa(0))}}break;case 13:w=ur(d,2),w!==null&&sn(w,d,2),jl(),fh(d,2)}if(d=dh(l),d===null&&Wf(n,s,l,tu,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Wf(n,s,l,null,a)}}function dh(n){return n=mc(n),ph(n)}var tu=null;function ph(n){if(tu=null,n=Xi(n),n!==null){var s=u(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=c(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return tu=n,null}function Ym(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mA()){case up:return 2;case cp:return 8;case Vo:case bA:return 32;case fp:return 268435456;default:return 32}default:return 32}}var gh=!1,Gs=null,Fs=null,Qs=null,oo=new Map,lo=new Map,qs=[],BE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xm(n,s){switch(n){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":oo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":lo.delete(s.pointerId)}}function uo(n,s,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=Zi(s),s!==null&&Jm(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function UE(n,s,a,l,f){switch(s){case"focusin":return Gs=uo(Gs,n,s,a,l,f),!0;case"dragenter":return Fs=uo(Fs,n,s,a,l,f),!0;case"mouseover":return Qs=uo(Qs,n,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return oo.set(d,uo(oo.get(d)||null,n,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,lo.set(d,uo(lo.get(d)||null,n,s,a,l,f)),!0}return!1}function Zm(n){var s=Xi(n.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){n.blockedOn=s,xA(n.priority,function(){if(a.tag===13){var l=nn();l=ac(l);var f=ur(a,l);f!==null&&sn(f,a,l),fh(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function eu(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=dh(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);yc=l,a.target.dispatchEvent(l),yc=null}else return s=Zi(a),s!==null&&Jm(s),n.blockedOn=a,!1;s.shift()}return!0}function $m(n,s,a){eu(n)&&a.delete(s)}function DE(){gh=!1,Gs!==null&&eu(Gs)&&(Gs=null),Fs!==null&&eu(Fs)&&(Fs=null),Qs!==null&&eu(Qs)&&(Qs=null),oo.forEach($m),lo.forEach($m)}function nu(n,s){n.blockedOn===s&&(n.blockedOn=null,gh||(gh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,DE)))}var su=null;function Wm(n){su!==n&&(su=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){su===n&&(su=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],f=n[s+2];if(typeof l!="function"){if(ph(l||a)===null)continue;break}var d=Zi(a);d!==null&&(n.splice(s,3),s-=3,pf(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function co(n){function s(A){return nu(A,n)}Gs!==null&&nu(Gs,n),Fs!==null&&nu(Fs,n),Qs!==null&&nu(Qs,n),oo.forEach(s),lo.forEach(s);for(var a=0;a<qs.length;a++){var l=qs[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<qs.length&&(a=qs[0],a.blockedOn===null);)Zm(a),a.blockedOn===null&&qs.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],b=f[ze]||null;if(typeof d=="function")b||Wm(a);else if(b){var w=null;if(d&&d.hasAttribute("formAction")){if(f=d,b=d[ze]||null)w=b.formAction;else if(ph(f)!==null)continue}else w=b.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),Wm(a)}}}function yh(n){this._internalRoot=n}iu.prototype.render=yh.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,l=nn();Vm(a,l,n,s,null,null)},iu.prototype.unmount=yh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Vm(n.current,2,null,n,null,null),jl(),s[Yi]=null}};function iu(n){this._internalRoot=n}iu.prototype.unstable_scheduleHydration=function(n){if(n){var s=yp();n={blockedOn:null,target:n,priority:s};for(var a=0;a<qs.length&&s!==0&&s<qs[a].priority;a++);qs.splice(a,0,n),a===0&&Zm(n)}};var t0=t.version;if(t0!=="19.1.0")throw Error(i(527,t0,"19.1.0"));z.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=p(s),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var ME={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{pa=ru.inject(ME),Ye=ru}catch{}}return fo.createRoot=function(n,s){if(!o(n))throw Error(i(299));var a=!1,l="",f=yy,d=my,b=by,w=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(w=s.unstable_transitionCallbacks)),s=Qm(n,1,!1,null,null,a,l,f,d,b,w,null),n[Yi]=s.current,$f(n),new yh(s)},fo.hydrateRoot=function(n,s,a){if(!o(n))throw Error(i(299));var l=!1,f="",d=yy,b=my,w=by,A=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(A=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),s=Qm(n,1,!0,s,a??null,l,f,d,b,w,A,B),s.context=qm(null),a=s.current,l=nn(),l=ac(l),f=Ns(l),f.callback=null,Rs(a,f,l),a=l,s.current.lanes=a,ya(s,a),jn(s),n[Yi]=s.current,$f(n),new iu(s)},fo.version="19.1.0",fo}var i0;function sS(){if(i0)return bh.exports;i0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),bh.exports=nS(),bh.exports}var iS=sS();const rS=Xb(iS),aS=()=>{const{address:r,isConnected:t}=Mo(),e=XE(),i=[{path:"/",label:"홈"},{path:"/simpledex",label:"SimpleDEX"},{path:"/nftmarket",label:"NFTmarket"}];return k.jsxs("div",{className:"sidebar",children:[k.jsx("div",{className:"sidebar-header",children:k.jsx("h1",{children:"🚀 Web3 블로그"})}),k.jsx("nav",{children:k.jsx("ul",{className:"nav-menu",children:i.map(o=>k.jsx("li",{children:k.jsx(ZE,{to:o.path,className:e.pathname===o.path?"active":"",children:o.label})},o.path))})}),k.jsxs("div",{className:"user-info",children:[k.jsx("h4",{children:"지갑 상태"}),t?k.jsxs(k.Fragment,{children:[k.jsx("div",{style:{marginBottom:"8px",fontSize:"0.8rem",color:"#bdc3c7"},children:"✅ 연결됨"}),k.jsxs("div",{className:"user-address",children:[r?.slice(0,6),"...",r?.slice(-4)]})]}):k.jsx("div",{style:{color:"#e74c3c",fontSize:"0.9rem"},children:"⚠️ 지갑이 연결되지 않았습니다"})]})]})},oS=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...e)=>Lo(async()=>{const{default:i}=await Promise.resolve().then(()=>ca);return{default:i}},void 0,import.meta.url).then(({default:i})=>i(...e)):t=fetch,(...e)=>t(...e)};class Bd extends Error{constructor(t,e="FunctionsError",i){super(t),this.name=e,this.context=i}}class lS extends Bd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class r0 extends Bd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class a0 extends Bd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Jh;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Jh||(Jh={}));var uS=function(r,t,e,i){function o(u){return u instanceof e?u:new e(function(c){c(u)})}return new(e||(e=Promise))(function(u,c){function h(y){try{g(i.next(y))}catch(m){c(m)}}function p(y){try{g(i.throw(y))}catch(m){c(m)}}function g(y){y.done?u(y.value):o(y.value).then(h,p)}g((i=i.apply(r,t||[])).next())})};class cS{constructor(t,{headers:e={},customFetch:i,region:o=Jh.Any}={}){this.url=t,this.headers=e,this.region=o,this.fetch=oS(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,e={}){var i;return uS(this,void 0,void 0,function*(){try{const{headers:o,method:u,body:c}=e;let h={},{region:p}=e;p||(p=this.region);const g=new URL(`${this.url}/${t}`);p&&p!=="any"&&(h["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let y;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=c):typeof c=="string"?(h["Content-Type"]="text/plain",y=c):typeof FormData<"u"&&c instanceof FormData?y=c:(h["Content-Type"]="application/json",y=JSON.stringify(c)));const m=yield this.fetch(g.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:y}).catch(S=>{throw new lS(S)}),v=m.headers.get("x-relay-error");if(v&&v==="true")throw new r0(m);if(!m.ok)throw new a0(m);let E=((i=m.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),T;return E==="application/json"?T=yield m.json():E==="application/octet-stream"?T=yield m.blob():E==="text/event-stream"?T=m:E==="multipart/form-data"?T=yield m.formData():T=yield m.text(),{data:T,error:null,response:m}}catch(o){return{data:null,error:o,response:o instanceof a0||o instanceof r0?o.context:void 0}}})}}var we={},Dr={},Mr={},Lr={},Pr={},Ir={},fS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ea=fS();const hS=ea.fetch,Zb=ea.fetch.bind(ea),$b=ea.Headers,dS=ea.Request,pS=ea.Response,ca=Object.freeze(Object.defineProperty({__proto__:null,Headers:$b,Request:dS,Response:pS,default:Zb,fetch:hS},Symbol.toStringTag,{value:"Module"})),gS=YE(ca);var au={},o0;function Wb(){if(o0)return au;o0=1,Object.defineProperty(au,"__esModule",{value:!0});class r extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}return au.default=r,au}var l0;function tw(){if(l0)return Ir;l0=1;var r=Ir&&Ir.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ir,"__esModule",{value:!0});const t=r(gS),e=r(Wb());class i{constructor(u){var c,h;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(c=u.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=u.signal,this.isMaybeSingle=(h=u.isMaybeSingle)!==null&&h!==void 0?h:!1,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,c){return this.headers=new Headers(this.headers),this.headers.set(u,c),this}then(u,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let p=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var y,m,v,E;let T=null,S=null,x=null,D=g.status,G=g.statusText;if(g.ok){if(this.method!=="HEAD"){const H=await g.text();H===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?S=H:S=JSON.parse(H))}const F=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),K=(v=g.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");F&&K&&K.length>1&&(x=parseInt(K[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(T={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,x=null,D=406,G="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const F=await g.text();try{T=JSON.parse(F),Array.isArray(T)&&g.status===404&&(S=[],T=null,D=200,G="OK")}catch{g.status===404&&F===""?(D=204,G="No Content"):T={message:F}}if(T&&this.isMaybeSingle&&(!((E=T?.details)===null||E===void 0)&&E.includes("0 rows"))&&(T=null,D=200,G="OK"),T&&this.shouldThrowOnError)throw new e.default(T)}return{error:T,data:S,count:x,status:D,statusText:G}});return this.shouldThrowOnError||(p=p.catch(g=>{var y,m,v;return{error:{message:`${(y=g?.name)!==null&&y!==void 0?y:"FetchError"}: ${g?.message}`,details:`${(m=g?.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(v=g?.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),p.then(u,c)}returns(){return this}overrideTypes(){return this}}return Ir.default=i,Ir}var u0;function ew(){if(u0)return Pr;u0=1;var r=Pr&&Pr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Pr,"__esModule",{value:!0});const t=r(tw());class e extends t.default{select(o){let u=!1;const c=(o??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:u=!0,nullsFirst:c,foreignTable:h,referencedTable:p=h}={}){const g=p?`${p}.order`:"order",y=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${y?`${y},`:""}${o}.${u?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:u,referencedTable:c=u}={}){const h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${o}`),this}range(o,u,{foreignTable:c,referencedTable:h=c}={}){const p=typeof h>"u"?"offset":`${h}.offset`,g=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${o}`),this.url.searchParams.set(g,`${u-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:u=!1,settings:c=!1,buffers:h=!1,wal:p=!1,format:g="text"}={}){var y;const m=[o?"analyze":null,u?"verbose":null,c?"settings":null,h?"buffers":null,p?"wal":null].filter(Boolean).join("|"),v=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${v}"; options=${m};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Pr.default=e,Pr}var c0;function Ud(){if(c0)return Lr;c0=1;var r=Lr&&Lr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Lr,"__esModule",{value:!0});const t=r(ew());class e extends t.default{eq(o,u){return this.url.searchParams.append(o,`eq.${u}`),this}neq(o,u){return this.url.searchParams.append(o,`neq.${u}`),this}gt(o,u){return this.url.searchParams.append(o,`gt.${u}`),this}gte(o,u){return this.url.searchParams.append(o,`gte.${u}`),this}lt(o,u){return this.url.searchParams.append(o,`lt.${u}`),this}lte(o,u){return this.url.searchParams.append(o,`lte.${u}`),this}like(o,u){return this.url.searchParams.append(o,`like.${u}`),this}likeAllOf(o,u){return this.url.searchParams.append(o,`like(all).{${u.join(",")}}`),this}likeAnyOf(o,u){return this.url.searchParams.append(o,`like(any).{${u.join(",")}}`),this}ilike(o,u){return this.url.searchParams.append(o,`ilike.${u}`),this}ilikeAllOf(o,u){return this.url.searchParams.append(o,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(o,u){return this.url.searchParams.append(o,`ilike(any).{${u.join(",")}}`),this}is(o,u){return this.url.searchParams.append(o,`is.${u}`),this}in(o,u){const c=Array.from(new Set(u)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(o,`in.(${c})`),this}contains(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cs.{${u.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(u)}`),this}containedBy(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cd.{${u.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(u)}`),this}rangeGt(o,u){return this.url.searchParams.append(o,`sr.${u}`),this}rangeGte(o,u){return this.url.searchParams.append(o,`nxl.${u}`),this}rangeLt(o,u){return this.url.searchParams.append(o,`sl.${u}`),this}rangeLte(o,u){return this.url.searchParams.append(o,`nxr.${u}`),this}rangeAdjacent(o,u){return this.url.searchParams.append(o,`adj.${u}`),this}overlaps(o,u){return typeof u=="string"?this.url.searchParams.append(o,`ov.${u}`):this.url.searchParams.append(o,`ov.{${u.join(",")}}`),this}textSearch(o,u,{config:c,type:h}={}){let p="";h==="plain"?p="pl":h==="phrase"?p="ph":h==="websearch"&&(p="w");const g=c===void 0?"":`(${c})`;return this.url.searchParams.append(o,`${p}fts${g}.${u}`),this}match(o){return Object.entries(o).forEach(([u,c])=>{this.url.searchParams.append(u,`eq.${c}`)}),this}not(o,u,c){return this.url.searchParams.append(o,`not.${u}.${c}`),this}or(o,{foreignTable:u,referencedTable:c=u}={}){const h=c?`${c}.or`:"or";return this.url.searchParams.append(h,`(${o})`),this}filter(o,u,c){return this.url.searchParams.append(o,`${u}.${c}`),this}}return Lr.default=e,Lr}var f0;function nw(){if(f0)return Mr;f0=1;var r=Mr&&Mr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Mr,"__esModule",{value:!0});const t=r(Ud());class e{constructor(o,{headers:u={},schema:c,fetch:h}){this.url=o,this.headers=new Headers(u),this.schema=c,this.fetch=h}select(o,{head:u=!1,count:c}={}){const h=u?"HEAD":"GET";let p=!1;const g=(o??"*").split("").map(y=>/\s/.test(y)&&!p?"":(y==='"'&&(p=!p),y)).join("");return this.url.searchParams.set("select",g),c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:u,defaultToNull:c=!0}={}){var h;const p="POST";if(u&&this.headers.append("Prefer",`count=${u}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const g=o.reduce((y,m)=>y.concat(Object.keys(m)),[]);if(g.length>0){const y=[...new Set(g)].map(m=>`"${m}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(o,{onConflict:u,ignoreDuplicates:c=!1,count:h,defaultToNull:p=!0}={}){var g;const y="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),h&&this.headers.append("Prefer",`count=${h}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const m=o.reduce((v,E)=>v.concat(Object.keys(E)),[]);if(m.length>0){const v=[...new Set(m)].map(E=>`"${E}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(o,{count:u}={}){var c;const h="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:o}={}){var u;const c="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return Mr.default=e,Mr}var h0;function yS(){if(h0)return Dr;h0=1;var r=Dr&&Dr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Dr,"__esModule",{value:!0});const t=r(nw()),e=r(Ud());class i{constructor(u,{headers:c={},schema:h,fetch:p}={}){this.url=u,this.headers=new Headers(c),this.schemaName=h,this.fetch=p}from(u){const c=new URL(`${this.url}/${u}`);return new t.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new i(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,c={},{head:h=!1,get:p=!1,count:g}={}){var y;let m;const v=new URL(`${this.url}/rpc/${u}`);let E;h||p?(m=h?"HEAD":"GET",Object.entries(c).filter(([S,x])=>x!==void 0).map(([S,x])=>[S,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([S,x])=>{v.searchParams.append(S,x)})):(m="POST",E=c);const T=new Headers(this.headers);return g&&T.set("Prefer",`count=${g}`),new e.default({method:m,url:v,headers:T,schema:this.schemaName,body:E,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return Dr.default=i,Dr}var d0;function mS(){if(d0)return we;d0=1;var r=we&&we.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(we,"__esModule",{value:!0}),we.PostgrestError=we.PostgrestBuilder=we.PostgrestTransformBuilder=we.PostgrestFilterBuilder=we.PostgrestQueryBuilder=we.PostgrestClient=void 0;const t=r(yS());we.PostgrestClient=t.default;const e=r(nw());we.PostgrestQueryBuilder=e.default;const i=r(Ud());we.PostgrestFilterBuilder=i.default;const o=r(ew());we.PostgrestTransformBuilder=o.default;const u=r(tw());we.PostgrestBuilder=u.default;const c=r(Wb());return we.PostgrestError=c.default,we.default={PostgrestClient:t.default,PostgrestQueryBuilder:e.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:u.default,PostgrestError:c.default},we}var bS=mS();const wS=Xb(bS),{PostgrestClient:vS,PostgrestQueryBuilder:ZR,PostgrestFilterBuilder:$R,PostgrestTransformBuilder:WR,PostgrestBuilder:tC,PostgrestError:eC}=wS;class AS{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const e=parseInt(process.versions.node.split(".")[0]);return e>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${e} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${e} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let e=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(e+=`

Suggested solution: ${t.workaround}`),new Error(e)}static createWebSocket(t,e){const i=this.getWebSocketConstructor();return new i(t,e)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const ES="2.15.1",SS=`realtime-js/${ES}`,TS="1.0.0",Yh=1e4,_S=1e3,xS=100;var Ao;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Ao||(Ao={}));var fe;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(fe||(fe={}));var On;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(On||(On={}));var Xh;(function(r){r.websocket="websocket"})(Xh||(Xh={}));var Ui;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Ui||(Ui={}));class OS{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const e=new DataView(t),i=new TextDecoder;return this._decodeBroadcast(t,e,i)}_decodeBroadcast(t,e,i){const o=e.getUint8(1),u=e.getUint8(2);let c=this.HEADER_LENGTH+2;const h=i.decode(t.slice(c,c+o));c=c+o;const p=i.decode(t.slice(c,c+u));c=c+u;const g=JSON.parse(i.decode(t.slice(c,t.byteLength)));return{ref:null,topic:h,event:p,payload:g}}}class sw{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ht;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Ht||(Ht={}));const p0=(r,t,e={})=>{var i;const o=(i=e.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(t).reduce((u,c)=>(u[c]=NS(c,r,t,o),u),{})},NS=(r,t,e,i)=>{const o=t.find(h=>h.name===r),u=o?.type,c=e[r];return u&&!i.includes(u)?iw(u,c):Zh(c)},iw=(r,t)=>{if(r.charAt(0)==="_"){const e=r.slice(1,r.length);return BS(t,e)}switch(r){case Ht.bool:return RS(t);case Ht.float4:case Ht.float8:case Ht.int2:case Ht.int4:case Ht.int8:case Ht.numeric:case Ht.oid:return CS(t);case Ht.json:case Ht.jsonb:return kS(t);case Ht.timestamp:return US(t);case Ht.abstime:case Ht.date:case Ht.daterange:case Ht.int4range:case Ht.int8range:case Ht.money:case Ht.reltime:case Ht.text:case Ht.time:case Ht.timestamptz:case Ht.timetz:case Ht.tsrange:case Ht.tstzrange:return Zh(t);default:return Zh(t)}},Zh=r=>r,RS=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},CS=r=>{if(typeof r=="string"){const t=parseFloat(r);if(!Number.isNaN(t))return t}return r},kS=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(t){return console.log(`JSON parse error: ${t}`),r}return r},BS=(r,t)=>{if(typeof r!="string")return r;const e=r.length-1,i=r[e];if(r[0]==="{"&&i==="}"){let u;const c=r.slice(1,e);try{u=JSON.parse("["+c+"]")}catch{u=c?c.split(","):[]}return u.map(h=>iw(t,h))}return r},US=r=>typeof r=="string"?r.replace(" ","T"):r,rw=r=>{let t=r;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Ah{constructor(t,e,i={},o=Yh){this.channel=t,this.event=e,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var i;return this._hasReceived(t)&&e((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var g0;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(g0||(g0={}));class Eo{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:u,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Eo.syncState(this.state,o,u,c),this.pendingDiffs.forEach(p=>{this.state=Eo.syncDiff(this.state,p,u,c)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},o=>{const{onJoin:u,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Eo.syncDiff(this.state,o,u,c),h())}),this.onJoin((o,u,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:c})}),this.onLeave((o,u,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,i,o){const u=this.cloneDeep(t),c=this.transformState(e),h={},p={};return this.map(u,(g,y)=>{c[g]||(p[g]=y)}),this.map(c,(g,y)=>{const m=u[g];if(m){const v=y.map(x=>x.presence_ref),E=m.map(x=>x.presence_ref),T=y.filter(x=>E.indexOf(x.presence_ref)<0),S=m.filter(x=>v.indexOf(x.presence_ref)<0);T.length>0&&(h[g]=T),S.length>0&&(p[g]=S)}else h[g]=y}),this.syncDiff(u,{joins:h,leaves:p},i,o)}static syncDiff(t,e,i,o){const{joins:u,leaves:c}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(u,(h,p)=>{var g;const y=(g=t[h])!==null&&g!==void 0?g:[];if(t[h]=this.cloneDeep(p),y.length>0){const m=t[h].map(E=>E.presence_ref),v=y.filter(E=>m.indexOf(E.presence_ref)<0);t[h].unshift(...v)}i(h,y,p)}),this.map(c,(h,p)=>{let g=t[h];if(!g)return;const y=p.map(m=>m.presence_ref);g=g.filter(m=>y.indexOf(m.presence_ref)<0),t[h]=g,o(h,g,p),g.length===0&&delete t[h]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(i=>e(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,i)=>{const o=t[i];return"metas"in o?e[i]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):e[i]=o,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var y0;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(y0||(y0={}));var So;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(So||(So={}));var ls;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(ls||(ls={}));class Dd{constructor(t,e={config:{}},i){this.topic=t,this.params=e,this.socket=i,this.bindings={},this.state=fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new Ah(this,On.join,this.params,this.timeout),this.rejoinTimer=new sw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=fe.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(On.reply,{},(o,u)=>{this._trigger(this._replyEventName(u),o)}),this.presence=new Eo(this),this.broadcastEndpointURL=rw(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,e=this.timeout){var i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==fe.closed){const{config:{broadcast:u,presence:c,private:h}}=this.params,p=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(v=>v.filter))!==null&&o!==void 0?o:[],g=!!this.bindings[So.PRESENCE]&&this.bindings[So.PRESENCE].length>0,y={},m={broadcast:u,presence:Object.assign(Object.assign({},c),{enabled:g}),postgres_changes:p,private:h};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(v=>t?.(ls.CHANNEL_ERROR,v)),this._onClose(()=>t?.(ls.CLOSED)),this.updateJoinPayload(Object.assign({config:m},y)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",async({postgres_changes:v})=>{var E;if(this.socket.setAuth(),v===void 0){t?.(ls.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,S=(E=T?.length)!==null&&E!==void 0?E:0,x=[];for(let D=0;D<S;D++){const G=T[D],{filter:{event:L,schema:F,table:K,filter:H}}=G,J=v&&v[D];if(J&&J.event===L&&J.schema===F&&J.table===K&&J.filter===H)x.push(Object.assign(Object.assign({},G),{id:J.id}));else{this.unsubscribe(),this.state=fe.errored,t?.(ls.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(ls.SUBSCRIBED);return}}).receive("error",v=>{this.state=fe.errored,t?.(ls.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t?.(ls.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,e={}){return await this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,e,i){return this.state===fe.joined&&t===So.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,e,i)}async send(t,e={}){var i,o;if(!this._canPush()&&t.type==="broadcast"){const{event:u,payload:c}=t,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:c,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=e.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var c,h,p;const g=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((p=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=fe.leaving;const e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(On.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new Ah(this,On.leave,{},t),i.receive("ok",()=>{e(),o("ok")}).receive("timeout",()=>{e(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=fe.closed,this.bindings={}}async _fetchWithTimeout(t,e,i){const o=new AbortController,u=setTimeout(()=>o.abort(),i),c=await this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:o.signal}));return clearTimeout(u),c}_push(t,e,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Ah(this,t,e,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>xS){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(t,e,i){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,i){var o,u;const c=t.toLocaleLowerCase(),{close:h,error:p,leave:g,join:y}=On;if(i&&[h,p,g,y].indexOf(c)>=0&&i!==this._joinRef())return;let v=this._onMessage(c,e,i);if(e&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(E=>{var T,S,x;return((T=E.filter)===null||T===void 0?void 0:T.event)==="*"||((x=(S=E.filter)===null||S===void 0?void 0:S.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===c}).map(E=>E.callback(v,i)):(u=this.bindings[c])===null||u===void 0||u.filter(E=>{var T,S,x,D,G,L;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in E){const F=E.id,K=(T=E.filter)===null||T===void 0?void 0:T.event;return F&&((S=e.ids)===null||S===void 0?void 0:S.includes(F))&&(K==="*"||K?.toLocaleLowerCase()===((x=e.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const F=(G=(D=E?.filter)===null||D===void 0?void 0:D.event)===null||G===void 0?void 0:G.toLocaleLowerCase();return F==="*"||F===((L=e?.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===c}).map(E=>{if(typeof v=="object"&&"ids"in v){const T=v.data,{schema:S,table:x,commit_timestamp:D,type:G,errors:L}=T;v=Object.assign(Object.assign({},{schema:S,table:x,commit_timestamp:D,eventType:G,new:{},old:{},errors:L}),this._getPayloadRecords(T))}E.callback(v,i)})}_isClosed(){return this.state===fe.closed}_isJoined(){return this.state===fe.joined}_isJoining(){return this.state===fe.joining}_isLeaving(){return this.state===fe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,i){const o=t.toLocaleLowerCase(),u={type:o,filter:e,callback:i};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(t,e){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&Dd.isEqual(o.filter,e))})),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const i in t)if(t[i]!==e[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(On.close,{},t)}_onError(t){this._on(On.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=fe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=p0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=p0(t.columns,t.old_record)),e}}const m0=()=>{},ou={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},DS=[1e3,2e3,5e3,1e4],MS=1e4,LS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class PS{constructor(t,e){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yh,this.transport=null,this.heartbeatIntervalMs=ou.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=m0,this.ref=0,this.reconnectTimer=null,this.logger=m0,this.conn=null,this.sendBuffer=[],this.serializer=new OS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let u;return o?u=o:typeof fetch>"u"?u=(...c)=>Lo(async()=>{const{default:h}=await Promise.resolve().then(()=>ca);return{default:h}},void 0,import.meta.url).then(({default:h})=>h(...c)).catch(h=>{throw new Error(`Failed to load @supabase/node-fetch: ${h.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):u=fetch,(...c)=>u(...c)},!(!((i=e?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=e.params.apikey,this.endPoint=`${t}/${Xh.websocket}`,this.httpEndpoint=rw(t),this._initializeOptions(e),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(e?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=AS.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const e=t.message;throw e.includes("Node.js")?new Error(`${e}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${e}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:TS}))}disconnect(t,e){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},t?this.conn.close(t,e??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const e=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),e}async removeAllChannels(){const t=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,e,i){this.logger(t,e,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Ao.connecting:return Ui.Connecting;case Ao.open:return Ui.Open;case Ao.closing:return Ui.Closing;default:return Ui.Closed}}isConnected(){return this.connectionState()===Ui.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,e={config:{}}){const i=`realtime:${t}`,o=this.getChannels().find(u=>u.topic===i);if(o)return o;{const u=new Dd(`realtime:${t}`,e,this);return this.channels.push(u),u}}push(t){const{topic:e,event:i,payload:o,ref:u}=t,c=()=>{this.encode(t,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${e} ${i} (${u})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(_S,"heartbeat timeout"),setTimeout(()=>{var e;this.isConnected()||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout()},ou.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,e=>{e.topic==="phoenix"&&e.event==="phx_reply"&&this.heartbeatCallback(e.payload.status==="ok"?"ok":"error"),e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:o,payload:u,ref:c}=e,h=c?`(${c})`:"",p=u.status||"";this.log("receive",`${p} ${i} ${o} ${h}`.trim(),u),this.channels.filter(g=>g._isMember(i)).forEach(g=>g._trigger(o,u,c)),this._triggerStateCallbacks("message",e)})}_clearTimer(t){var e;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((e=this.reconnectTimer)===null||e===void 0||e.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var e;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(On.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;const i=t.match(/\?/)?"&":"?",o=new URLSearchParams(e);return`${t}${i}${o}`}_workerObjectUrl(t){let e;if(t)e=t;else{const i=new Blob([LS],{type:"application/javascript"});e=URL.createObjectURL(i)}return e}_setConnectionState(t,e=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=e)}async _performAuth(t=null){let e;t?e=t:this.accessToken?e=await this.accessToken():e=this.accessTokenValue,this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(i=>{const o={access_token:e,version:SS};e&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(On.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(e=>{this.log("error",`error setting auth in ${t}`,e)})}_triggerStateCallbacks(t,e){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(e)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new sw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ou.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var e,i,o,u,c,h,p,g;if(this.transport=(e=t?.transport)!==null&&e!==void 0?e:null,this.timeout=(i=t?.timeout)!==null&&i!==void 0?i:Yh,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:ou.HEARTBEAT_INTERVAL,this.worker=(u=t?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t?.reconnectAfterMs)!==null&&h!==void 0?h:y=>DS[y-1]||MS,this.encode=(p=t?.encode)!==null&&p!==void 0?p:(y,m)=>m(JSON.stringify(y)),this.decode=(g=t?.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Md extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function he(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class IS extends Md{constructor(t,e,i){super(t),this.name="StorageApiError",this.status=e,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $h extends Md{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}}var jS=function(r,t,e,i){function o(u){return u instanceof e?u:new e(function(c){c(u)})}return new(e||(e=Promise))(function(u,c){function h(y){try{g(i.next(y))}catch(m){c(m)}}function p(y){try{g(i.throw(y))}catch(m){c(m)}}function g(y){y.done?u(y.value):o(y.value).then(h,p)}g((i=i.apply(r,t||[])).next())})};const aw=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...e)=>Lo(async()=>{const{default:i}=await Promise.resolve().then(()=>ca);return{default:i}},void 0,import.meta.url).then(({default:i})=>i(...e)):t=fetch,(...e)=>t(...e)},zS=()=>jS(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Lo(()=>Promise.resolve().then(()=>ca),void 0,import.meta.url)).Response:Response}),Wh=r=>{if(Array.isArray(r))return r.map(e=>Wh(e));if(typeof r=="function"||r!==Object(r))return r;const t={};return Object.entries(r).forEach(([e,i])=>{const o=e.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[o]=Wh(i)}),t},HS=r=>{if(typeof r!="object"||r===null)return!1;const t=Object.getPrototypeOf(r);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)};var Vi=function(r,t,e,i){function o(u){return u instanceof e?u:new e(function(c){c(u)})}return new(e||(e=Promise))(function(u,c){function h(y){try{g(i.next(y))}catch(m){c(m)}}function p(y){try{g(i.throw(y))}catch(m){c(m)}}function g(y){y.done?u(y.value):o(y.value).then(h,p)}g((i=i.apply(r,t||[])).next())})};const Eh=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),GS=(r,t,e)=>Vi(void 0,void 0,void 0,function*(){const i=yield zS();r instanceof i&&!e?.noResolveJson?r.json().then(o=>{const u=r.status||500,c=o?.statusCode||u+"";t(new IS(Eh(o),u,c))}).catch(o=>{t(new $h(Eh(o),o))}):t(new $h(Eh(r),r))}),FS=(r,t,e,i)=>{const o={method:r,headers:t?.headers||{}};return r==="GET"||!i?o:(HS(i)?(o.headers=Object.assign({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(i)):o.body=i,t?.duplex&&(o.duplex=t.duplex),Object.assign(Object.assign({},o),e))};function Po(r,t,e,i,o,u){return Vi(this,void 0,void 0,function*(){return new Promise((c,h)=>{r(e,FS(t,i,o,u)).then(p=>{if(!p.ok)throw p;return i?.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>GS(p,h,i))})})}function Cu(r,t,e,i){return Vi(this,void 0,void 0,function*(){return Po(r,"GET",t,e,i)})}function Hn(r,t,e,i,o){return Vi(this,void 0,void 0,function*(){return Po(r,"POST",t,i,o,e)})}function td(r,t,e,i,o){return Vi(this,void 0,void 0,function*(){return Po(r,"PUT",t,i,o,e)})}function QS(r,t,e,i){return Vi(this,void 0,void 0,function*(){return Po(r,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),i)})}function ow(r,t,e,i,o){return Vi(this,void 0,void 0,function*(){return Po(r,"DELETE",t,i,o,e)})}var ke=function(r,t,e,i){function o(u){return u instanceof e?u:new e(function(c){c(u)})}return new(e||(e=Promise))(function(u,c){function h(y){try{g(i.next(y))}catch(m){c(m)}}function p(y){try{g(i.throw(y))}catch(m){c(m)}}function g(y){y.done?u(y.value):o(y.value).then(h,p)}g((i=i.apply(r,t||[])).next())})};const qS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},b0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class VS{constructor(t,e={},i,o){this.url=t,this.headers=e,this.bucketId=i,this.fetch=aw(o)}uploadOrUpdate(t,e,i,o){return ke(this,void 0,void 0,function*(){try{let u;const c=Object.assign(Object.assign({},b0),o);let h=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),p&&u.append("metadata",this.encodeMetadata(p)),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.append("cacheControl",c.cacheControl),p&&u.append("metadata",this.encodeMetadata(p))):(u=i,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,p&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),o?.headers&&(h=Object.assign(Object.assign({},h),o.headers));const g=this._removeEmptyFolders(e),y=this._getFinalPath(g),m=yield(t=="PUT"?td:Hn)(this.fetch,`${this.url}/object/${y}`,u,Object.assign({headers:h},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:g,id:m.Id,fullPath:m.Key},error:null}}catch(u){if(he(u))return{data:null,error:u};throw u}})}upload(t,e,i){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,i)})}uploadToSignedUrl(t,e,i,o){return ke(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(t),c=this._getFinalPath(u),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",e);try{let p;const g=Object.assign({upsert:b0.upsert},o),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",g.cacheControl)):(p=i,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType);const m=yield td(this.fetch,h.toString(),p,{headers:y});return{data:{path:u,fullPath:m.Key},error:null}}catch(p){if(he(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(t,e){return ke(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t);const o=Object.assign({},this.headers);e?.upsert&&(o["x-upsert"]="true");const u=yield Hn(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),c=new URL(this.url+u.url),h=c.searchParams.get("token");if(!h)throw new Md("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:h},error:null}}catch(i){if(he(i))return{data:null,error:i};throw i}})}update(t,e,i){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,i)})}move(t,e,i){return ke(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(he(o))return{data:null,error:o};throw o}})}copy(t,e,i){return ke(this,void 0,void 0,function*(){try{return{data:{path:(yield Hn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(he(o))return{data:null,error:o};throw o}})}createSignedUrl(t,e,i){return ke(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),u=yield Hn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:e},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i?.download?`&download=${i.download===!0?"":i.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${c}`)},{data:u,error:null}}catch(o){if(he(o))return{data:null,error:o};throw o}})}createSignedUrls(t,e,i){return ke(this,void 0,void 0,function*(){try{const o=yield Hn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${u}`):null})),error:null}}catch(o){if(he(o))return{data:null,error:o};throw o}})}download(t,e){return ke(this,void 0,void 0,function*(){const o=typeof e?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(e?.transform||{}),c=u?`?${u}`:"";try{const h=this._getFinalPath(t);return{data:yield(yield Cu(this.fetch,`${this.url}/${o}/${h}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(he(h))return{data:null,error:h};throw h}})}info(t){return ke(this,void 0,void 0,function*(){const e=this._getFinalPath(t);try{const i=yield Cu(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:Wh(i),error:null}}catch(i){if(he(i))return{data:null,error:i};throw i}})}exists(t){return ke(this,void 0,void 0,function*(){const e=this._getFinalPath(t);try{return yield QS(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(he(i)&&i instanceof $h){const o=i.originalError;if([400,404].includes(o?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(t,e){const i=this._getFinalPath(t),o=[],u=e?.download?`download=${e.download===!0?"":e.download}`:"";u!==""&&o.push(u);const h=typeof e?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(e?.transform||{});p!==""&&o.push(p);let g=o.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${g}`)}}}remove(t){return ke(this,void 0,void 0,function*(){try{return{data:yield ow(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(he(e))return{data:null,error:e};throw e}})}list(t,e,i){return ke(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},qS),e),{prefix:t||""});return{data:yield Hn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(he(o))return{data:null,error:o};throw o}})}listV2(t,e){return ke(this,void 0,void 0,function*(){try{const i=Object.assign({},t);return{data:yield Hn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},e),error:null}}catch(i){if(he(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}}const KS="2.11.0",JS={"X-Client-Info":`storage-js/${KS}`};var jr=function(r,t,e,i){function o(u){return u instanceof e?u:new e(function(c){c(u)})}return new(e||(e=Promise))(function(u,c){function h(y){try{g(i.next(y))}catch(m){c(m)}}function p(y){try{g(i.throw(y))}catch(m){c(m)}}function g(y){y.done?u(y.value):o(y.value).then(h,p)}g((i=i.apply(r,t||[])).next())})};class YS{constructor(t,e={},i,o){const u=new URL(t);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href,this.headers=Object.assign(Object.assign({},JS),e),this.fetch=aw(i)}listBuckets(){return jr(this,void 0,void 0,function*(){try{return{data:yield Cu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(he(t))return{data:null,error:t};throw t}})}getBucket(t){return jr(this,void 0,void 0,function*(){try{return{data:yield Cu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(he(e))return{data:null,error:e};throw e}})}createBucket(t,e={public:!1}){return jr(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(he(i))return{data:null,error:i};throw i}})}updateBucket(t,e){return jr(this,void 0,void 0,function*(){try{return{data:yield td(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(he(i))return{data:null,error:i};throw i}})}emptyBucket(t){return jr(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(he(e))return{data:null,error:e};throw e}})}deleteBucket(t){return jr(this,void 0,void 0,function*(){try{return{data:yield ow(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(he(e))return{data:null,error:e};throw e}})}}class XS extends YS{constructor(t,e={},i,o){super(t,e,i,o)}from(t){return new VS(this.url,this.headers,t,this.fetch)}}const ZS="2.56.0";let yo="";typeof Deno<"u"?yo="deno":typeof document<"u"?yo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yo="react-native":yo="node";const $S={"X-Client-Info":`supabase-js-${yo}/${ZS}`},WS={headers:$S},tT={schema:"public"},eT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},nT={};var sT=function(r,t,e,i){function o(u){return u instanceof e?u:new e(function(c){c(u)})}return new(e||(e=Promise))(function(u,c){function h(y){try{g(i.next(y))}catch(m){c(m)}}function p(y){try{g(i.throw(y))}catch(m){c(m)}}function g(y){y.done?u(y.value):o(y.value).then(h,p)}g((i=i.apply(r,t||[])).next())})};const iT=r=>{let t;return r?t=r:typeof fetch>"u"?t=Zb:t=fetch,(...e)=>t(...e)},rT=()=>typeof Headers>"u"?$b:Headers,aT=(r,t,e)=>{const i=iT(e),o=rT();return(u,c)=>sT(void 0,void 0,void 0,function*(){var h;const p=(h=yield t())!==null&&h!==void 0?h:r;let g=new o(c?.headers);return g.has("apikey")||g.set("apikey",r),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),i(u,Object.assign(Object.assign({},c),{headers:g}))})};var oT=function(r,t,e,i){function o(u){return u instanceof e?u:new e(function(c){c(u)})}return new(e||(e=Promise))(function(u,c){function h(y){try{g(i.next(y))}catch(m){c(m)}}function p(y){try{g(i.throw(y))}catch(m){c(m)}}function g(y){y.done?u(y.value):o(y.value).then(h,p)}g((i=i.apply(r,t||[])).next())})};function lT(r){return r.endsWith("/")?r:r+"/"}function uT(r,t){var e,i;const{db:o,auth:u,realtime:c,global:h}=r,{db:p,auth:g,realtime:y,global:m}=t,v={db:Object.assign(Object.assign({},p),o),auth:Object.assign(Object.assign({},g),u),realtime:Object.assign(Object.assign({},y),c),storage:{},global:Object.assign(Object.assign(Object.assign({},m),h),{headers:Object.assign(Object.assign({},(e=m?.headers)!==null&&e!==void 0?e:{}),(i=h?.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>oT(this,void 0,void 0,function*(){return""})};return r.accessToken?v.accessToken=r.accessToken:delete v.accessToken,v}const lw="2.71.1",Vr=30*1e3,ed=3,Sh=ed*Vr,cT="http://localhost:9999",fT="supabase.auth.token",hT={"X-Client-Info":`gotrue-js/${lw}`},nd="X-Supabase-Api-Version",uw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},dT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,pT=600*1e3;class Ld extends Error{constructor(t,e,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=i}}function ht(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class gT extends Ld{constructor(t,e,i){super(t,e,i),this.name="AuthApiError",this.status=e,this.code=i}}function yT(r){return ht(r)&&r.name==="AuthApiError"}class cw extends Ld{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}}class oi extends Ld{constructor(t,e,i,o){super(t,i,o),this.name=e,this.status=i}}class $s extends oi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function mT(r){return ht(r)&&r.name==="AuthSessionMissingError"}class lu extends oi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class uu extends oi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class cu extends oi{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function bT(r){return ht(r)&&r.name==="AuthImplicitGrantRedirectError"}class w0 extends oi{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sd extends oi{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}}function Th(r){return ht(r)&&r.name==="AuthRetryableFetchError"}class v0 extends oi{constructor(t,e,i){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=i}}class id extends oi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ku="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),A0=` 	
\r=`.split(""),wT=(()=>{const r=new Array(128);for(let t=0;t<r.length;t+=1)r[t]=-1;for(let t=0;t<A0.length;t+=1)r[A0[t].charCodeAt(0)]=-2;for(let t=0;t<ku.length;t+=1)r[ku[t].charCodeAt(0)]=t;return r})();function E0(r,t,e){if(r!==null)for(t.queue=t.queue<<8|r,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;e(ku[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;e(ku[i]),t.queuedBits-=6}}function fw(r,t,e){const i=wT[r];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)e(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function S0(r){const t=[],e=c=>{t.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=c=>{ET(c,i,e)};for(let c=0;c<r.length;c+=1)fw(r.charCodeAt(c),o,u);return t.join("")}function vT(r,t){if(r<=127){t(r);return}else if(r<=2047){t(192|r>>6),t(128|r&63);return}else if(r<=65535){t(224|r>>12),t(128|r>>6&63),t(128|r&63);return}else if(r<=1114111){t(240|r>>18),t(128|r>>12&63),t(128|r>>6&63),t(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function AT(r,t){for(let e=0;e<r.length;e+=1){let i=r.charCodeAt(e);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(r.charCodeAt(e+1)-56320&65535|o)+65536,e+=1}vT(i,t)}}function ET(r,t,e){if(t.utf8seq===0){if(r<=127){e(r);return}for(let i=1;i<6;i+=1)if((r>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=r&31;else if(t.utf8seq===3)t.codepoint=r&15;else if(t.utf8seq===4)t.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|r&63,t.utf8seq-=1,t.utf8seq===0&&e(t.codepoint)}}function ST(r){const t=[],e={queue:0,queuedBits:0},i=o=>{t.push(o)};for(let o=0;o<r.length;o+=1)fw(r.charCodeAt(o),e,i);return new Uint8Array(t)}function TT(r){const t=[];return AT(r,e=>t.push(e)),new Uint8Array(t)}function _T(r){const t=[],e={queue:0,queuedBits:0},i=o=>{t.push(o)};return r.forEach(o=>E0(o,e,i)),E0(null,e,i),t.join("")}function xT(r){return Math.round(Date.now()/1e3)+r}function OT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const t=Math.random()*16|0;return(r=="x"?t:t&3|8).toString(16)})}const Tn=()=>typeof window<"u"&&typeof document<"u",Ni={tested:!1,writable:!1},hw=()=>{if(!Tn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ni.tested)return Ni.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Ni.tested=!0,Ni.writable=!0}catch{Ni.tested=!0,Ni.writable=!1}return Ni.writable};function NT(r){const t={},e=new URL(r);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((o,u)=>{t[u]=o})}catch{}return e.searchParams.forEach((i,o)=>{t[o]=i}),t}const dw=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...e)=>Lo(async()=>{const{default:i}=await Promise.resolve().then(()=>ca);return{default:i}},void 0,import.meta.url).then(({default:i})=>i(...e)):t=fetch,(...e)=>t(...e)},RT=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Kr=async(r,t,e)=>{await r.setItem(t,JSON.stringify(e))},Ri=async(r,t)=>{const e=await r.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}},Ks=async(r,t)=>{await r.removeItem(t)};class Hu{constructor(){this.promise=new Hu.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}}Hu.promiseConstructor=Promise;function _h(r){const t=r.split(".");if(t.length!==3)throw new id("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!dT.test(t[i]))throw new id("JWT not in base64url format");return{header:JSON.parse(S0(t[0])),payload:JSON.parse(S0(t[1])),signature:ST(t[2]),raw:{header:t[0],payload:t[1]}}}async function CT(r){return await new Promise(t=>{setTimeout(()=>t(null),r)})}function kT(r,t){return new Promise((i,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const c=await r(u);if(!t(u,null,c)){i(c);return}}catch(c){if(!t(u,c)){o(c);return}}})()})}function BT(r){return("0"+r.toString(16)).substr(-2)}function UT(){const t=new Uint32Array(56);if(typeof crypto>"u"){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=e.length;let o="";for(let u=0;u<56;u++)o+=e.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(t),Array.from(t,BT).join("")}async function DT(r){const e=new TextEncoder().encode(r),i=await crypto.subtle.digest("SHA-256",e),o=new Uint8Array(i);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function MT(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const e=await DT(r);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zr(r,t,e=!1){const i=UT();let o=i;e&&(o+="/PASSWORD_RECOVERY"),await Kr(r,`${t}-code-verifier`,o);const u=await MT(i);return[u,i===u?"plain":"s256"]}const LT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function PT(r){const t=r.headers.get(nd);if(!t||!t.match(LT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function IT(r){if(!r)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(r<=t)throw new Error("JWT has expired")}function jT(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const zT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Hr(r){if(!zT.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xh(){const r={};return new Proxy(r,{get:(t,e)=>{if(e==="__isUserNotAvailableProxy")return!0;if(typeof e=="symbol"){const i=e.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${e}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function T0(r){return JSON.parse(JSON.stringify(r))}var HT=function(r,t){var e={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(e[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(e[i[o]]=r[i[o]]);return e};const ki=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),GT=[502,503,504];async function _0(r){var t;if(!RT(r))throw new sd(ki(r),0);if(GT.includes(r.status))throw new sd(ki(r),r.status);let e;try{e=await r.json()}catch(u){throw new cw(ki(u),u)}let i;const o=PT(r);if(o&&o.getTime()>=uw["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?i=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(i=e.error_code),i){if(i==="weak_password")throw new v0(ki(e),r.status,((t=e.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new $s}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((u,c)=>u&&typeof c=="string",!0))throw new v0(ki(e),r.status,e.weak_password.reasons);throw new gT(ki(e),r.status||500,i)}const FT=(r,t,e,i)=>{const o={method:r,headers:t?.headers||{}};return r==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),e))};async function vt(r,t,e,i){var o;const u=Object.assign({},i?.headers);u[nd]||(u[nd]=uw["2024-01-01"].name),i?.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const c=(o=i?.query)!==null&&o!==void 0?o:{};i?.redirectTo&&(c.redirect_to=i.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await QT(r,t,e+h,{headers:u,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(p):{data:Object.assign({},p),error:null}}async function QT(r,t,e,i,o,u){const c=FT(t,i,o,u);let h;try{h=await r(e,Object.assign({},c))}catch(p){throw console.error(p),new sd(ki(p),0)}if(h.ok||await _0(h),i?.noResolveJson)return h;try{return await h.json()}catch(p){await _0(p)}}function os(r){var t;let e=null;JT(r)&&(e=Object.assign({},r),r.expires_at||(e.expires_at=xT(r.expires_in)));const i=(t=r.user)!==null&&t!==void 0?t:r;return{data:{session:e,user:i},error:null}}function x0(r){const t=os(r);return!t.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((e,i)=>e&&typeof i=="string",!0)&&(t.data.weak_password=r.weak_password),t}function ti(r){var t;return{data:{user:(t=r.user)!==null&&t!==void 0?t:r},error:null}}function qT(r){return{data:r,error:null}}function VT(r){const{action_link:t,email_otp:e,hashed_token:i,redirect_to:o,verification_type:u}=r,c=HT(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:t,email_otp:e,hashed_token:i,redirect_to:o,verification_type:u},p=Object.assign({},c);return{data:{properties:h,user:p},error:null}}function KT(r){return r}function JT(r){return r.access_token&&r.refresh_token&&r.expires_in}const Oh=["global","local","others"];var YT=function(r,t){var e={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(e[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(e[i[o]]=r[i[o]]);return e};class XT{constructor({url:t="",headers:e={},fetch:i}){this.url=t,this.headers=e,this.fetch=dw(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,e=Oh[0]){if(Oh.indexOf(e)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Oh.join(", ")}`);try{return await vt(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ht(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,e={}){try{return await vt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:ti})}catch(i){if(ht(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:e}=t,i=YT(t,["options"]),o=Object.assign(Object.assign({},i),e);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),await vt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:VT,redirectTo:e?.redirectTo})}catch(e){if(ht(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(t){try{return await vt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ti})}catch(e){if(ht(e))return{data:{user:null},error:e};throw e}}async listUsers(t){var e,i,o,u,c,h,p;try{const g={nextPage:null,lastPage:0,total:0},y=await vt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&i!==void 0?i:"",per_page:(u=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:KT});if(y.error)throw y.error;const m=await y.json(),v=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,E=(p=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return E.length>0&&(E.forEach(T=>{const S=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(T.split(";")[1].split("=")[1]);g[`${x}Page`]=S}),g.total=parseInt(v)),{data:Object.assign(Object.assign({},m),g),error:null}}catch(g){if(ht(g))return{data:{users:[]},error:g};throw g}}async getUserById(t){Hr(t);try{return await vt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ti})}catch(e){if(ht(e))return{data:{user:null},error:e};throw e}}async updateUserById(t,e){Hr(t);try{return await vt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:ti})}catch(i){if(ht(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,e=!1){Hr(t);try{return await vt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:ti})}catch(i){if(ht(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){Hr(t.userId);try{const{data:e,error:i}=await vt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:e,error:i}}catch(e){if(ht(e))return{data:null,error:e};throw e}}async _deleteFactor(t){Hr(t.userId),Hr(t.id);try{return{data:await vt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(ht(e))return{data:null,error:e};throw e}}}function O0(r={}){return{getItem:t=>r[t]||null,setItem:(t,e)=>{r[t]=e},removeItem:t=>{delete r[t]}}}function ZT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Gr={debug:!!(globalThis&&hw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pw extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class $T extends pw{}async function WT(r,t,e){Gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),Gr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){Gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,o.name);try{return await e()}finally{Gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,o.name)}}else{if(t===0)throw Gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new $T(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Gr.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await e()}}))}ZT();const t_={url:cT,storageKey:fT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function N0(r,t,e){return await e()}const Fr={};class xo{constructor(t){var e,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=xo.nextInstanceID,xo.nextInstanceID+=1,this.instanceID>0&&Tn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},t_),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new XT({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=dw(o.fetch),this.lock=o.lock||N0,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Tn()&&(!((e=globalThis?.navigator)===null||e===void 0)&&e.locks)?this.lock=WT:this.lock=N0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:hw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=O0(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=O0(this.memoryStorage)),Tn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}get jwks(){var t,e;return(e=(t=Fr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&e!==void 0?e:{keys:[]}}set jwks(t){Fr[this.storageKey]=Object.assign(Object.assign({},Fr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,e;return(e=(t=Fr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&e!==void 0?e:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Fr[this.storageKey]=Object.assign(Object.assign({},Fr[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${lw}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const e=NT(window.location.href);let i="none";if(this._isImplicitGrantCallback(e)?i="implicit":await this._isPKCECallback(e)&&(i="pkce"),Tn()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:u}=await this._getSessionFromURL(e,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),bT(u)){const p=(t=u.details)===null||t===void 0?void 0:t.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:c,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return ht(e)?{error:e}:{error:new cw("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var e,i,o;try{const u=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(e=t?.options)===null||e===void 0?void 0:e.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:os}),{data:c,error:h}=u;if(h||!c)return{data:{user:null,session:null},error:h};const p=c.session,g=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(u){if(ht(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(t){var e,i,o;try{let u;if("email"in t){const{email:y,password:m,options:v}=t;let E=null,T=null;this.flowType==="pkce"&&([E,T]=await zr(this.storage,this.storageKey)),u=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:y,password:m,data:(e=v?.data)!==null&&e!==void 0?e:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:E,code_challenge_method:T},xform:os})}else if("phone"in t){const{phone:y,password:m,options:v}=t;u=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:m,data:(i=v?.data)!==null&&i!==void 0?i:{},channel:(o=v?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:os})}else throw new uu("You must provide either an email or phone number and a password");const{data:c,error:h}=u;if(h||!c)return{data:{user:null,session:null},error:h};const p=c.session,g=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(u){if(ht(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(t){try{let e;if("email"in t){const{email:u,password:c,options:h}=t;e=await vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:x0})}else if("phone"in t){const{phone:u,password:c,options:h}=t;e=await vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:x0})}else throw new uu("You must provide either an email or phone number and a password");const{data:i,error:o}=e;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new lu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(e){if(ht(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(t){var e,i,o,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(e=t.options)===null||e===void 0?void 0:e.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:e}=t;if(e==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${e}"`)}async signInWithSolana(t){var e,i,o,u,c,h,p,g,y,m,v,E;let T,S;if("message"in t)T=t.message,S=t.signature;else{const{chain:x,wallet:D,statement:G,options:L}=t;let F;if(Tn())if(typeof D=="object")F=D;else{const H=window;if("solana"in H&&typeof H.solana=="object"&&("signIn"in H.solana&&typeof H.solana.signIn=="function"||"signMessage"in H.solana&&typeof H.solana.signMessage=="function"))F=H.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=D}const K=new URL((e=L?.url)!==null&&e!==void 0?e:window.location.href);if("signIn"in F&&F.signIn){const H=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},L?.signInWithSolana),{version:"1",domain:K.host,uri:K.href}),G?{statement:G}:null));let J;if(Array.isArray(H)&&H[0]&&typeof H[0]=="object")J=H[0];else if(H&&typeof H=="object"&&"signedMessage"in H&&"signature"in H)J=H;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)T=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),S=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${K.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...G?["",G,""]:[""],"Version: 1",`URI: ${K.href}`,`Issued At: ${(o=(i=L?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=L?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${L.signInWithSolana.notBefore}`]:[],...!((c=L?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${L.signInWithSolana.expirationTime}`]:[],...!((h=L?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${L.signInWithSolana.chainId}`]:[],...!((p=L?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${L.signInWithSolana.nonce}`]:[],...!((g=L?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${L.signInWithSolana.requestId}`]:[],...!((m=(y=L?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||m===void 0)&&m.length?["Resources",...L.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);const H=await F.signMessage(new TextEncoder().encode(T),"utf8");if(!H||!(H instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=H}}try{const{data:x,error:D}=await vt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:_T(S)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(E=t.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:os});if(D)throw D;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new lu}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:D})}catch(x){if(ht(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const e=await Ri(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(e??"").split("/");try{const{data:u,error:c}=await vt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:os});if(await Ks(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new lu}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:c})}catch(u){if(ht(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(t){try{const{options:e,provider:i,token:o,access_token:u,nonce:c}=t,h=await vt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:u,nonce:c,gotrue_meta_security:{captcha_token:e?.captchaToken}},xform:os}),{data:p,error:g}=h;return g?{data:{user:null,session:null},error:g}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new lu}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:g})}catch(e){if(ht(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(t){var e,i,o,u,c;try{if("email"in t){const{email:h,options:p}=t;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await zr(this.storage,this.storageKey));const{error:m}=await vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(e=p?.data)!==null&&e!==void 0?e:{},create_user:(i=p?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){const{phone:h,options:p}=t,{data:g,error:y}=await vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=p?.data)!==null&&o!==void 0?o:{},create_user:(u=p?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(c=p?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:g?.message_id},error:y}}throw new uu("You must provide either an email or phone number.")}catch(h){if(ht(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(t){var e,i;try{let o,u;"options"in t&&(o=(e=t.options)===null||e===void 0?void 0:e.redirectTo,u=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:h}=await vt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:os});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,g=c.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(o){if(ht(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var e,i,o;try{let u=null,c=null;return this.flowType==="pkce"&&([u,c]=await zr(this.storage,this.storageKey)),await vt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(e=t.options)===null||e===void 0?void 0:e.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:c}),headers:this.headers,xform:qT})}catch(u){if(ht(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:e},error:i}=t;if(i)throw i;if(!e)throw new $s;const{error:o}=await vt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:e.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(ht(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const e=`${this.url}/resend`;if("email"in t){const{email:i,type:o,options:u}=t,{error:c}=await vt(this.fetch,"POST",e,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in t){const{phone:i,type:o,options:u}=t,{data:c,error:h}=await vt(this.fetch,"POST",e,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:h}}throw new uu("You must provide either an email or phone number and a type")}catch(e){if(ht(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(t,e){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await e()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=e();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const e=await this.__loadSession();return await t(e)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const e=await Ri(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",e),e!==null&&(this._isValidSession(e)?t=e:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<Sh:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const c=await Ri(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=xh()}if(this.storage.isServer&&t.user){let c=this.suppressGetSessionWarning;t=new Proxy(t,{get:(p,g,y)=>(!c&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,g,y))})}return{data:{session:t},error:null}}const{session:o,error:u}=await this._callRefreshToken(t.refresh_token);return u?{data:{session:null},error:u}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ti}):await this._useSession(async e=>{var i,o,u;const{data:c,error:h}=e;if(h)throw h;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $s}:await vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:ti})})}catch(e){if(ht(e))return mT(e)&&(await this._removeSession(),await Ks(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:e};throw e}}async updateUser(t,e={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,e))}async _updateUser(t,e={}){try{return await this._useSession(async i=>{const{data:o,error:u}=i;if(u)throw u;if(!o.session)throw new $s;const c=o.session;let h=null,p=null;this.flowType==="pkce"&&t.email!=null&&([h,p]=await zr(this.storage,this.storageKey));const{data:g,error:y}=await vt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:e?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:h,code_challenge_method:p}),jwt:c.access_token,xform:ti});if(y)throw y;return c.user=g.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(i){if(ht(i))return{data:{user:null},error:i};throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $s;const e=Date.now()/1e3;let i=e,o=!0,u=null;const{payload:c}=_h(t.access_token);if(c.exp&&(i=c.exp,o=i<=e),o){const{session:h,error:p}=await this._callRefreshToken(t.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!h)return{data:{user:null,session:null},error:null};u=h}else{const{data:h,error:p}=await this._getUser(t.access_token);if(p)throw p;u={access_token:t.access_token,refresh_token:t.refresh_token,user:h.user,token_type:"bearer",expires_in:i-e,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(e){if(ht(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async e=>{var i;if(!t){const{data:c,error:h}=e;if(h)throw h;t=(i=c.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new $s;const{session:o,error:u}=await this._callRefreshToken(t.refresh_token);return u?{data:{user:null,session:null},error:u}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(e){if(ht(e))return{data:{user:null,session:null},error:e};throw e}}async _getSessionFromURL(t,e){try{if(!Tn())throw new cu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new cu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(e){case"implicit":if(this.flowType==="pkce")throw new w0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new cu("Not a valid implicit grant flow url.");break;default:}if(e==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new w0("No code detected.");const{data:G,error:L}=await this._exchangeCodeForSession(t.code);if(L)throw L;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:G.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:u,refresh_token:c,expires_in:h,expires_at:p,token_type:g}=t;if(!u||!h||!c||!g)throw new cu("No session defined in URL");const y=Math.round(Date.now()/1e3),m=parseInt(h);let v=y+m;p&&(v=parseInt(p));const E=v-y;E*1e3<=Vr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${m}s`);const T=v-m;y-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,v,y):y-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,v,y);const{data:S,error:x}=await this._getUser(u);if(x)throw x;const D={provider_token:i,provider_refresh_token:o,access_token:u,expires_in:m,expires_at:v,refresh_token:c,token_type:g,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:D,redirectType:t.type},error:null}}catch(i){if(ht(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const e=await Ri(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&e)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async e=>{var i;const{data:o,error:u}=e;if(u)return{error:u};const c=(i=o.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:h}=await this.admin.signOut(c,t);if(h&&!(yT(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return t!=="others"&&(await this._removeSession(),await Ks(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const e=OT(),i={id:e,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",e),this.stateChangeEmitters.delete(e)}};return this._debug("#onAuthStateChange()","registered callback with id",e),this.stateChangeEmitters.set(e,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(e)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async e=>{var i,o;try{const{data:{session:u},error:c}=e;if(c)throw c;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,e={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await zr(this.storage,this.storageKey,!0));try{return await vt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:e.captchaToken}},headers:this.headers,redirectTo:e.redirectTo})}catch(u){if(ht(u))return{data:null,error:u};throw u}}async getUserIdentities(){var t;try{const{data:e,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(t=e.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(e){if(ht(e))return{data:null,error:e};throw e}}async linkIdentity(t){var e;try{const{data:i,error:o}=await this._useSession(async u=>{var c,h,p,g,y;const{data:m,error:v}=u;if(v)throw v;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=t.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=t.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await vt(this.fetch,"GET",E,{headers:this.headers,jwt:(y=(g=m.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return Tn()&&!(!((e=t.options)===null||e===void 0)&&e.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:t.provider,url:i?.url},error:null}}catch(i){if(ht(i))return{data:{provider:t.provider,url:null},error:i};throw i}}async unlinkIdentity(t){try{return await this._useSession(async e=>{var i,o;const{data:u,error:c}=e;if(c)throw c;return await vt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(e){if(ht(e))return{data:null,error:e};throw e}}async _refreshAccessToken(t){const e=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(e,"begin");try{const i=Date.now();return await kT(async o=>(o>0&&await CT(200*Math.pow(2,o-1)),this._debug(e,"refreshing attempt",o),await vt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:os})),(o,u)=>{const c=200*Math.pow(2,o);return u&&Th(u)&&Date.now()+c-i<Vr})}catch(i){if(this._debug(e,"error",i),ht(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(e,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,e){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:e.redirectTo,scopes:e.scopes,queryParams:e.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",e,"url",i),Tn()&&!e.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,e;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await Ri(this.storage,this.storageKey);if(o&&this.userStorage){let c=await Ri(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await Kr(this.userStorage,this.storageKey+"-user",c)),o.user=(t=c?.user)!==null&&t!==void 0?t:xh()}else if(o&&!o.user&&!o.user){const c=await Ri(this.storage,this.storageKey+"-user");c&&c?.user?(o.user=c.user,await Ks(this.storage,this.storageKey+"-user"),await Kr(this.storage,this.storageKey,o)):o.user=xh()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const u=((e=o.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Sh;if(this._debug(i,`session has${u?"":" not"} expired with margin of ${Sh}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),Th(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(o.access_token);!h&&c?.user?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var e,i;if(!t)throw new $s;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Hu;const{data:u,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!u.session)throw new $s;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const h={session:u.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(u){if(this._debug(o,"error",u),ht(u)){const c={session:null,error:u};return Th(u)||await this._removeSession(),(e=this.refreshingDeferred)===null||e===void 0||e.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,e,i=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",e,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:e});const u=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(t,e)}catch(p){u.push(p)}});if(await Promise.all(c),u.length>0){for(let h=0;h<u.length;h+=1)console.error(u[h]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const e=Object.assign({},t),i=e.user&&e.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&e.user&&await Kr(this.userStorage,this.storageKey+"-user",{user:e.user});const o=Object.assign({},e);delete o.user;const u=T0(o);await Kr(this.storage,this.storageKey,u)}else{const o=T0(e);await Kr(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Ks(this.storage,this.storageKey),await Ks(this.storage,this.storageKey+"-code-verifier"),await Ks(this.storage,this.storageKey+"-user"),this.userStorage&&await Ks(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Tn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Vr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:i}}=e;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-t)/Vr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Vr}ms, refresh threshold is ${ed} ticks`),o<=ed&&await this._callRefreshToken(i.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof pw)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const e=`#_onVisibilityChanged(${t})`;this._debug(e,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(e,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,e,i){const o=[`provider=${encodeURIComponent(e)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,c]=await zr(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(h.toString())}if(i?.queryParams){const u=new URLSearchParams(i.queryParams);o.push(u.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async e=>{var i;const{data:o,error:u}=e;return u?{data:null,error:u}:await vt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(e){if(ht(e))return{data:null,error:e};throw e}}async _enroll(t){try{return await this._useSession(async e=>{var i,o;const{data:u,error:c}=e;if(c)return{data:null,error:c};const h=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:p,error:g}=await vt(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=u?.session)===null||i===void 0?void 0:i.access_token});return g?{data:null,error:g}:(t.factorType==="totp"&&(!((o=p?.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(e){if(ht(e))return{data:null,error:e};throw e}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var i;const{data:o,error:u}=e;if(u)return{data:null,error:u};const{data:c,error:h}=await vt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:h})})}catch(e){if(ht(e))return{data:null,error:e};throw e}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var i;const{data:o,error:u}=e;return u?{data:null,error:u}:await vt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(e){if(ht(e))return{data:null,error:e};throw e}})}async _challengeAndVerify(t){const{data:e,error:i}=await this._challenge({factorId:t.factorId});return i?{data:null,error:i}:await this._verify({factorId:t.factorId,challengeId:e.id,code:t.code})}async _listFactors(){const{data:{user:t},error:e}=await this.getUser();if(e)return{data:null,error:e};const i=t?.factors||[],o=i.filter(c=>c.factor_type==="totp"&&c.status==="verified"),u=i.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:i,totp:o,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var e,i;const{data:{session:o},error:u}=t;if(u)return{data:null,error:u};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=_h(o.access_token);let h=null;c.aal&&(h=c.aal);let p=h;((i=(e=o.user.factors)===null||e===void 0?void 0:e.filter(m=>m.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(p="aal2");const y=c.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(t,e={keys:[]}){let i=e.keys.find(h=>h.kid===t);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(h=>h.kid===t),i&&this.jwks_cached_at+pT>o)return i;const{data:u,error:c}=await vt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,i=u.keys.find(h=>h.kid===t),!i)?null:i}async getClaims(t,e={}){try{let i=t;if(!i){const{data:E,error:T}=await this.getSession();if(T||!E.session)return{data:null,error:T};i=E.session.access_token}const{header:o,payload:u,signature:c,raw:{header:h,payload:p}}=_h(i);e?.allowExpired||IT(u.exp);const g=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,e?.keys?{keys:e.keys}:e?.jwks);if(!g){const{error:E}=await this.getUser(i);if(E)throw E;return{data:{claims:u,header:o,signature:c},error:null}}const y=jT(o.alg),m=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,m,c,TT(`${h}.${p}`)))throw new id("Invalid JWT signature");return{data:{claims:u,header:o,signature:c},error:null}}catch(i){if(ht(i))return{data:null,error:i};throw i}}}xo.nextInstanceID=0;const e_=xo;class n_ extends e_{constructor(t){super(t)}}var s_=function(r,t,e,i){function o(u){return u instanceof e?u:new e(function(c){c(u)})}return new(e||(e=Promise))(function(u,c){function h(y){try{g(i.next(y))}catch(m){c(m)}}function p(y){try{g(i.throw(y))}catch(m){c(m)}}function g(y){y.done?u(y.value):o(y.value).then(h,p)}g((i=i.apply(r,t||[])).next())})};class i_{constructor(t,e,i){var o,u,c;if(this.supabaseUrl=t,this.supabaseKey=e,!t)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");const h=lT(t),p=new URL(h);this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const g=`sb-${p.hostname.split(".")[0]}-auth-token`,y={db:tT,realtime:nT,auth:Object.assign(Object.assign({},eT),{storageKey:g}),global:WS},m=uT(i??{},y);this.storageKey=(o=m.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(u=m.global.headers)!==null&&u!==void 0?u:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(v,E)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(E)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=m.auth)!==null&&c!==void 0?c:{},this.headers,m.global.fetch),this.fetch=aT(e,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new vS(new URL("rest/v1",p).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new XS(this.storageUrl.href,this.headers,this.fetch,i?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new cS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},i={}){return this.rest.rpc(t,e,i)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,e;return s_(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(e=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:i,storage:o,storageKey:u,flowType:c,lock:h,debug:p},g,y){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new n_({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),g),storageKey:u,autoRefreshToken:t,persistSession:e,detectSessionInUrl:i,storage:o,flowType:c,lock:h,debug:p,fetch:y,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new PS(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,i)=>{this._handleTokenChanged(e,"CLIENT",i?.access_token)})}_handleTokenChanged(t,e,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const r_=(r,t,e)=>new i_(r,t,e);function a_(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const t=r.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}a_()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const o_="https://kioagchqxghozubrtqbh.supabase.co",l_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtpb2FnY2hxeGdob3p1YnJ0cWJoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYzNTk1OTYsImV4cCI6MjA3MTkzNTU5Nn0.LYZqpeTrVEKaEiiOqcbf742wiNVNHKp58CwxB8Ess9c",fu=r_(o_,l_),u_=r=>{try{const t=new Date(r);return`${t.toLocaleDateString()} ${t.toLocaleTimeString()}`}catch{return""}},c_=()=>{const{address:r,isConnected:t}=Mo(),[e,i]=Nt.useState(""),[o,u]=Nt.useState([]),[c,h]=Nt.useState(!1),[p,g]=Nt.useState("");Nt.useEffect(()=>{(async()=>{h(!0),g("");const{data:T,error:S}=await fu.from("comments").select("id,address,content,created_at").order("created_at",{ascending:!1});S?g("댓글을 불러오는 중 오류가 발생했습니다."):u(Array.isArray(T)?T:[]),h(!1)})();const E=fu.channel("public:comments").on("postgres_changes",{event:"INSERT",schema:"public",table:"comments"},T=>{const S=T.new;u(x=>x.find(D=>D.id===S.id)?x:[S,...x])}).subscribe();return()=>{fu.removeChannel(E)}},[]);const y=Nt.useMemo(()=>e.trim().length>0,[e]),m=async v=>{if(v.preventDefault(),!y||!t)return;g("");const{data:E,error:T}=await fu.from("comments").insert({address:r,content:e.trim()}).select("id,address,content,created_at").single();if(T){g("댓글 등록에 실패했습니다.");return}E&&(u(S=>[E,...S]),i(""))};return k.jsxs("div",{className:"comments-container",children:[k.jsx("h3",{className:"comments-title",children:"댓글"}),t?k.jsxs("form",{className:"comments-form",onSubmit:m,children:[k.jsx("div",{className:"comments-form-row",children:k.jsx("textarea",{value:e,onChange:v=>i(v.target.value),placeholder:"댓글을 입력하세요",rows:3,className:"comments-textarea"})}),k.jsx("div",{className:"comments-actions",children:k.jsx("button",{type:"submit",className:"comments-submit",disabled:!y,children:"등록"})})]}):k.jsx("div",{className:"comments-guard",children:"지갑을 연결해야 댓글을 작성할 수 있어요."}),k.jsx("div",{className:"comments-list",children:c?k.jsx("p",{className:"comments-empty",children:"불러오는 중..."}):p?k.jsx("p",{className:"comments-empty",children:p}):o.length===0?k.jsx("p",{className:"comments-empty",children:"첫 댓글을 남겨보세요!"}):o.map(v=>k.jsxs("div",{className:"comment-item",children:[k.jsxs("div",{className:"comment-header",children:[k.jsxs("span",{className:"comment-address",children:["작성자: ",v.address]}),k.jsx("span",{className:"comment-date",children:u_(v.created_at)})]}),k.jsx("p",{className:"comment-text",children:v.content})]},v.id))}),k.jsx("style",{children:`
        .comments-container { margin-top: 24px; background: #ffffff; border: 1px solid #e5e7eb; border-radius: 12px; padding: 18px; color: #111827; }
        .comments-title { margin: 0 0 14px 0; font-size: 20px; font-weight: 700; color: #111827; }
        .comments-form-row { margin-bottom: 10px; }
        .comments-textarea { width: 100%; padding: 12px 12px; border: 1px solid #d1d5db; border-radius: 10px; outline: none; font-size: 16px; color: #111827; background: #ffffff; }
        .comments-textarea::placeholder { color: #6b7280; }
        .comments-textarea:focus { border-color: #4f46e5; box-shadow: 0 0 0 3px rgba(79,70,229,0.15); }
        .comments-actions { display: flex; justify-content: flex-end; }
        .comments-submit { background: #4f46e5; color: #ffffff; border: none; border-radius: 10px; padding: 10px 16px; cursor: pointer; font-size: 16px; font-weight: 600; }
        .comments-submit[disabled] { background: #c7c9ff; cursor: not-allowed; }
        .comments-list { margin-top: 18px; display: flex; flex-direction: column; gap: 14px; }
        .comments-empty { color: #374151; margin: 0; font-size: 15px; }
        .comment-item { border: 1px solid #e5e7eb; border-radius: 12px; padding: 14px; background: #ffffff; }
        .comment-header { display: flex; gap: 10px; align-items: baseline; margin-bottom: 8px; flex-wrap: wrap; }
        .comment-address { font-weight: 600; color: #111827; font-size: 13px; font-family: 'Courier New', monospace; background: #f3f4f6; padding: 4px 8px; border-radius: 6px; }
        .comment-date { color: #6b7280; font-size: 12px; }
        .comment-text { margin: 8px 0 12px 0; white-space: pre-wrap; color: #111827; font-size: 16px; line-height: 1.7; }
        .comments-guard { color: #374151; font-size: 14px; background: #f3f4f6; border: 1px dashed #d1d5db; padding: 10px 12px; border-radius: 10px; }

        @media (max-width: 480px) {
          .comments-title { font-size: 18px; }
          .comments-textarea { font-size: 15px; }
          .comment-text { font-size: 15px; }
        }
      `})]})},f_=()=>{const{address:r,isConnected:t}=Mo(),{connect:e,connectors:i,isPending:o}=PE(),{disconnect:u}=IE();return console.log("Connectors:",i),console.log("First connector:",i[0]),k.jsxs("div",{className:"main-content",children:[k.jsx("div",{className:"page-header",children:k.jsx("h2",{children:"홈"})}),k.jsxs("div",{className:"home-welcome-card",children:[k.jsx("h3",{className:"home-welcome-title",children:"Web3 블로그에 오신 것을 환영합니다! 🚀"}),k.jsx("p",{className:"home-welcome-text",children:"블록체인 기술과 Web3 생태계에 대한 최신 정보를 확인하고, 다양한 DeFi 서비스를 경험해보세요."}),t?k.jsx("div",{className:"wallet-connected",children:k.jsxs("div",{className:"wallet-connected-content",children:[k.jsxs("div",{children:[k.jsx("p",{className:"wallet-connected-info",children:"✅ 지갑이 연결되었습니다"}),k.jsx("p",{className:"wallet-address",children:r})]}),k.jsx("button",{onClick:()=>u(),className:"disconnect-button",children:"연결 해제"})]})}):k.jsxs("div",{className:"wallet-not-connected",children:[k.jsx("p",{className:"wallet-not-connected-text",children:"⚠️ 지갑을 연결하여 모든 기능을 이용해보세요."}),k.jsx("div",{className:"connect-buttons",children:i.length>0?i.map(c=>k.jsx("button",{onClick:()=>e({connector:c}),disabled:o,className:"connect-button",children:o?"연결 중...":`연결 ${c.name}`},c.uid)):k.jsx("p",{children:"사용 가능한 지갑이 없습니다."})})]})]}),k.jsx(c_,{})]})},h_="6.15.0";function d_(r,t,e){const i=t.split("|").map(u=>u.trim());for(let u=0;u<i.length;u++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof r===t)return}const o=new Error(`invalid value for type ${t}`);throw o.code="INVALID_ARGUMENT",o.argument=`value.${e}`,o.value=r,o}async function Be(r){const t=Object.keys(r);return(await Promise.all(t.map(i=>Promise.resolve(r[i])))).reduce((i,o,u)=>(i[t[u]]=o,i),{})}function ot(r,t,e){for(let i in t){let o=t[i];const u=e?e[i]:null;u&&d_(o,u,i),Object.defineProperty(r,i,{enumerable:!0,value:o,writable:!1})}}function Yr(r,t){if(r==null)return"null";if(t==null&&(t=new Set),typeof r=="object"){if(t.has(r))return"[Circular]";t.add(r)}if(Array.isArray(r))return"[ "+r.map(e=>Yr(e,t)).join(", ")+" ]";if(r instanceof Uint8Array){const e="0123456789abcdef";let i="0x";for(let o=0;o<r.length;o++)i+=e[r[o]>>4],i+=e[r[o]&15];return i}if(typeof r=="object"&&typeof r.toJSON=="function")return Yr(r.toJSON(),t);switch(typeof r){case"boolean":case"number":case"symbol":return r.toString();case"bigint":return BigInt(r).toString();case"string":return JSON.stringify(r);case"object":{const e=Object.keys(r);return e.sort(),"{ "+e.map(i=>`${Yr(i,t)}: ${Yr(r[i],t)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Oe(r,t){return r&&r.code===t}function Pd(r){return Oe(r,"CALL_EXCEPTION")}function Vt(r,t,e){let i=r;{const u=[];if(e){if("message"in e||"code"in e||"name"in e)throw new Error(`value will overwrite populated values: ${Yr(e)}`);for(const c in e){if(c==="shortMessage")continue;const h=e[c];u.push(c+"="+Yr(h))}}u.push(`code=${t}`),u.push(`version=${h_}`),u.length&&(r+=" ("+u.join(", ")+")")}let o;switch(t){case"INVALID_ARGUMENT":o=new TypeError(r);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":o=new RangeError(r);break;default:o=new Error(r)}return ot(o,{code:t}),e&&Object.assign(o,e),o.shortMessage==null&&ot(o,{shortMessage:i}),o}function q(r,t,e,i){if(!r)throw Vt(t,e,i)}function O(r,t,e,i){q(r,t,"INVALID_ARGUMENT",{argument:e,value:i})}function gw(r,t,e){e==null&&(e=""),e&&(e=": "+e),q(r>=t,"missing argument"+e,"MISSING_ARGUMENT",{count:r,expectedCount:t}),q(r<=t,"too many arguments"+e,"UNEXPECTED_ARGUMENT",{count:r,expectedCount:t})}["NFD","NFC","NFKD","NFKC"].reduce((r,t)=>{try{if("test".normalize(t)!=="test")throw new Error("bad");if(t==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");r.push(t)}catch{}return r},[]);function Gu(r,t,e){if(e==null&&(e=""),r!==t){let i=e,o="new";e&&(i+=".",o+=" "+e),q(!1,`private constructor; use ${i}from* methods`,"UNSUPPORTED_OPERATION",{operation:o})}}function yw(r,t,e){if(r instanceof Uint8Array)return e?new Uint8Array(r):r;if(typeof r=="string"&&r.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const i=new Uint8Array((r.length-2)/2);let o=2;for(let u=0;u<i.length;u++)i[u]=parseInt(r.substring(o,o+2),16),o+=2;return i}O(!1,"invalid BytesLike value",t||"value",r)}function yt(r,t){return yw(r,t,!1)}function Ue(r,t){return yw(r,t,!0)}function Ft(r,t){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||typeof t=="number"&&r.length!==2+2*t||t===!0&&r.length%2!==0)}function Id(r){return Ft(r,!0)||r instanceof Uint8Array}const R0="0123456789abcdef";function $(r){const t=yt(r);let e="0x";for(let i=0;i<t.length;i++){const o=t[i];e+=R0[(o&240)>>4]+R0[o&15]}return e}function te(r){return"0x"+r.map(t=>$(t).substring(2)).join("")}function Zr(r){return Ft(r,!0)?(r.length-2)/2:yt(r).length}function Zt(r,t,e){const i=yt(r);return e!=null&&e>i.length&&q(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:i,length:i.length,offset:e}),$(i.slice(t??0,e??i.length))}function mw(r,t,e){const i=yt(r);q(t>=i.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(i),length:t,offset:t+1});const o=new Uint8Array(t);return o.fill(0),e?o.set(i,t-i.length):o.set(i,0),$(o)}function ms(r,t){return mw(r,t,!0)}function p_(r,t){return mw(r,t,!1)}const Fu=BigInt(0),Cn=BigInt(1),Xr=9007199254740991;function g_(r,t){const e=Qu(r,"value"),i=BigInt(mt(t,"width"));if(q(e>>i===Fu,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:r}),e>>i-Cn){const o=(Cn<<i)-Cn;return-((~e&o)+Cn)}return e}function bw(r,t){let e=tt(r,"value");const i=BigInt(mt(t,"width")),o=Cn<<i-Cn;if(e<Fu){e=-e,q(e<=o,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});const u=(Cn<<i)-Cn;return(~e&u)+Cn}else q(e<o,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});return e}function mo(r,t){const e=Qu(r,"value"),i=BigInt(mt(t,"bits"));return e&(Cn<<i)-Cn}function tt(r,t){switch(typeof r){case"bigint":return r;case"number":return O(Number.isInteger(r),"underflow",t||"value",r),O(r>=-Xr&&r<=Xr,"overflow",t||"value",r),BigInt(r);case"string":try{if(r==="")throw new Error("empty string");return r[0]==="-"&&r[1]!=="-"?-BigInt(r.substring(1)):BigInt(r)}catch(e){O(!1,`invalid BigNumberish string: ${e.message}`,t||"value",r)}}O(!1,"invalid BigNumberish value",t||"value",r)}function Qu(r,t){const e=tt(r,t);return q(e>=Fu,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:r}),e}const C0="0123456789abcdef";function jd(r){if(r instanceof Uint8Array){let t="0x0";for(const e of r)t+=C0[e>>4],t+=C0[e&15];return BigInt(t)}return tt(r)}function mt(r,t){switch(typeof r){case"bigint":return O(r>=-Xr&&r<=Xr,"overflow",t||"value",r),Number(r);case"number":return O(Number.isInteger(r),"underflow",t||"value",r),O(r>=-Xr&&r<=Xr,"overflow",t||"value",r),r;case"string":try{if(r==="")throw new Error("empty string");return mt(BigInt(r),t)}catch(e){O(!1,`invalid numeric string: ${e.message}`,t||"value",r)}}O(!1,"invalid numeric value",t||"value",r)}function y_(r){return mt(jd(r))}function ri(r,t){let i=Qu(r,"value").toString(16);if(t==null)i.length%2&&(i="0"+i);else{const o=mt(t,"width");for(q(o*2>=i.length,`value exceeds width (${o} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:r});i.length<o*2;)i="0"+i}return"0x"+i}function de(r){const t=Qu(r,"value");if(t===Fu)return new Uint8Array([]);let e=t.toString(16);e.length%2&&(e="0"+e);const i=new Uint8Array(e.length/2);for(let o=0;o<i.length;o++){const u=o*2;i[o]=parseInt(e.substring(u,u+2),16)}return i}function Rn(r){let t=$(Id(r)?r:de(r)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return t===""&&(t="0"),"0x"+t}const k0="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const B0=BigInt(58);function m_(r){const t=yt(r);let e=jd(t),i="";for(;e;)i=k0[Number(e%B0)]+i,e/=B0;for(let o=0;o<t.length&&!t[o];o++)i=k0[0]+i;return i}function b_(r){r=atob(r);const t=new Uint8Array(r.length);for(let e=0;e<r.length;e++)t[e]=r.charCodeAt(e);return yt(t)}function w_(r){const t=yt(r);let e="";for(let i=0;i<t.length;i++)e+=String.fromCharCode(t[i]);return btoa(e)}class ww{filter;emitter;#t;constructor(t,e,i){this.#t=e,ot(this,{emitter:t,filter:i})}async removeListener(){this.#t!=null&&await this.emitter.off(this.filter,this.#t)}}function v_(r,t,e,i,o){O(!1,`invalid codepoint at offset ${t}; ${r}`,"bytes",e)}function vw(r,t,e,i,o){if(r==="BAD_PREFIX"||r==="UNEXPECTED_CONTINUE"){let u=0;for(let c=t+1;c<e.length&&e[c]>>6===2;c++)u++;return u}return r==="OVERRUN"?e.length-t-1:0}function A_(r,t,e,i,o){return r==="OVERLONG"?(O(typeof o=="number","invalid bad code point for replacement","badCodepoint",o),i.push(o),0):(i.push(65533),vw(r,t,e))}const E_=Object.freeze({error:v_,ignore:vw,replace:A_});function S_(r,t){t==null&&(t=E_.error);const e=yt(r,"bytes"),i=[];let o=0;for(;o<e.length;){const u=e[o++];if(u>>7===0){i.push(u);continue}let c=null,h=null;if((u&224)===192)c=1,h=127;else if((u&240)===224)c=2,h=2047;else if((u&248)===240)c=3,h=65535;else{(u&192)===128?o+=t("UNEXPECTED_CONTINUE",o-1,e,i):o+=t("BAD_PREFIX",o-1,e,i);continue}if(o-1+c>=e.length){o+=t("OVERRUN",o-1,e,i);continue}let p=u&(1<<8-c-1)-1;for(let g=0;g<c;g++){let y=e[o];if((y&192)!=128){o+=t("MISSING_CONTINUE",o,e,i),p=null;break}p=p<<6|y&63,o++}if(p!==null){if(p>1114111){o+=t("OUT_OF_RANGE",o-1-c,e,i,p);continue}if(p>=55296&&p<=57343){o+=t("UTF16_SURROGATE",o-1-c,e,i,p);continue}if(p<=h){o+=t("OVERLONG",o-1-c,e,i,p);continue}i.push(p)}}return i}function gs(r,t){O(typeof r=="string","invalid string value","str",r);let e=[];for(let i=0;i<r.length;i++){const o=r.charCodeAt(i);if(o<128)e.push(o);else if(o<2048)e.push(o>>6|192),e.push(o&63|128);else if((o&64512)==55296){i++;const u=r.charCodeAt(i);O(i<r.length&&(u&64512)===56320,"invalid surrogate pair","str",r);const c=65536+((o&1023)<<10)+(u&1023);e.push(c>>18|240),e.push(c>>12&63|128),e.push(c>>6&63|128),e.push(c&63|128)}else e.push(o>>12|224),e.push(o>>6&63|128),e.push(o&63|128)}return new Uint8Array(e)}function T_(r){return r.map(t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10&1023)+55296,(t&1023)+56320))).join("")}function Bu(r,t){return T_(S_(r,t))}function Aw(r){async function t(e,i){q(i==null||!i.cancelled,"request cancelled before sending","CANCELLED");const o=e.url.split(":")[0].toLowerCase();q(o==="http"||o==="https",`unsupported protocol ${o}`,"UNSUPPORTED_OPERATION",{info:{protocol:o},operation:"request"}),q(o==="https"||!e.credentials||e.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let u=null;const c=new AbortController,h=setTimeout(()=>{u=Vt("request timeout","TIMEOUT"),c.abort()},e.timeout);i&&i.addListener(()=>{u=Vt("request cancelled","CANCELLED"),c.abort()});const p=Object.assign({},r,{method:e.method,headers:new Headers(Array.from(e)),body:e.body||void 0,signal:c.signal});let g;try{g=await fetch(e.url,p)}catch(E){throw clearTimeout(h),u||E}clearTimeout(h);const y={};g.headers.forEach((E,T)=>{y[T.toLowerCase()]=E});const m=await g.arrayBuffer(),v=m==null?null:new Uint8Array(m);return{statusCode:g.status,statusMessage:g.statusText,headers:y,body:v}}return t}const __=12,x_=250;let U0=Aw();const O_=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),N_=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Nh=!1;async function Ew(r,t){try{const e=r.match(O_);if(!e)throw new Error("invalid data");return new ni(200,"OK",{"content-type":e[1]||"text/plain"},e[2]?b_(e[3]):C_(e[3]))}catch{return new ni(599,"BAD REQUEST (invalid data: URI)",{},null,new bs(r))}}function Sw(r){async function t(e,i){try{const o=e.match(N_);if(!o)throw new Error("invalid link");return new bs(`${r}${o[2]}`)}catch{return new ni(599,"BAD REQUEST (invalid IPFS URI)",{},null,new bs(e))}}return t}const hu={data:Ew,ipfs:Sw("https://gateway.ipfs.io/ipfs/")},Tw=new WeakMap;class R_{#t;#e;constructor(t){this.#t=[],this.#e=!1,Tw.set(t,()=>{if(!this.#e){this.#e=!0;for(const e of this.#t)setTimeout(()=>{e()},0);this.#t=[]}})}addListener(t){q(!this.#e,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#t.push(t)}get cancelled(){return this.#e}checkSignal(){q(!this.cancelled,"cancelled","CANCELLED",{})}}function du(r){if(r==null)throw new Error("missing signal; should not happen");return r.checkSignal(),r}class bs{#t;#e;#n;#s;#i;#a;#r;#o;#d;#u;#p;#g;#l;#c;#f;get url(){return this.#a}set url(t){this.#a=String(t)}get body(){return this.#r==null?null:new Uint8Array(this.#r)}set body(t){if(t==null)this.#r=void 0,this.#o=void 0;else if(typeof t=="string")this.#r=gs(t),this.#o="text/plain";else if(t instanceof Uint8Array)this.#r=t,this.#o="application/octet-stream";else if(typeof t=="object")this.#r=gs(JSON.stringify(t)),this.#o="application/json";else throw new Error("invalid body")}hasBody(){return this.#r!=null}get method(){return this.#s?this.#s:this.hasBody()?"POST":"GET"}set method(t){t==null&&(t=""),this.#s=String(t).toUpperCase()}get headers(){const t=Object.assign({},this.#n);return this.#d&&(t.authorization=`Basic ${w_(gs(this.#d))}`),this.allowGzip&&(t["accept-encoding"]="gzip"),t["content-type"]==null&&this.#o&&(t["content-type"]=this.#o),this.body&&(t["content-length"]=String(this.body.length)),t}getHeader(t){return this.headers[t.toLowerCase()]}setHeader(t,e){this.#n[String(t).toLowerCase()]=String(e)}clearHeaders(){this.#n={}}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let i=0;return{next:()=>{if(i<e.length){const o=e[i++];return{value:[o,t[o]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#d||null}setCredentials(t,e){O(!t.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#d=`${t}:${e}`}get allowGzip(){return this.#e}set allowGzip(t){this.#e=!!t}get allowInsecureAuthentication(){return!!this.#t}set allowInsecureAuthentication(t){this.#t=!!t}get timeout(){return this.#i}set timeout(t){O(t>=0,"timeout must be non-zero","timeout",t),this.#i=t}get preflightFunc(){return this.#u||null}set preflightFunc(t){this.#u=t}get processFunc(){return this.#p||null}set processFunc(t){this.#p=t}get retryFunc(){return this.#g||null}set retryFunc(t){this.#g=t}get getUrlFunc(){return this.#f||U0}set getUrlFunc(t){this.#f=t}constructor(t){this.#a=String(t),this.#t=!1,this.#e=!0,this.#n={},this.#s="",this.#i=3e5,this.#c={slotInterval:x_,maxAttempts:__},this.#f=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#r?$(this.#r):"null"}>`}setThrottleParams(t){t.slotInterval!=null&&(this.#c.slotInterval=t.slotInterval),t.maxAttempts!=null&&(this.#c.maxAttempts=t.maxAttempts)}async#h(t,e,i,o,u){if(t>=this.#c.maxAttempts)return u.makeServerError("exceeded maximum retry limit");q(D0()<=e,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:o}),i>0&&await k_(i);let c=this.clone();const h=(c.url.split(":")[0]||"").toLowerCase();if(h in hu){const y=await hu[h](c.url,du(o.#l));if(y instanceof ni){let m=y;if(this.processFunc){du(o.#l);try{m=await this.processFunc(c,m)}catch(v){(v.throttle==null||typeof v.stall!="number")&&m.makeServerError("error in post-processing function",v).assertOk()}}return m}c=y}this.preflightFunc&&(c=await this.preflightFunc(c));const p=await this.getUrlFunc(c,du(o.#l));let g=new ni(p.statusCode,p.statusMessage,p.headers,p.body,o);if(g.statusCode===301||g.statusCode===302){try{const y=g.headers.location||"";return c.redirect(y).#h(t+1,e,0,o,g)}catch{}return g}else if(g.statusCode===429&&(this.retryFunc==null||await this.retryFunc(c,g,t))){const y=g.headers["retry-after"];let m=this.#c.slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return typeof y=="string"&&y.match(/^[1-9][0-9]*$/)&&(m=parseInt(y)),c.clone().#h(t+1,e,m,o,g)}if(this.processFunc){du(o.#l);try{g=await this.processFunc(c,g)}catch(y){(y.throttle==null||typeof y.stall!="number")&&g.makeServerError("error in post-processing function",y).assertOk();let m=this.#c.slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return y.stall>=0&&(m=y.stall),c.clone().#h(t+1,e,m,o,g)}}return g}send(){return q(this.#l==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#l=new R_(this),this.#h(0,D0()+this.timeout,0,this,new ni(0,"",{},null,this))}cancel(){q(this.#l!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const t=Tw.get(this);if(!t)throw new Error("missing signal; should not happen");t()}redirect(t){const e=this.url.split(":")[0].toLowerCase(),i=t.split(":")[0].toLowerCase();q(this.method==="GET"&&(e!=="https"||i!=="http")&&t.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(t)})`});const o=new bs(t);return o.method="GET",o.allowGzip=this.allowGzip,o.timeout=this.timeout,o.#n=Object.assign({},this.#n),this.#r&&(o.#r=new Uint8Array(this.#r)),o.#o=this.#o,o}clone(){const t=new bs(this.url);return t.#s=this.#s,this.#r&&(t.#r=this.#r),t.#o=this.#o,t.#n=Object.assign({},this.#n),t.#d=this.#d,this.allowGzip&&(t.allowGzip=!0),t.timeout=this.timeout,this.allowInsecureAuthentication&&(t.allowInsecureAuthentication=!0),t.#u=this.#u,t.#p=this.#p,t.#g=this.#g,t.#c=Object.assign({},this.#c),t.#f=this.#f,t}static lockConfig(){Nh=!0}static getGateway(t){return hu[t.toLowerCase()]||null}static registerGateway(t,e){if(t=t.toLowerCase(),t==="http"||t==="https")throw new Error(`cannot intercept ${t}; use registerGetUrl`);if(Nh)throw new Error("gateways locked");hu[t]=e}static registerGetUrl(t){if(Nh)throw new Error("gateways locked");U0=t}static createGetUrlFunc(t){return Aw(t)}static createDataGateway(){return Ew}static createIpfsGatewayFunc(t){return Sw(t)}}class ni{#t;#e;#n;#s;#i;#a;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#s?$(this.#s):"null"}>`}get statusCode(){return this.#t}get statusMessage(){return this.#e}get headers(){return Object.assign({},this.#n)}get body(){return this.#s==null?null:new Uint8Array(this.#s)}get bodyText(){try{return this.#s==null?"":Bu(this.#s)}catch{q(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{q(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let i=0;return{next:()=>{if(i<e.length){const o=e[i++];return{value:[o,t[o]],done:!1}}return{value:void 0,done:!0}}}}constructor(t,e,i,o,u){this.#t=t,this.#e=e,this.#n=Object.keys(i).reduce((c,h)=>(c[h.toLowerCase()]=String(i[h]),c),{}),this.#s=o==null?null:new Uint8Array(o),this.#i=u||null,this.#a={message:""}}makeServerError(t,e){let i;t?i=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${t})`:(t=`${this.statusCode} ${this.statusMessage}`,i=`CLIENT ESCALATED SERVER ERROR (${t})`);const o=new ni(599,i,this.headers,this.body,this.#i||void 0);return o.#a={message:t,error:e},o}throwThrottleError(t,e){e==null?e=-1:O(Number.isInteger(e)&&e>=0,"invalid stall timeout","stall",e);const i=new Error(t||"throttling requests");throw ot(i,{stall:e,throttle:!0}),i}getHeader(t){return this.headers[t.toLowerCase()]}hasBody(){return this.#s!=null}get request(){return this.#i}ok(){return this.#a.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:t,error:e}=this.#a;t===""&&(t=`server response ${this.statusCode} ${this.statusMessage}`);let i=null;this.request&&(i=this.request.url);let o=null;try{this.#s&&(o=Bu(this.#s))}catch{}q(!1,t,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:e,info:{requestUrl:i,responseBody:o,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function D0(){return new Date().getTime()}function C_(r){return gs(r.replace(/%([0-9a-f][0-9a-f])/gi,(t,e)=>String.fromCharCode(parseInt(e,16))))}function k_(r){return new Promise(t=>setTimeout(t,r))}function B_(r){let t=r.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function M0(r,t,e){let i=0;for(let o=0;o<e;o++)i=i*256+r[t+o];return i}function L0(r,t,e,i){const o=[];for(;e<t+1+i;){const u=_w(r,e);o.push(u.result),e+=u.consumed,q(e<=t+1+i,"child data too short","BUFFER_OVERRUN",{buffer:r,length:i,offset:t})}return{consumed:1+i,result:o}}function _w(r,t){q(r.length!==0,"data too short","BUFFER_OVERRUN",{buffer:r,length:0,offset:1});const e=i=>{q(i<=r.length,"data short segment too short","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:i})};if(r[t]>=248){const i=r[t]-247;e(t+1+i);const o=M0(r,t+1,i);return e(t+1+i+o),L0(r,t,t+1+i,i+o)}else if(r[t]>=192){const i=r[t]-192;return e(t+1+i),L0(r,t,t+1,i)}else if(r[t]>=184){const i=r[t]-183;e(t+1+i);const o=M0(r,t+1,i);e(t+1+i+o);const u=$(r.slice(t+1+i,t+1+i+o));return{consumed:1+i+o,result:u}}else if(r[t]>=128){const i=r[t]-128;e(t+1+i);const o=$(r.slice(t+1,t+1+i));return{consumed:1+i,result:o}}return{consumed:1,result:B_(r[t])}}function Io(r){const t=yt(r,"data"),e=_w(t,0);return O(e.consumed===t.length,"unexpected junk after rlp payload","data",r),e.result}function P0(r){const t=[];for(;r;)t.unshift(r&255),r>>=8;return t}function xw(r){if(Array.isArray(r)){let i=[];if(r.forEach(function(u){i=i.concat(xw(u))}),i.length<=55)return i.unshift(192+i.length),i;const o=P0(i.length);return o.unshift(247+o.length),o.concat(i)}const t=Array.prototype.slice.call(yt(r,"object"));if(t.length===1&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const e=P0(t.length);return e.unshift(183+e.length),e.concat(t)}const I0="0123456789abcdef";function ai(r){let t="0x";for(const e of xw(r))t+=I0[e>>4],t+=I0[e&15];return t}const De=32,rd=new Uint8Array(De),U_=["then"],pu={},Ow=new WeakMap;function Di(r){return Ow.get(r)}function j0(r,t){Ow.set(r,t)}function ho(r,t){const e=new Error(`deferred error during ABI decoding triggered accessing ${r}`);throw e.error=t,e}function ad(r,t,e){return r.indexOf(null)>=0?t.map((i,o)=>i instanceof ds?ad(Di(i),i,e):i):r.reduce((i,o,u)=>{let c=t.getValue(o);return o in i||(e&&c instanceof ds&&(c=ad(Di(c),c,e)),i[o]=c),i},{})}class ds extends Array{#t;constructor(...t){const e=t[0];let i=t[1],o=(t[2]||[]).slice(),u=!0;e!==pu&&(i=t,o=[],u=!1),super(i.length),i.forEach((p,g)=>{this[g]=p});const c=o.reduce((p,g)=>(typeof g=="string"&&p.set(g,(p.get(g)||0)+1),p),new Map);if(j0(this,Object.freeze(i.map((p,g)=>{const y=o[g];return y!=null&&c.get(y)===1?y:null}))),this.#t=[],this.#t==null&&this.#t,!u)return;Object.freeze(this);const h=new Proxy(this,{get:(p,g,y)=>{if(typeof g=="string"){if(g.match(/^[0-9]+$/)){const v=mt(g,"%index");if(v<0||v>=this.length)throw new RangeError("out of result range");const E=p[v];return E instanceof Error&&ho(`index ${v}`,E),E}if(U_.indexOf(g)>=0)return Reflect.get(p,g,y);const m=p[g];if(m instanceof Function)return function(...v){return m.apply(this===y?p:this,v)};if(!(g in p))return p.getValue.apply(this===y?p:this,[g])}return Reflect.get(p,g,y)}});return j0(h,Di(this)),h}toArray(t){const e=[];return this.forEach((i,o)=>{i instanceof Error&&ho(`index ${o}`,i),t&&i instanceof ds&&(i=i.toArray(t)),e.push(i)}),e}toObject(t){const e=Di(this);return e.reduce((i,o,u)=>(q(o!=null,`value at index ${u} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),ad(e,this,t)),{})}slice(t,e){t==null&&(t=0),t<0&&(t+=this.length,t<0&&(t=0)),e==null&&(e=this.length),e<0&&(e+=this.length,e<0&&(e=0)),e>this.length&&(e=this.length);const i=Di(this),o=[],u=[];for(let c=t;c<e;c++)o.push(this[c]),u.push(i[c]);return new ds(pu,o,u)}filter(t,e){const i=Di(this),o=[],u=[];for(let c=0;c<this.length;c++){const h=this[c];h instanceof Error&&ho(`index ${c}`,h),t.call(e,h,c,this)&&(o.push(h),u.push(i[c]))}return new ds(pu,o,u)}map(t,e){const i=[];for(let o=0;o<this.length;o++){const u=this[o];u instanceof Error&&ho(`index ${o}`,u),i.push(t.call(e,u,o,this))}return i}getValue(t){const e=Di(this).indexOf(t);if(e===-1)return;const i=this[e];return i instanceof Error&&ho(`property ${JSON.stringify(t)}`,i.error),i}static fromItems(t,e){return new ds(pu,t,e)}}function z0(r){let t=de(r);return q(t.length<=De,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:De,offset:t.length}),t.length!==De&&(t=Ue(te([rd.slice(t.length%De),t]))),t}class vs{name;type;localName;dynamic;constructor(t,e,i,o){ot(this,{name:t,type:e,localName:i,dynamic:o},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(t,e){O(!1,t,this.localName,e)}}class od{#t;#e;constructor(){this.#t=[],this.#e=0}get data(){return te(this.#t)}get length(){return this.#e}#n(t){return this.#t.push(t),this.#e+=t.length,t.length}appendWriter(t){return this.#n(Ue(t.data))}writeBytes(t){let e=Ue(t);const i=e.length%De;return i&&(e=Ue(te([e,rd.slice(i)]))),this.#n(e)}writeValue(t){return this.#n(z0(t))}writeUpdatableValue(){const t=this.#t.length;return this.#t.push(rd),this.#e+=De,e=>{this.#t[t]=z0(e)}}}class zd{allowLoose;#t;#e;#n;#s;#i;constructor(t,e,i){ot(this,{allowLoose:!!e}),this.#t=Ue(t),this.#n=0,this.#s=null,this.#i=i??1024,this.#e=0}get data(){return $(this.#t)}get dataLength(){return this.#t.length}get consumed(){return this.#e}get bytes(){return new Uint8Array(this.#t)}#a(t){if(this.#s)return this.#s.#a(t);this.#n+=t,q(this.#i<1||this.#n<=this.#i*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#i} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Ue(this.#t),offset:this.#e,length:t,info:{bytesRead:this.#n,dataLength:this.dataLength}})}#r(t,e,i){let o=Math.ceil(e/De)*De;return this.#e+o>this.#t.length&&(this.allowLoose&&i&&this.#e+e<=this.#t.length?o=e:q(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Ue(this.#t),length:this.#t.length,offset:this.#e+o})),this.#t.slice(this.#e,this.#e+o)}subReader(t){const e=new zd(this.#t.slice(this.#e+t),this.allowLoose,this.#i);return e.#s=this,e}readBytes(t,e){let i=this.#r(0,t,!!e);return this.#a(t),this.#e+=i.length,i.slice(0,t)}readValue(){return jd(this.readBytes(De))}readIndex(){return y_(this.readBytes(De))}}function Uu(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function Hd(r,...t){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(r.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${r.length}`)}function D_(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Uu(r.outputLen),Uu(r.blockLen)}function na(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}function Nw(r,t){Hd(r);const e=t.outputLen;if(r.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}const Rh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Rw=r=>r instanceof Uint8Array,M_=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),Ch=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),zn=(r,t)=>r<<32-t|r>>>t,L_=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!L_)throw new Error("Non little-endian hardware is not supported");function P_(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function qu(r){if(typeof r=="string"&&(r=P_(r)),!Rw(r))throw new Error(`expected Uint8Array, got ${typeof r}`);return r}function I_(...r){const t=new Uint8Array(r.reduce((i,o)=>i+o.length,0));let e=0;return r.forEach(i=>{if(!Rw(i))throw new Error("Uint8Array expected");t.set(i,e),e+=i.length}),t}class Gd{clone(){return this._cloneInto()}}function Fd(r){const t=i=>r().update(qu(i)).digest(),e=r();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>r(),t}function j_(r=32){if(Rh&&typeof Rh.getRandomValues=="function")return Rh.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}class Cw extends Gd{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,D_(t);const i=qu(e);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,u=new Uint8Array(o);u.set(i.length>o?t.create().update(i).digest():i);for(let c=0;c<u.length;c++)u[c]^=54;this.iHash.update(u),this.oHash=t.create();for(let c=0;c<u.length;c++)u[c]^=106;this.oHash.update(u),u.fill(0)}update(t){return na(this),this.iHash.update(t),this}digestInto(t){na(this),Hd(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:i,finished:o,destroyed:u,blockLen:c,outputLen:h}=this;return t=t,t.finished=o,t.destroyed=u,t.blockLen=c,t.outputLen=h,t.oHash=e._cloneInto(t.oHash),t.iHash=i._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const kw=(r,t,e)=>new Cw(r,t).update(e).digest();kw.create=(r,t)=>new Cw(r,t);function z_(r,t,e,i){if(typeof r.setBigUint64=="function")return r.setBigUint64(t,e,i);const o=BigInt(32),u=BigInt(4294967295),c=Number(e>>o&u),h=Number(e&u),p=i?4:0,g=i?0:4;r.setUint32(t+p,c,i),r.setUint32(t+g,h,i)}class Bw extends Gd{constructor(t,e,i,o){super(),this.blockLen=t,this.outputLen=e,this.padOffset=i,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Ch(this.buffer)}update(t){na(this);const{view:e,buffer:i,blockLen:o}=this;t=qu(t);const u=t.length;for(let c=0;c<u;){const h=Math.min(o-this.pos,u-c);if(h===o){const p=Ch(t);for(;o<=u-c;c+=o)this.process(p,c);continue}i.set(t.subarray(c,c+h),this.pos),this.pos+=h,c+=h,this.pos===o&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){na(this),Nw(t,this),this.finished=!0;const{buffer:e,view:i,blockLen:o,isLE:u}=this;let{pos:c}=this;e[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>o-c&&(this.process(i,0),c=0);for(let m=c;m<o;m++)e[m]=0;z_(i,o-8,BigInt(this.length*8),u),this.process(i,0);const h=Ch(t),p=this.outputLen;if(p%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const g=p/4,y=this.get();if(g>y.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<g;m++)h.setUint32(4*m,y[m],u)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const i=t.slice(0,e);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:i,length:o,finished:u,destroyed:c,pos:h}=this;return t.length=o,t.pos=h,t.finished=u,t.destroyed=c,o%e&&t.buffer.set(i),t}}const H_=(r,t,e)=>r&t^~r&e,G_=(r,t,e)=>r&t^r&e^t&e,F_=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Js=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ys=new Uint32Array(64);class Q_ extends Bw{constructor(){super(64,32,8,!1),this.A=Js[0]|0,this.B=Js[1]|0,this.C=Js[2]|0,this.D=Js[3]|0,this.E=Js[4]|0,this.F=Js[5]|0,this.G=Js[6]|0,this.H=Js[7]|0}get(){const{A:t,B:e,C:i,D:o,E:u,F:c,G:h,H:p}=this;return[t,e,i,o,u,c,h,p]}set(t,e,i,o,u,c,h,p){this.A=t|0,this.B=e|0,this.C=i|0,this.D=o|0,this.E=u|0,this.F=c|0,this.G=h|0,this.H=p|0}process(t,e){for(let m=0;m<16;m++,e+=4)Ys[m]=t.getUint32(e,!1);for(let m=16;m<64;m++){const v=Ys[m-15],E=Ys[m-2],T=zn(v,7)^zn(v,18)^v>>>3,S=zn(E,17)^zn(E,19)^E>>>10;Ys[m]=S+Ys[m-7]+T+Ys[m-16]|0}let{A:i,B:o,C:u,D:c,E:h,F:p,G:g,H:y}=this;for(let m=0;m<64;m++){const v=zn(h,6)^zn(h,11)^zn(h,25),E=y+v+H_(h,p,g)+F_[m]+Ys[m]|0,S=(zn(i,2)^zn(i,13)^zn(i,22))+G_(i,o,u)|0;y=g,g=p,p=h,h=c+E|0,c=u,u=o,o=i,i=E+S|0}i=i+this.A|0,o=o+this.B|0,u=u+this.C|0,c=c+this.D|0,h=h+this.E|0,p=p+this.F|0,g=g+this.G|0,y=y+this.H|0,this.set(i,o,u,c,h,p,g,y)}roundClean(){Ys.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Uw=Fd(()=>new Q_),gu=BigInt(2**32-1),ld=BigInt(32);function Dw(r,t=!1){return t?{h:Number(r&gu),l:Number(r>>ld&gu)}:{h:Number(r>>ld&gu)|0,l:Number(r&gu)|0}}function Mw(r,t=!1){let e=new Uint32Array(r.length),i=new Uint32Array(r.length);for(let o=0;o<r.length;o++){const{h:u,l:c}=Dw(r[o],t);[e[o],i[o]]=[u,c]}return[e,i]}const q_=(r,t)=>BigInt(r>>>0)<<ld|BigInt(t>>>0),V_=(r,t,e)=>r>>>e,K_=(r,t,e)=>r<<32-e|t>>>e,J_=(r,t,e)=>r>>>e|t<<32-e,Y_=(r,t,e)=>r<<32-e|t>>>e,X_=(r,t,e)=>r<<64-e|t>>>e-32,Z_=(r,t,e)=>r>>>e-32|t<<64-e,$_=(r,t)=>t,W_=(r,t)=>r,Lw=(r,t,e)=>r<<e|t>>>32-e,Pw=(r,t,e)=>t<<e|r>>>32-e,Iw=(r,t,e)=>t<<e-32|r>>>64-e,jw=(r,t,e)=>r<<e-32|t>>>64-e;function t2(r,t,e,i){const o=(t>>>0)+(i>>>0);return{h:r+e+(o/2**32|0)|0,l:o|0}}const e2=(r,t,e)=>(r>>>0)+(t>>>0)+(e>>>0),n2=(r,t,e,i)=>t+e+i+(r/2**32|0)|0,s2=(r,t,e,i)=>(r>>>0)+(t>>>0)+(e>>>0)+(i>>>0),i2=(r,t,e,i,o)=>t+e+i+o+(r/2**32|0)|0,r2=(r,t,e,i,o)=>(r>>>0)+(t>>>0)+(e>>>0)+(i>>>0)+(o>>>0),a2=(r,t,e,i,o,u)=>t+e+i+o+u+(r/2**32|0)|0,dt={fromBig:Dw,split:Mw,toBig:q_,shrSH:V_,shrSL:K_,rotrSH:J_,rotrSL:Y_,rotrBH:X_,rotrBL:Z_,rotr32H:$_,rotr32L:W_,rotlSH:Lw,rotlSL:Pw,rotlBH:Iw,rotlBL:jw,add:t2,add3L:e2,add3H:n2,add4L:s2,add4H:i2,add5H:a2,add5L:r2},[o2,l2]=dt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),Xs=new Uint32Array(80),Zs=new Uint32Array(80);class u2 extends Bw{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:i,Bl:o,Ch:u,Cl:c,Dh:h,Dl:p,Eh:g,El:y,Fh:m,Fl:v,Gh:E,Gl:T,Hh:S,Hl:x}=this;return[t,e,i,o,u,c,h,p,g,y,m,v,E,T,S,x]}set(t,e,i,o,u,c,h,p,g,y,m,v,E,T,S,x){this.Ah=t|0,this.Al=e|0,this.Bh=i|0,this.Bl=o|0,this.Ch=u|0,this.Cl=c|0,this.Dh=h|0,this.Dl=p|0,this.Eh=g|0,this.El=y|0,this.Fh=m|0,this.Fl=v|0,this.Gh=E|0,this.Gl=T|0,this.Hh=S|0,this.Hl=x|0}process(t,e){for(let L=0;L<16;L++,e+=4)Xs[L]=t.getUint32(e),Zs[L]=t.getUint32(e+=4);for(let L=16;L<80;L++){const F=Xs[L-15]|0,K=Zs[L-15]|0,H=dt.rotrSH(F,K,1)^dt.rotrSH(F,K,8)^dt.shrSH(F,K,7),J=dt.rotrSL(F,K,1)^dt.rotrSL(F,K,8)^dt.shrSL(F,K,7),Z=Xs[L-2]|0,Y=Zs[L-2]|0,nt=dt.rotrSH(Z,Y,19)^dt.rotrBH(Z,Y,61)^dt.shrSH(Z,Y,6),ft=dt.rotrSL(Z,Y,19)^dt.rotrBL(Z,Y,61)^dt.shrSL(Z,Y,6),At=dt.add4L(J,ft,Zs[L-7],Zs[L-16]),Qt=dt.add4H(At,H,nt,Xs[L-7],Xs[L-16]);Xs[L]=Qt|0,Zs[L]=At|0}let{Ah:i,Al:o,Bh:u,Bl:c,Ch:h,Cl:p,Dh:g,Dl:y,Eh:m,El:v,Fh:E,Fl:T,Gh:S,Gl:x,Hh:D,Hl:G}=this;for(let L=0;L<80;L++){const F=dt.rotrSH(m,v,14)^dt.rotrSH(m,v,18)^dt.rotrBH(m,v,41),K=dt.rotrSL(m,v,14)^dt.rotrSL(m,v,18)^dt.rotrBL(m,v,41),H=m&E^~m&S,J=v&T^~v&x,Z=dt.add5L(G,K,J,l2[L],Zs[L]),Y=dt.add5H(Z,D,F,H,o2[L],Xs[L]),nt=Z|0,ft=dt.rotrSH(i,o,28)^dt.rotrBH(i,o,34)^dt.rotrBH(i,o,39),At=dt.rotrSL(i,o,28)^dt.rotrBL(i,o,34)^dt.rotrBL(i,o,39),Qt=i&u^i&h^u&h,pe=o&c^o&p^c&p;D=S|0,G=x|0,S=E|0,x=T|0,E=m|0,T=v|0,{h:m,l:v}=dt.add(g|0,y|0,Y|0,nt|0),g=h|0,y=p|0,h=u|0,p=c|0,u=i|0,c=o|0;const V=dt.add3L(nt,At,pe);i=dt.add3H(V,Y,ft,Qt),o=V|0}({h:i,l:o}=dt.add(this.Ah|0,this.Al|0,i|0,o|0)),{h:u,l:c}=dt.add(this.Bh|0,this.Bl|0,u|0,c|0),{h,l:p}=dt.add(this.Ch|0,this.Cl|0,h|0,p|0),{h:g,l:y}=dt.add(this.Dh|0,this.Dl|0,g|0,y|0),{h:m,l:v}=dt.add(this.Eh|0,this.El|0,m|0,v|0),{h:E,l:T}=dt.add(this.Fh|0,this.Fl|0,E|0,T|0),{h:S,l:x}=dt.add(this.Gh|0,this.Gl|0,S|0,x|0),{h:D,l:G}=dt.add(this.Hh|0,this.Hl|0,D|0,G|0),this.set(i,o,u,c,h,p,g,y,m,v,E,T,S,x,D,G)}roundClean(){Xs.fill(0),Zs.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const c2=Fd(()=>new u2);function f2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const H0=f2();H0.crypto||H0.msCrypto;function h2(r){switch(r){case"sha256":return Uw.create();case"sha512":return c2.create()}O(!1,"invalid hashing algorithm name","algorithm",r)}const[zw,Hw,Gw]=[[],[],[]],d2=BigInt(0),po=BigInt(1),p2=BigInt(2),g2=BigInt(7),y2=BigInt(256),m2=BigInt(113);for(let r=0,t=po,e=1,i=0;r<24;r++){[e,i]=[i,(2*e+3*i)%5],zw.push(2*(5*i+e)),Hw.push((r+1)*(r+2)/2%64);let o=d2;for(let u=0;u<7;u++)t=(t<<po^(t>>g2)*m2)%y2,t&p2&&(o^=po<<(po<<BigInt(u))-po);Gw.push(o)}const[b2,w2]=Mw(Gw,!0),G0=(r,t,e)=>e>32?Iw(r,t,e):Lw(r,t,e),F0=(r,t,e)=>e>32?jw(r,t,e):Pw(r,t,e);function v2(r,t=24){const e=new Uint32Array(10);for(let i=24-t;i<24;i++){for(let c=0;c<10;c++)e[c]=r[c]^r[c+10]^r[c+20]^r[c+30]^r[c+40];for(let c=0;c<10;c+=2){const h=(c+8)%10,p=(c+2)%10,g=e[p],y=e[p+1],m=G0(g,y,1)^e[h],v=F0(g,y,1)^e[h+1];for(let E=0;E<50;E+=10)r[c+E]^=m,r[c+E+1]^=v}let o=r[2],u=r[3];for(let c=0;c<24;c++){const h=Hw[c],p=G0(o,u,h),g=F0(o,u,h),y=zw[c];o=r[y],u=r[y+1],r[y]=p,r[y+1]=g}for(let c=0;c<50;c+=10){for(let h=0;h<10;h++)e[h]=r[c+h];for(let h=0;h<10;h++)r[c+h]^=~e[(h+2)%10]&e[(h+4)%10]}r[0]^=b2[i],r[1]^=w2[i]}e.fill(0)}class Qd extends Gd{constructor(t,e,i,o=!1,u=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=i,this.enableXOF=o,this.rounds=u,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Uu(i),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=M_(this.state)}keccak(){v2(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){na(this);const{blockLen:e,state:i}=this;t=qu(t);const o=t.length;for(let u=0;u<o;){const c=Math.min(e-this.pos,o-u);for(let h=0;h<c;h++)i[this.pos++]^=t[u++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:i,blockLen:o}=this;t[i]^=e,(e&128)!==0&&i===o-1&&this.keccak(),t[o-1]^=128,this.keccak()}writeInto(t){na(this,!1),Hd(t),this.finish();const e=this.state,{blockLen:i}=this;for(let o=0,u=t.length;o<u;){this.posOut>=i&&this.keccak();const c=Math.min(i-this.posOut,u-o);t.set(e.subarray(this.posOut,this.posOut+c),o),this.posOut+=c,o+=c}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Uu(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Nw(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:i,outputLen:o,rounds:u,enableXOF:c}=this;return t||(t=new Qd(e,i,o,c,u)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=u,t.suffix=i,t.outputLen=o,t.enableXOF=c,t.destroyed=this.destroyed,t}}const A2=(r,t,e)=>Fd(()=>new Qd(t,r,e)),E2=A2(1,136,256/8);let Fw=!1;const Qw=function(r){return E2(r)};let qw=Qw;function oe(r){const t=yt(r,"data");return $(qw(t))}oe._=Qw;oe.lock=function(){Fw=!0};oe.register=function(r){if(Fw)throw new TypeError("keccak256 is locked");qw=r};Object.freeze(oe);const Vw=function(r){return h2("sha256").update(r).digest()};let Kw=Vw,Jw=!1;function fa(r){const t=yt(r,"data");return $(Kw(t))}fa._=Vw;fa.lock=function(){Jw=!0};fa.register=function(r){if(Jw)throw new Error("sha256 is locked");Kw=r};Object.freeze(fa);Object.freeze(fa);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Yw=BigInt(0),Vu=BigInt(1),S2=BigInt(2),Ku=r=>r instanceof Uint8Array,T2=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function sa(r){if(!Ku(r))throw new Error("Uint8Array expected");let t="";for(let e=0;e<r.length;e++)t+=T2[r[e]];return t}function Xw(r){const t=r.toString(16);return t.length&1?`0${t}`:t}function qd(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return BigInt(r===""?"0":`0x${r}`)}function ia(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);const t=r.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const e=new Uint8Array(t/2);for(let i=0;i<e.length;i++){const o=i*2,u=r.slice(o,o+2),c=Number.parseInt(u,16);if(Number.isNaN(c)||c<0)throw new Error("Invalid byte sequence");e[i]=c}return e}function zi(r){return qd(sa(r))}function Vd(r){if(!Ku(r))throw new Error("Uint8Array expected");return qd(sa(Uint8Array.from(r).reverse()))}function ra(r,t){return ia(r.toString(16).padStart(t*2,"0"))}function Kd(r,t){return ra(r,t).reverse()}function _2(r){return ia(Xw(r))}function _n(r,t,e){let i;if(typeof t=="string")try{i=ia(t)}catch(u){throw new Error(`${r} must be valid hex string, got "${t}". Cause: ${u}`)}else if(Ku(t))i=Uint8Array.from(t);else throw new Error(`${r} must be hex string or Uint8Array`);const o=i.length;if(typeof e=="number"&&o!==e)throw new Error(`${r} expected ${e} bytes, got ${o}`);return i}function Oo(...r){const t=new Uint8Array(r.reduce((i,o)=>i+o.length,0));let e=0;return r.forEach(i=>{if(!Ku(i))throw new Error("Uint8Array expected");t.set(i,e),e+=i.length}),t}function x2(r,t){if(r.length!==t.length)return!1;for(let e=0;e<r.length;e++)if(r[e]!==t[e])return!1;return!0}function O2(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function N2(r){let t;for(t=0;r>Yw;r>>=Vu,t+=1);return t}function R2(r,t){return r>>BigInt(t)&Vu}const C2=(r,t,e)=>r|(e?Vu:Yw)<<BigInt(t),Jd=r=>(S2<<BigInt(r-1))-Vu,kh=r=>new Uint8Array(r),Q0=r=>Uint8Array.from(r);function Zw(r,t,e){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof e!="function")throw new Error("hmacFn must be a function");let i=kh(r),o=kh(r),u=0;const c=()=>{i.fill(1),o.fill(0),u=0},h=(...m)=>e(o,i,...m),p=(m=kh())=>{o=h(Q0([0]),m),i=h(),m.length!==0&&(o=h(Q0([1]),m),i=h())},g=()=>{if(u++>=1e3)throw new Error("drbg: tried 1000 values");let m=0;const v=[];for(;m<t;){i=h();const E=i.slice();v.push(E),m+=i.length}return Oo(...v)};return(m,v)=>{c(),p(m);let E;for(;!(E=v(g()));)p();return c(),E}}const k2={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||r instanceof Uint8Array,isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,t)=>t.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function jo(r,t,e={}){const i=(o,u,c)=>{const h=k2[u];if(typeof h!="function")throw new Error(`Invalid validator "${u}", expected function`);const p=r[o];if(!(c&&p===void 0)&&!h(p,r))throw new Error(`Invalid param ${String(o)}=${p} (${typeof p}), expected ${u}`)};for(const[o,u]of Object.entries(t))i(o,u,!1);for(const[o,u]of Object.entries(e))i(o,u,!0);return r}const B2=Object.freeze(Object.defineProperty({__proto__:null,bitGet:R2,bitLen:N2,bitMask:Jd,bitSet:C2,bytesToHex:sa,bytesToNumberBE:zi,bytesToNumberLE:Vd,concatBytes:Oo,createHmacDrbg:Zw,ensureBytes:_n,equalBytes:x2,hexToBytes:ia,hexToNumber:qd,numberToBytesBE:ra,numberToBytesLE:Kd,numberToHexUnpadded:Xw,numberToVarBytesBE:_2,utf8ToBytes:O2,validateObject:jo},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ae=BigInt(0),ie=BigInt(1),Mi=BigInt(2),U2=BigInt(3),ud=BigInt(4),q0=BigInt(5),V0=BigInt(8);BigInt(9);BigInt(16);function qe(r,t){const e=r%t;return e>=Ae?e:t+e}function D2(r,t,e){if(e<=Ae||t<Ae)throw new Error("Expected power/modulo > 0");if(e===ie)return Ae;let i=ie;for(;t>Ae;)t&ie&&(i=i*r%e),r=r*r%e,t>>=ie;return i}function mn(r,t,e){let i=r;for(;t-- >Ae;)i*=i,i%=e;return i}function cd(r,t){if(r===Ae||t<=Ae)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let e=qe(r,t),i=t,o=Ae,u=ie;for(;e!==Ae;){const h=i/e,p=i%e,g=o-u*h;i=e,e=p,o=u,u=g}if(i!==ie)throw new Error("invert: does not exist");return qe(o,t)}function M2(r){const t=(r-ie)/Mi;let e,i,o;for(e=r-ie,i=0;e%Mi===Ae;e/=Mi,i++);for(o=Mi;o<r&&D2(o,t,r)!==r-ie;o++);if(i===1){const c=(r+ie)/ud;return function(p,g){const y=p.pow(g,c);if(!p.eql(p.sqr(y),g))throw new Error("Cannot find square root");return y}}const u=(e+ie)/Mi;return function(h,p){if(h.pow(p,t)===h.neg(h.ONE))throw new Error("Cannot find square root");let g=i,y=h.pow(h.mul(h.ONE,o),e),m=h.pow(p,u),v=h.pow(p,e);for(;!h.eql(v,h.ONE);){if(h.eql(v,h.ZERO))return h.ZERO;let E=1;for(let S=h.sqr(v);E<g&&!h.eql(S,h.ONE);E++)S=h.sqr(S);const T=h.pow(y,ie<<BigInt(g-E-1));y=h.sqr(T),m=h.mul(m,T),v=h.mul(v,y),g=E}return m}}function L2(r){if(r%ud===U2){const t=(r+ie)/ud;return function(i,o){const u=i.pow(o,t);if(!i.eql(i.sqr(u),o))throw new Error("Cannot find square root");return u}}if(r%V0===q0){const t=(r-q0)/V0;return function(i,o){const u=i.mul(o,Mi),c=i.pow(u,t),h=i.mul(o,c),p=i.mul(i.mul(h,Mi),c),g=i.mul(h,i.sub(p,i.ONE));if(!i.eql(i.sqr(g),o))throw new Error("Cannot find square root");return g}}return M2(r)}const P2=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function I2(r){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},e=P2.reduce((i,o)=>(i[o]="function",i),t);return jo(r,e)}function j2(r,t,e){if(e<Ae)throw new Error("Expected power > 0");if(e===Ae)return r.ONE;if(e===ie)return t;let i=r.ONE,o=t;for(;e>Ae;)e&ie&&(i=r.mul(i,o)),o=r.sqr(o),e>>=ie;return i}function z2(r,t){const e=new Array(t.length),i=t.reduce((u,c,h)=>r.is0(c)?u:(e[h]=u,r.mul(u,c)),r.ONE),o=r.inv(i);return t.reduceRight((u,c,h)=>r.is0(c)?u:(e[h]=r.mul(u,e[h]),r.mul(u,c)),o),e}function $w(r,t){const e=t!==void 0?t:r.toString(2).length,i=Math.ceil(e/8);return{nBitLength:e,nByteLength:i}}function H2(r,t,e=!1,i={}){if(r<=Ae)throw new Error(`Expected Field ORDER > 0, got ${r}`);const{nBitLength:o,nByteLength:u}=$w(r,t);if(u>2048)throw new Error("Field lengths over 2048 bytes are not supported");const c=L2(r),h=Object.freeze({ORDER:r,BITS:o,BYTES:u,MASK:Jd(o),ZERO:Ae,ONE:ie,create:p=>qe(p,r),isValid:p=>{if(typeof p!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof p}`);return Ae<=p&&p<r},is0:p=>p===Ae,isOdd:p=>(p&ie)===ie,neg:p=>qe(-p,r),eql:(p,g)=>p===g,sqr:p=>qe(p*p,r),add:(p,g)=>qe(p+g,r),sub:(p,g)=>qe(p-g,r),mul:(p,g)=>qe(p*g,r),pow:(p,g)=>j2(h,p,g),div:(p,g)=>qe(p*cd(g,r),r),sqrN:p=>p*p,addN:(p,g)=>p+g,subN:(p,g)=>p-g,mulN:(p,g)=>p*g,inv:p=>cd(p,r),sqrt:i.sqrt||(p=>c(h,p)),invertBatch:p=>z2(h,p),cmov:(p,g,y)=>y?g:p,toBytes:p=>e?Kd(p,u):ra(p,u),fromBytes:p=>{if(p.length!==u)throw new Error(`Fp.fromBytes: expected ${u}, got ${p.length}`);return e?Vd(p):zi(p)}});return Object.freeze(h)}function Ww(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const t=r.toString(2).length;return Math.ceil(t/8)}function tv(r){const t=Ww(r);return t+Math.ceil(t/2)}function G2(r,t,e=!1){const i=r.length,o=Ww(t),u=tv(t);if(i<16||i<u||i>1024)throw new Error(`expected ${u}-1024 bytes of input, got ${i}`);const c=e?zi(r):Vd(r),h=qe(c,t-ie)+ie;return e?Kd(h,o):ra(h,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const F2=BigInt(0),Bh=BigInt(1);function Q2(r,t){const e=(o,u)=>{const c=u.negate();return o?c:u},i=o=>{const u=Math.ceil(t/o)+1,c=2**(o-1);return{windows:u,windowSize:c}};return{constTimeNegate:e,unsafeLadder(o,u){let c=r.ZERO,h=o;for(;u>F2;)u&Bh&&(c=c.add(h)),h=h.double(),u>>=Bh;return c},precomputeWindow(o,u){const{windows:c,windowSize:h}=i(u),p=[];let g=o,y=g;for(let m=0;m<c;m++){y=g,p.push(y);for(let v=1;v<h;v++)y=y.add(g),p.push(y);g=y.double()}return p},wNAF(o,u,c){const{windows:h,windowSize:p}=i(o);let g=r.ZERO,y=r.BASE;const m=BigInt(2**o-1),v=2**o,E=BigInt(o);for(let T=0;T<h;T++){const S=T*p;let x=Number(c&m);c>>=E,x>p&&(x-=v,c+=Bh);const D=S,G=S+Math.abs(x)-1,L=T%2!==0,F=x<0;x===0?y=y.add(e(L,u[D])):g=g.add(e(F,u[G]))}return{p:g,f:y}},wNAFCached(o,u,c,h){const p=o._WINDOW_SIZE||1;let g=u.get(o);return g||(g=this.precomputeWindow(o,p),p!==1&&u.set(o,h(g))),this.wNAF(p,g,c)}}}function ev(r){return I2(r.Fp),jo(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...$w(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function q2(r){const t=ev(r);jo(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:e,Fp:i,a:o}=t;if(e){if(!i.eql(o,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof e!="object"||typeof e.beta!="bigint"||typeof e.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:V2,hexToBytes:K2}=B2,Pi={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(r){const{Err:t}=Pi;if(r.length<2||r[0]!==2)throw new t("Invalid signature integer tag");const e=r[1],i=r.subarray(2,e+2);if(!e||i.length!==e)throw new t("Invalid signature integer: wrong length");if(i[0]&128)throw new t("Invalid signature integer: negative");if(i[0]===0&&!(i[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:V2(i),l:r.subarray(e+2)}},toSig(r){const{Err:t}=Pi,e=typeof r=="string"?K2(r):r;if(!(e instanceof Uint8Array))throw new Error("ui8a expected");let i=e.length;if(i<2||e[0]!=48)throw new t("Invalid signature tag");if(e[1]!==i-2)throw new t("Invalid signature: incorrect length");const{d:o,l:u}=Pi._parseInt(e.subarray(2)),{d:c,l:h}=Pi._parseInt(u);if(h.length)throw new t("Invalid signature: left bytes after parsing");return{r:o,s:c}},hexFromSig(r){const t=g=>Number.parseInt(g[0],16)&8?"00"+g:g,e=g=>{const y=g.toString(16);return y.length&1?`0${y}`:y},i=t(e(r.s)),o=t(e(r.r)),u=i.length/2,c=o.length/2,h=e(u),p=e(c);return`30${e(c+u+4)}02${p}${o}02${h}${i}`}},fs=BigInt(0),bn=BigInt(1);BigInt(2);const K0=BigInt(3);BigInt(4);function J2(r){const t=q2(r),{Fp:e}=t,i=t.toBytes||((T,S,x)=>{const D=S.toAffine();return Oo(Uint8Array.from([4]),e.toBytes(D.x),e.toBytes(D.y))}),o=t.fromBytes||(T=>{const S=T.subarray(1),x=e.fromBytes(S.subarray(0,e.BYTES)),D=e.fromBytes(S.subarray(e.BYTES,2*e.BYTES));return{x,y:D}});function u(T){const{a:S,b:x}=t,D=e.sqr(T),G=e.mul(D,T);return e.add(e.add(G,e.mul(T,S)),x)}if(!e.eql(e.sqr(t.Gy),u(t.Gx)))throw new Error("bad generator point: equation left != right");function c(T){return typeof T=="bigint"&&fs<T&&T<t.n}function h(T){if(!c(T))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function p(T){const{allowedPrivateKeyLengths:S,nByteLength:x,wrapPrivateKey:D,n:G}=t;if(S&&typeof T!="bigint"){if(T instanceof Uint8Array&&(T=sa(T)),typeof T!="string"||!S.includes(T.length))throw new Error("Invalid key");T=T.padStart(x*2,"0")}let L;try{L=typeof T=="bigint"?T:zi(_n("private key",T,x))}catch{throw new Error(`private key must be ${x} bytes, hex or bigint, not ${typeof T}`)}return D&&(L=qe(L,G)),h(L),L}const g=new Map;function y(T){if(!(T instanceof m))throw new Error("ProjectivePoint expected")}class m{constructor(S,x,D){if(this.px=S,this.py=x,this.pz=D,S==null||!e.isValid(S))throw new Error("x required");if(x==null||!e.isValid(x))throw new Error("y required");if(D==null||!e.isValid(D))throw new Error("z required")}static fromAffine(S){const{x,y:D}=S||{};if(!S||!e.isValid(x)||!e.isValid(D))throw new Error("invalid affine point");if(S instanceof m)throw new Error("projective point not allowed");const G=L=>e.eql(L,e.ZERO);return G(x)&&G(D)?m.ZERO:new m(x,D,e.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(S){const x=e.invertBatch(S.map(D=>D.pz));return S.map((D,G)=>D.toAffine(x[G])).map(m.fromAffine)}static fromHex(S){const x=m.fromAffine(o(_n("pointHex",S)));return x.assertValidity(),x}static fromPrivateKey(S){return m.BASE.multiply(p(S))}_setWindowSize(S){this._WINDOW_SIZE=S,g.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!e.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:S,y:x}=this.toAffine();if(!e.isValid(S)||!e.isValid(x))throw new Error("bad point: x or y not FE");const D=e.sqr(x),G=u(S);if(!e.eql(D,G))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:S}=this.toAffine();if(e.isOdd)return!e.isOdd(S);throw new Error("Field doesn't support isOdd")}equals(S){y(S);const{px:x,py:D,pz:G}=this,{px:L,py:F,pz:K}=S,H=e.eql(e.mul(x,K),e.mul(L,G)),J=e.eql(e.mul(D,K),e.mul(F,G));return H&&J}negate(){return new m(this.px,e.neg(this.py),this.pz)}double(){const{a:S,b:x}=t,D=e.mul(x,K0),{px:G,py:L,pz:F}=this;let K=e.ZERO,H=e.ZERO,J=e.ZERO,Z=e.mul(G,G),Y=e.mul(L,L),nt=e.mul(F,F),ft=e.mul(G,L);return ft=e.add(ft,ft),J=e.mul(G,F),J=e.add(J,J),K=e.mul(S,J),H=e.mul(D,nt),H=e.add(K,H),K=e.sub(Y,H),H=e.add(Y,H),H=e.mul(K,H),K=e.mul(ft,K),J=e.mul(D,J),nt=e.mul(S,nt),ft=e.sub(Z,nt),ft=e.mul(S,ft),ft=e.add(ft,J),J=e.add(Z,Z),Z=e.add(J,Z),Z=e.add(Z,nt),Z=e.mul(Z,ft),H=e.add(H,Z),nt=e.mul(L,F),nt=e.add(nt,nt),Z=e.mul(nt,ft),K=e.sub(K,Z),J=e.mul(nt,Y),J=e.add(J,J),J=e.add(J,J),new m(K,H,J)}add(S){y(S);const{px:x,py:D,pz:G}=this,{px:L,py:F,pz:K}=S;let H=e.ZERO,J=e.ZERO,Z=e.ZERO;const Y=t.a,nt=e.mul(t.b,K0);let ft=e.mul(x,L),At=e.mul(D,F),Qt=e.mul(G,K),pe=e.add(x,D),V=e.add(L,F);pe=e.mul(pe,V),V=e.add(ft,At),pe=e.sub(pe,V),V=e.add(x,G);let N=e.add(L,K);return V=e.mul(V,N),N=e.add(ft,Qt),V=e.sub(V,N),N=e.add(D,G),H=e.add(F,K),N=e.mul(N,H),H=e.add(At,Qt),N=e.sub(N,H),Z=e.mul(Y,V),H=e.mul(nt,Qt),Z=e.add(H,Z),H=e.sub(At,Z),Z=e.add(At,Z),J=e.mul(H,Z),At=e.add(ft,ft),At=e.add(At,ft),Qt=e.mul(Y,Qt),V=e.mul(nt,V),At=e.add(At,Qt),Qt=e.sub(ft,Qt),Qt=e.mul(Y,Qt),V=e.add(V,Qt),ft=e.mul(At,V),J=e.add(J,ft),ft=e.mul(N,V),H=e.mul(pe,H),H=e.sub(H,ft),ft=e.mul(pe,At),Z=e.mul(N,Z),Z=e.add(Z,ft),new m(H,J,Z)}subtract(S){return this.add(S.negate())}is0(){return this.equals(m.ZERO)}wNAF(S){return E.wNAFCached(this,g,S,x=>{const D=e.invertBatch(x.map(G=>G.pz));return x.map((G,L)=>G.toAffine(D[L])).map(m.fromAffine)})}multiplyUnsafe(S){const x=m.ZERO;if(S===fs)return x;if(h(S),S===bn)return this;const{endo:D}=t;if(!D)return E.unsafeLadder(this,S);let{k1neg:G,k1:L,k2neg:F,k2:K}=D.splitScalar(S),H=x,J=x,Z=this;for(;L>fs||K>fs;)L&bn&&(H=H.add(Z)),K&bn&&(J=J.add(Z)),Z=Z.double(),L>>=bn,K>>=bn;return G&&(H=H.negate()),F&&(J=J.negate()),J=new m(e.mul(J.px,D.beta),J.py,J.pz),H.add(J)}multiply(S){h(S);let x=S,D,G;const{endo:L}=t;if(L){const{k1neg:F,k1:K,k2neg:H,k2:J}=L.splitScalar(x);let{p:Z,f:Y}=this.wNAF(K),{p:nt,f:ft}=this.wNAF(J);Z=E.constTimeNegate(F,Z),nt=E.constTimeNegate(H,nt),nt=new m(e.mul(nt.px,L.beta),nt.py,nt.pz),D=Z.add(nt),G=Y.add(ft)}else{const{p:F,f:K}=this.wNAF(x);D=F,G=K}return m.normalizeZ([D,G])[0]}multiplyAndAddUnsafe(S,x,D){const G=m.BASE,L=(K,H)=>H===fs||H===bn||!K.equals(G)?K.multiplyUnsafe(H):K.multiply(H),F=L(this,x).add(L(S,D));return F.is0()?void 0:F}toAffine(S){const{px:x,py:D,pz:G}=this,L=this.is0();S==null&&(S=L?e.ONE:e.inv(G));const F=e.mul(x,S),K=e.mul(D,S),H=e.mul(G,S);if(L)return{x:e.ZERO,y:e.ZERO};if(!e.eql(H,e.ONE))throw new Error("invZ was invalid");return{x:F,y:K}}isTorsionFree(){const{h:S,isTorsionFree:x}=t;if(S===bn)return!0;if(x)return x(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:S,clearCofactor:x}=t;return S===bn?this:x?x(m,this):this.multiplyUnsafe(t.h)}toRawBytes(S=!0){return this.assertValidity(),i(m,this,S)}toHex(S=!0){return sa(this.toRawBytes(S))}}m.BASE=new m(t.Gx,t.Gy,e.ONE),m.ZERO=new m(e.ZERO,e.ONE,e.ZERO);const v=t.nBitLength,E=Q2(m,t.endo?Math.ceil(v/2):v);return{CURVE:t,ProjectivePoint:m,normPrivateKeyToScalar:p,weierstrassEquation:u,isWithinCurveOrder:c}}function Y2(r){const t=ev(r);return jo(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function X2(r){const t=Y2(r),{Fp:e,n:i}=t,o=e.BYTES+1,u=2*e.BYTES+1;function c(V){return fs<V&&V<e.ORDER}function h(V){return qe(V,i)}function p(V){return cd(V,i)}const{ProjectivePoint:g,normPrivateKeyToScalar:y,weierstrassEquation:m,isWithinCurveOrder:v}=J2({...t,toBytes(V,N,z){const X=N.toAffine(),it=e.toBytes(X.x),ct=Oo;return z?ct(Uint8Array.from([N.hasEvenY()?2:3]),it):ct(Uint8Array.from([4]),it,e.toBytes(X.y))},fromBytes(V){const N=V.length,z=V[0],X=V.subarray(1);if(N===o&&(z===2||z===3)){const it=zi(X);if(!c(it))throw new Error("Point is not on curve");const ct=m(it);let Rt=e.sqrt(ct);const Q=(Rt&bn)===bn;return(z&1)===1!==Q&&(Rt=e.neg(Rt)),{x:it,y:Rt}}else if(N===u&&z===4){const it=e.fromBytes(X.subarray(0,e.BYTES)),ct=e.fromBytes(X.subarray(e.BYTES,2*e.BYTES));return{x:it,y:ct}}else throw new Error(`Point of length ${N} was invalid. Expected ${o} compressed bytes or ${u} uncompressed bytes`)}}),E=V=>sa(ra(V,t.nByteLength));function T(V){const N=i>>bn;return V>N}function S(V){return T(V)?h(-V):V}const x=(V,N,z)=>zi(V.slice(N,z));class D{constructor(N,z,X){this.r=N,this.s=z,this.recovery=X,this.assertValidity()}static fromCompact(N){const z=t.nByteLength;return N=_n("compactSignature",N,z*2),new D(x(N,0,z),x(N,z,2*z))}static fromDER(N){const{r:z,s:X}=Pi.toSig(_n("DER",N));return new D(z,X)}assertValidity(){if(!v(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!v(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(N){return new D(this.r,this.s,N)}recoverPublicKey(N){const{r:z,s:X,recovery:it}=this,ct=J(_n("msgHash",N));if(it==null||![0,1,2,3].includes(it))throw new Error("recovery id invalid");const Rt=it===2||it===3?z+t.n:z;if(Rt>=e.ORDER)throw new Error("recovery id 2 or 3 invalid");const Q=(it&1)===0?"02":"03",ut=g.fromHex(Q+E(Rt)),kt=p(Rt),Ee=h(-ct*kt),Pe=h(X*kt),Je=g.BASE.multiplyAndAddUnsafe(ut,Ee,Pe);if(!Je)throw new Error("point at infinify");return Je.assertValidity(),Je}hasHighS(){return T(this.s)}normalizeS(){return this.hasHighS()?new D(this.r,h(-this.s),this.recovery):this}toDERRawBytes(){return ia(this.toDERHex())}toDERHex(){return Pi.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ia(this.toCompactHex())}toCompactHex(){return E(this.r)+E(this.s)}}const G={isValidPrivateKey(V){try{return y(V),!0}catch{return!1}},normPrivateKeyToScalar:y,randomPrivateKey:()=>{const V=tv(t.n);return G2(t.randomBytes(V),t.n)},precompute(V=8,N=g.BASE){return N._setWindowSize(V),N.multiply(BigInt(3)),N}};function L(V,N=!0){return g.fromPrivateKey(V).toRawBytes(N)}function F(V){const N=V instanceof Uint8Array,z=typeof V=="string",X=(N||z)&&V.length;return N?X===o||X===u:z?X===2*o||X===2*u:V instanceof g}function K(V,N,z=!0){if(F(V))throw new Error("first arg must be private key");if(!F(N))throw new Error("second arg must be public key");return g.fromHex(N).multiply(y(V)).toRawBytes(z)}const H=t.bits2int||function(V){const N=zi(V),z=V.length*8-t.nBitLength;return z>0?N>>BigInt(z):N},J=t.bits2int_modN||function(V){return h(H(V))},Z=Jd(t.nBitLength);function Y(V){if(typeof V!="bigint")throw new Error("bigint expected");if(!(fs<=V&&V<Z))throw new Error(`bigint expected < 2^${t.nBitLength}`);return ra(V,t.nByteLength)}function nt(V,N,z=ft){if(["recovered","canonical"].some(Ie=>Ie in z))throw new Error("sign() legacy options not supported");const{hash:X,randomBytes:it}=t;let{lowS:ct,prehash:Rt,extraEntropy:Q}=z;ct==null&&(ct=!0),V=_n("msgHash",V),Rt&&(V=_n("prehashed msgHash",X(V)));const ut=J(V),kt=y(N),Ee=[Y(kt),Y(ut)];if(Q!=null){const Ie=Q===!0?it(e.BYTES):Q;Ee.push(_n("extraEntropy",Ie))}const Pe=Oo(...Ee),Je=ut;function As(Ie){const Bn=H(Ie);if(!v(Bn))return;const ui=p(Bn),je=g.BASE.multiply(Bn).toAffine(),Un=h(je.x);if(Un===fs)return;const Es=h(ui*h(Je+Un*kt));if(Es===fs)return;let Qo=(je.x===Un?0:2)|Number(je.y&bn),qo=Es;return ct&&T(Es)&&(qo=S(Es),Qo^=1),new D(Un,qo,Qo)}return{seed:Pe,k2sig:As}}const ft={lowS:t.lowS,prehash:!1},At={lowS:t.lowS,prehash:!1};function Qt(V,N,z=ft){const{seed:X,k2sig:it}=nt(V,N,z),ct=t;return Zw(ct.hash.outputLen,ct.nByteLength,ct.hmac)(X,it)}g.BASE._setWindowSize(8);function pe(V,N,z,X=At){const it=V;if(N=_n("msgHash",N),z=_n("publicKey",z),"strict"in X)throw new Error("options.strict was renamed to lowS");const{lowS:ct,prehash:Rt}=X;let Q,ut;try{if(typeof it=="string"||it instanceof Uint8Array)try{Q=D.fromDER(it)}catch(je){if(!(je instanceof Pi.Err))throw je;Q=D.fromCompact(it)}else if(typeof it=="object"&&typeof it.r=="bigint"&&typeof it.s=="bigint"){const{r:je,s:Un}=it;Q=new D(je,Un)}else throw new Error("PARSE");ut=g.fromHex(z)}catch(je){if(je.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(ct&&Q.hasHighS())return!1;Rt&&(N=t.hash(N));const{r:kt,s:Ee}=Q,Pe=J(N),Je=p(Ee),As=h(Pe*Je),Ie=h(kt*Je),Bn=g.BASE.multiplyAndAddUnsafe(ut,As,Ie)?.toAffine();return Bn?h(Bn.x)===kt:!1}return{CURVE:t,getPublicKey:L,getSharedSecret:K,sign:Qt,verify:pe,ProjectivePoint:g,Signature:D,utils:G}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Z2(r){return{hash:r,hmac:(t,...e)=>kw(r,t,I_(...e)),randomBytes:j_}}function $2(r,t){const e=i=>X2({...r,...Z2(i)});return Object.freeze({...e(t),create:e})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const nv=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),J0=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),W2=BigInt(1),fd=BigInt(2),Y0=(r,t)=>(r+t/fd)/t;function tx(r){const t=nv,e=BigInt(3),i=BigInt(6),o=BigInt(11),u=BigInt(22),c=BigInt(23),h=BigInt(44),p=BigInt(88),g=r*r*r%t,y=g*g*r%t,m=mn(y,e,t)*y%t,v=mn(m,e,t)*y%t,E=mn(v,fd,t)*g%t,T=mn(E,o,t)*E%t,S=mn(T,u,t)*T%t,x=mn(S,h,t)*S%t,D=mn(x,p,t)*x%t,G=mn(D,h,t)*S%t,L=mn(G,e,t)*y%t,F=mn(L,c,t)*T%t,K=mn(F,i,t)*g%t,H=mn(K,fd,t);if(!hd.eql(hd.sqr(H),r))throw new Error("Cannot find square root");return H}const hd=H2(nv,void 0,void 0,{sqrt:tx}),Ws=$2({a:BigInt(0),b:BigInt(7),Fp:hd,n:J0,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{const t=J0,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-W2*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),u=e,c=BigInt("0x100000000000000000000000000000000"),h=Y0(u*r,t),p=Y0(-i*r,t);let g=qe(r-h*e-p*o,t),y=qe(-h*i-p*u,t);const m=g>c,v=y>c;if(m&&(g=t-g),v&&(y=t-y),g>c||y>c)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:m,k1:g,k2neg:v,k2:y}}}},Uw);BigInt(0);Ws.ProjectivePoint;const No="0x0000000000000000000000000000000000000000",X0="0x0000000000000000000000000000000000000000000000000000000000000000",Z0=BigInt(0),$0=BigInt(1),W0=BigInt(2),tb=BigInt(27),eb=BigInt(28),yu=BigInt(35),Qr={};function nb(r){return ms(de(r),32)}class $t{#t;#e;#n;#s;get r(){return this.#t}set r(t){O(Zr(t)===32,"invalid r","value",t),this.#t=$(t)}get s(){return O(parseInt(this.#e.substring(0,3))<8,"non-canonical s; use ._s","s",this.#e),this.#e}set s(t){O(Zr(t)===32,"invalid s","value",t),this.#e=$(t)}get _s(){return this.#e}isValid(){return parseInt(this.#e.substring(0,3))<8}get v(){return this.#n}set v(t){const e=mt(t,"value");O(e===27||e===28,"invalid v","v",t),this.#n=e}get networkV(){return this.#s}get legacyChainId(){const t=this.networkV;return t==null?null:$t.getChainId(t)}get yParity(){return this.v===27?0:1}get yParityAndS(){const t=yt(this.s);return this.yParity&&(t[0]|=128),$(t)}get compactSerialized(){return te([this.r,this.yParityAndS])}get serialized(){return te([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(t,e,i,o){Gu(t,Qr,"Signature"),this.#t=e,this.#e=i,this.#n=o,this.#s=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const t=new $t(Qr,this.r,this._s,this.v);return this.networkV&&(t.#s=this.networkV),t}toJSON(){const t=this.networkV;return{_type:"signature",networkV:t!=null?t.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(t){const e=tt(t,"v");return e==tb||e==eb?Z0:(O(e>=yu,"invalid EIP-155 v","v",t),(e-yu)/W0)}static getChainIdV(t,e){return tt(t)*W0+BigInt(35+e-27)}static getNormalizedV(t){const e=tt(t);return e===Z0||e===tb?27:e===$0||e===eb?28:(O(e>=yu,"invalid v","v",t),e&$0?27:28)}static from(t){function e(g,y){O(g,y,"signature",t)}if(t==null)return new $t(Qr,X0,X0,27);if(typeof t=="string"){const g=yt(t,"signature");if(g.length===64){const y=$(g.slice(0,32)),m=g.slice(32,64),v=m[0]&128?28:27;return m[0]&=127,new $t(Qr,y,$(m),v)}if(g.length===65){const y=$(g.slice(0,32)),m=$(g.slice(32,64)),v=$t.getNormalizedV(g[64]);return new $t(Qr,y,m,v)}e(!1,"invalid raw signature length")}if(t instanceof $t)return t.clone();const i=t.r;e(i!=null,"missing r");const o=nb(i),u=function(g,y){if(g!=null)return nb(g);if(y!=null){e(Ft(y,32),"invalid yParityAndS");const m=yt(y);return m[0]&=127,$(m)}e(!1,"missing s")}(t.s,t.yParityAndS),{networkV:c,v:h}=function(g,y,m){if(g!=null){const v=tt(g);return{networkV:v>=yu?v:void 0,v:$t.getNormalizedV(v)}}if(y!=null)return e(Ft(y,32),"invalid yParityAndS"),{v:yt(y)[0]&128?28:27};if(m!=null){switch(mt(m,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}e(!1,"invalid yParity")}e(!1,"missing v")}(t.v,t.yParityAndS,t.yParity),p=new $t(Qr,o,u,h);return c&&(p.#s=c),e(t.yParity==null||mt(t.yParity,"sig.yParity")===p.yParity,"yParity mismatch"),e(t.yParityAndS==null||t.yParityAndS===p.yParityAndS,"yParityAndS mismatch"),p}}class hs{#t;constructor(t){O(Zr(t)===32,"invalid private key","privateKey","[REDACTED]"),this.#t=$(t)}get privateKey(){return this.#t}get publicKey(){return hs.computePublicKey(this.#t)}get compressedPublicKey(){return hs.computePublicKey(this.#t,!0)}sign(t){O(Zr(t)===32,"invalid digest length","digest",t);const e=Ws.sign(Ue(t),Ue(this.#t),{lowS:!0});return $t.from({r:ri(e.r,32),s:ri(e.s,32),v:e.recovery?28:27})}computeSharedSecret(t){const e=hs.computePublicKey(t);return $(Ws.getSharedSecret(Ue(this.#t),yt(e),!1))}static computePublicKey(t,e){let i=yt(t,"key");if(i.length===32){const u=Ws.getPublicKey(i,!!e);return $(u)}if(i.length===64){const u=new Uint8Array(65);u[0]=4,u.set(i,1),i=u}const o=Ws.ProjectivePoint.fromHex(i);return $(o.toRawBytes(e))}static recoverPublicKey(t,e){O(Zr(t)===32,"invalid digest length","digest",t);const i=$t.from(e);let o=Ws.Signature.fromCompact(Ue(te([i.r,i.s])));o=o.addRecoveryBit(i.yParity);const u=o.recoverPublicKey(Ue(t));return O(u!=null,"invalid signature for digest","signature",e),"0x"+u.toHex(!1)}static addPoints(t,e,i){const o=Ws.ProjectivePoint.fromHex(hs.computePublicKey(t).substring(2)),u=Ws.ProjectivePoint.fromHex(hs.computePublicKey(e).substring(2));return"0x"+o.add(u).toHex(!!i)}}const ex=BigInt(0),nx=BigInt(36);function sb(r){r=r.toLowerCase();const t=r.substring(2).split(""),e=new Uint8Array(40);for(let o=0;o<40;o++)e[o]=t[o].charCodeAt(0);const i=yt(oe(e));for(let o=0;o<40;o+=2)i[o>>1]>>4>=8&&(t[o]=t[o].toUpperCase()),(i[o>>1]&15)>=8&&(t[o+1]=t[o+1].toUpperCase());return"0x"+t.join("")}const Yd={};for(let r=0;r<10;r++)Yd[String(r)]=String(r);for(let r=0;r<26;r++)Yd[String.fromCharCode(65+r)]=String(10+r);const ib=15;function sx(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let t=r.split("").map(i=>Yd[i]).join("");for(;t.length>=ib;){let i=t.substring(0,ib);t=parseInt(i,10)%97+t.substring(i.length)}let e=String(98-parseInt(t,10)%97);for(;e.length<2;)e="0"+e;return e}const ix=function(){const r={};for(let t=0;t<36;t++){const e="0123456789abcdefghijklmnopqrstuvwxyz"[t];r[e]=BigInt(t)}return r}();function rx(r){r=r.toLowerCase();let t=ex;for(let e=0;e<r.length;e++)t=t*nx+ix[r[e]];return t}function Bt(r){if(O(typeof r=="string","invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/)){r.startsWith("0x")||(r="0x"+r);const t=sb(r);return O(!r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===r,"bad address checksum","address",r),t}if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){O(r.substring(2,4)===sx(r),"bad icap checksum","address",r);let t=rx(r.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return sb("0x"+t)}O(!1,"invalid address","address",r)}function ax(r){const t=Bt(r.from);let i=tt(r.nonce,"tx.nonce").toString(16);return i==="0"?i="0x":i.length%2?i="0x0"+i:i="0x"+i,Bt(Zt(oe(ai([t,i])),12))}function sv(r){return r&&typeof r.getAddress=="function"}async function Uh(r,t){const e=await t;return(e==null||e==="0x0000000000000000000000000000000000000000")&&(q(typeof r!="string","unconfigured name","UNCONFIGURED_NAME",{value:r}),O(!1,"invalid AddressLike value; did not resolve to a value address","target",r)),Bt(e)}function Me(r,t){if(typeof r=="string")return r.match(/^0x[0-9a-f]{40}$/i)?Bt(r):(q(t!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Uh(r,t.resolveName(r)));if(sv(r))return Uh(r,r.getAddress());if(r&&typeof r.then=="function")return Uh(r,r);O(!1,"unsupported addressable value","target",r)}const us={};function W(r,t){let e=!1;return t<0&&(e=!0,t*=-1),new Wt(us,`${e?"":"u"}int${t}`,r,{signed:e,width:t})}function Ot(r,t){return new Wt(us,`bytes${t||""}`,r,{size:t})}const rb=Symbol.for("_ethers_typed");class Wt{type;value;#t;_typedSymbol;constructor(t,e,i,o){o==null&&(o=null),Gu(us,t,"Typed"),ot(this,{_typedSymbol:rb,type:e,value:i}),this.#t=o,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(t=>t.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#t}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#t===!0?-1:this.#t===!1?this.value.length:null}static from(t,e){return new Wt(us,t,e)}static uint8(t){return W(t,8)}static uint16(t){return W(t,16)}static uint24(t){return W(t,24)}static uint32(t){return W(t,32)}static uint40(t){return W(t,40)}static uint48(t){return W(t,48)}static uint56(t){return W(t,56)}static uint64(t){return W(t,64)}static uint72(t){return W(t,72)}static uint80(t){return W(t,80)}static uint88(t){return W(t,88)}static uint96(t){return W(t,96)}static uint104(t){return W(t,104)}static uint112(t){return W(t,112)}static uint120(t){return W(t,120)}static uint128(t){return W(t,128)}static uint136(t){return W(t,136)}static uint144(t){return W(t,144)}static uint152(t){return W(t,152)}static uint160(t){return W(t,160)}static uint168(t){return W(t,168)}static uint176(t){return W(t,176)}static uint184(t){return W(t,184)}static uint192(t){return W(t,192)}static uint200(t){return W(t,200)}static uint208(t){return W(t,208)}static uint216(t){return W(t,216)}static uint224(t){return W(t,224)}static uint232(t){return W(t,232)}static uint240(t){return W(t,240)}static uint248(t){return W(t,248)}static uint256(t){return W(t,256)}static uint(t){return W(t,256)}static int8(t){return W(t,-8)}static int16(t){return W(t,-16)}static int24(t){return W(t,-24)}static int32(t){return W(t,-32)}static int40(t){return W(t,-40)}static int48(t){return W(t,-48)}static int56(t){return W(t,-56)}static int64(t){return W(t,-64)}static int72(t){return W(t,-72)}static int80(t){return W(t,-80)}static int88(t){return W(t,-88)}static int96(t){return W(t,-96)}static int104(t){return W(t,-104)}static int112(t){return W(t,-112)}static int120(t){return W(t,-120)}static int128(t){return W(t,-128)}static int136(t){return W(t,-136)}static int144(t){return W(t,-144)}static int152(t){return W(t,-152)}static int160(t){return W(t,-160)}static int168(t){return W(t,-168)}static int176(t){return W(t,-176)}static int184(t){return W(t,-184)}static int192(t){return W(t,-192)}static int200(t){return W(t,-200)}static int208(t){return W(t,-208)}static int216(t){return W(t,-216)}static int224(t){return W(t,-224)}static int232(t){return W(t,-232)}static int240(t){return W(t,-240)}static int248(t){return W(t,-248)}static int256(t){return W(t,-256)}static int(t){return W(t,-256)}static bytes1(t){return Ot(t,1)}static bytes2(t){return Ot(t,2)}static bytes3(t){return Ot(t,3)}static bytes4(t){return Ot(t,4)}static bytes5(t){return Ot(t,5)}static bytes6(t){return Ot(t,6)}static bytes7(t){return Ot(t,7)}static bytes8(t){return Ot(t,8)}static bytes9(t){return Ot(t,9)}static bytes10(t){return Ot(t,10)}static bytes11(t){return Ot(t,11)}static bytes12(t){return Ot(t,12)}static bytes13(t){return Ot(t,13)}static bytes14(t){return Ot(t,14)}static bytes15(t){return Ot(t,15)}static bytes16(t){return Ot(t,16)}static bytes17(t){return Ot(t,17)}static bytes18(t){return Ot(t,18)}static bytes19(t){return Ot(t,19)}static bytes20(t){return Ot(t,20)}static bytes21(t){return Ot(t,21)}static bytes22(t){return Ot(t,22)}static bytes23(t){return Ot(t,23)}static bytes24(t){return Ot(t,24)}static bytes25(t){return Ot(t,25)}static bytes26(t){return Ot(t,26)}static bytes27(t){return Ot(t,27)}static bytes28(t){return Ot(t,28)}static bytes29(t){return Ot(t,29)}static bytes30(t){return Ot(t,30)}static bytes31(t){return Ot(t,31)}static bytes32(t){return Ot(t,32)}static address(t){return new Wt(us,"address",t)}static bool(t){return new Wt(us,"bool",!!t)}static bytes(t){return new Wt(us,"bytes",t)}static string(t){return new Wt(us,"string",t)}static array(t,e){throw new Error("not implemented yet")}static tuple(t,e){throw new Error("not implemented yet")}static overrides(t){return new Wt(us,"overrides",Object.assign({},t))}static isTyped(t){return t&&typeof t=="object"&&"_typedSymbol"in t&&t._typedSymbol===rb}static dereference(t,e){if(Wt.isTyped(t)){if(t.type!==e)throw new Error(`invalid type: expecetd ${e}, got ${t.type}`);return t.value}return t}}class ox extends vs{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){let i=Wt.dereference(e,"string");try{i=Bt(i)}catch(o){return this._throwError(o.message,e)}return t.writeValue(i)}decode(t){return Bt(ri(t.readValue(),20))}}class lx extends vs{coder;constructor(t){super(t.name,t.type,"_",t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,e){return this.coder.encode(t,e)}decode(t){return this.coder.decode(t)}}function iv(r,t,e){let i=[];if(Array.isArray(e))i=e;else if(e&&typeof e=="object"){let p={};i=t.map(g=>{const y=g.localName;return q(y,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:g},value:e}),q(!p[y],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:g},value:e}),p[y]=!0,e[y]})}else O(!1,"invalid tuple value","tuple",e);O(t.length===i.length,"types/value length mismatch","tuple",e);let o=new od,u=new od,c=[];t.forEach((p,g)=>{let y=i[g];if(p.dynamic){let m=u.length;p.encode(u,y);let v=o.writeUpdatableValue();c.push(E=>{v(E+m)})}else p.encode(o,y)}),c.forEach(p=>{p(o.length)});let h=r.appendWriter(o);return h+=r.appendWriter(u),h}function rv(r,t){let e=[],i=[],o=r.subReader(0);return t.forEach(u=>{let c=null;if(u.dynamic){let h=r.readIndex(),p=o.subReader(h);try{c=u.decode(p)}catch(g){if(Oe(g,"BUFFER_OVERRUN"))throw g;c=g,c.baseType=u.name,c.name=u.localName,c.type=u.type}}else try{c=u.decode(r)}catch(h){if(Oe(h,"BUFFER_OVERRUN"))throw h;c=h,c.baseType=u.name,c.name=u.localName,c.type=u.type}if(c==null)throw new Error("investigate");e.push(c),i.push(u.localName||null)}),ds.fromItems(e,i)}class ux extends vs{coder;length;constructor(t,e,i){const o=t.type+"["+(e>=0?e:"")+"]",u=e===-1||t.dynamic;super("array",o,i,u),ot(this,{coder:t,length:e})}defaultValue(){const t=this.coder.defaultValue(),e=[];for(let i=0;i<this.length;i++)e.push(t);return e}encode(t,e){const i=Wt.dereference(e,"array");Array.isArray(i)||this._throwError("expected array value",i);let o=this.length;o===-1&&(o=i.length,t.writeValue(i.length)),gw(i.length,o,"coder array"+(this.localName?" "+this.localName:""));let u=[];for(let c=0;c<i.length;c++)u.push(this.coder);return iv(t,u,i)}decode(t){let e=this.length;e===-1&&(e=t.readIndex(),q(e*De<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:e*De,length:t.dataLength}));let i=[];for(let o=0;o<e;o++)i.push(new lx(this.coder));return rv(t,i)}}class cx extends vs{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){const i=Wt.dereference(e,"bool");return t.writeValue(i?1:0)}decode(t){return!!t.readValue()}}class av extends vs{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=Ue(e);let i=t.writeValue(e.length);return i+=t.writeBytes(e),i}decode(t){return t.readBytes(t.readIndex(),!0)}}class fx extends av{constructor(t){super("bytes",t)}decode(t){return $(super.decode(t))}}class hx extends vs{size;constructor(t,e){let i="bytes"+String(t);super(i,i,e,!1),ot(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(t,e){let i=Ue(Wt.dereference(e,this.type));return i.length!==this.size&&this._throwError("incorrect data length",e),t.writeBytes(i)}decode(t){return $(t.readBytes(this.size))}}const dx=new Uint8Array([]);class px extends vs{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return e!=null&&this._throwError("not null",e),t.writeBytes(dx)}decode(t){return t.readBytes(0),null}}const gx=BigInt(0),yx=BigInt(1),mx=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class bx extends vs{size;signed;constructor(t,e,i){const o=(e?"int":"uint")+t*8;super(o,o,i,!1),ot(this,{size:t,signed:e},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,e){let i=tt(Wt.dereference(e,this.type)),o=mo(mx,De*8);if(this.signed){let u=mo(o,this.size*8-1);(i>u||i<-(u+yx))&&this._throwError("value out-of-bounds",e),i=bw(i,8*De)}else(i<gx||i>mo(o,this.size*8))&&this._throwError("value out-of-bounds",e);return t.writeValue(i)}decode(t){let e=mo(t.readValue(),this.size*8);return this.signed&&(e=g_(e,this.size*8)),e}}class wx extends av{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,gs(Wt.dereference(e,"string")))}decode(t){return Bu(super.decode(t))}}class mu extends vs{coders;constructor(t,e){let i=!1;const o=[];t.forEach(c=>{c.dynamic&&(i=!0),o.push(c.type)});const u="tuple("+o.join(",")+")";super("tuple",u,e,i),ot(this,{coders:Object.freeze(t.slice())})}defaultValue(){const t=[];this.coders.forEach(i=>{t.push(i.defaultValue())});const e=this.coders.reduce((i,o)=>{const u=o.localName;return u&&(i[u]||(i[u]=0),i[u]++),i},{});return this.coders.forEach((i,o)=>{let u=i.localName;!u||e[u]!==1||(u==="length"&&(u="_length"),t[u]==null&&(t[u]=t[o]))}),Object.freeze(t)}encode(t,e){const i=Wt.dereference(e,"tuple");return iv(t,this.coders,i)}decode(t){return rv(t,this.coders)}}function Dh(r,t){return{address:Bt(r),storageKeys:t.map((e,i)=>(O(Ft(e,32),"invalid slot",`storageKeys[${i}]`,e),e.toLowerCase()))}}function Ki(r){if(Array.isArray(r))return r.map((e,i)=>Array.isArray(e)?(O(e.length===2,"invalid slot set",`value[${i}]`,e),Dh(e[0],e[1])):(O(e!=null&&typeof e=="object","invalid address-slot set","value",r),Dh(e.address,e.storageKeys)));O(r!=null&&typeof r=="object","invalid access list","value",r);const t=Object.keys(r).map(e=>{const i=r[e].reduce((o,u)=>(o[u]=!0,o),{});return Dh(e,Object.keys(i).sort())});return t.sort((e,i)=>e.address.localeCompare(i.address)),t}function ov(r){return{address:Bt(r.address),nonce:tt(r.nonce!=null?r.nonce:0),chainId:tt(r.chainId!=null?r.chainId:0),signature:$t.from(r.signature)}}function vx(r){let t;return typeof r=="string"?t=hs.computePublicKey(r,!1):t=r.publicKey,Bt(oe("0x"+t.substring(4)).substring(26))}function Ax(r,t){return vx(hs.recoverPublicKey(r,t))}const ve=BigInt(0),Ex=BigInt(2),Sx=BigInt(27),Tx=BigInt(28),_x=BigInt(35),xx=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Mh=4096*32;function Ox(r){return{blobToKzgCommitment:i=>{if("computeBlobProof"in r){if("blobToKzgCommitment"in r&&typeof r.blobToKzgCommitment=="function")return yt(r.blobToKzgCommitment($(i)))}else if("blobToKzgCommitment"in r&&typeof r.blobToKzgCommitment=="function")return yt(r.blobToKzgCommitment(i));if("blobToKZGCommitment"in r&&typeof r.blobToKZGCommitment=="function")return yt(r.blobToKZGCommitment($(i)));O(!1,"unsupported KZG library","kzg",r)},computeBlobKzgProof:(i,o)=>{if("computeBlobProof"in r&&typeof r.computeBlobProof=="function")return yt(r.computeBlobProof($(i),$(o)));if("computeBlobKzgProof"in r&&typeof r.computeBlobKzgProof=="function")return r.computeBlobKzgProof(i,o);if("computeBlobKZGProof"in r&&typeof r.computeBlobKZGProof=="function")return yt(r.computeBlobKZGProof($(i),$(o)));O(!1,"unsupported KZG library","kzg",r)}}}function ab(r,t){let e=r.toString(16);for(;e.length<2;)e="0"+e;return e+=fa(t).substring(4),"0x"+e}function ha(r){return r==="0x"?null:Bt(r)}function Ju(r,t){try{return Ki(r)}catch(e){O(!1,e.message,t,r)}}function Nx(r,t){try{if(!Array.isArray(r))throw new Error("authorizationList: invalid array");const e=[];for(let i=0;i<r.length;i++){const o=r[i];if(!Array.isArray(o))throw new Error(`authorization[${i}]: invalid array`);if(o.length!==6)throw new Error(`authorization[${i}]: wrong length`);if(!o[1])throw new Error(`authorization[${i}]: null address`);e.push({address:ha(o[1]),nonce:It(o[2],"nonce"),chainId:It(o[0],"chainId"),signature:$t.from({yParity:Ji(o[3],"yParity"),r:ms(o[4],32),s:ms(o[5],32)})})}return e}catch(e){O(!1,e.message,t,r)}}function Ji(r,t){return r==="0x"?0:mt(r,t)}function It(r,t){if(r==="0x")return ve;const e=tt(r,t);return O(e<=xx,"value exceeds uint size",t,e),e}function Tt(r,t){const e=tt(r,"value"),i=de(e);return O(i.length<=32,"value too large",`tx.${t}`,e),i}function Yu(r){return Ki(r).map(t=>[t.address,t.storageKeys])}function Rx(r){return r.map(t=>[Tt(t.chainId,"chainId"),t.address,Tt(t.nonce,"nonce"),Tt(t.signature.yParity,"yParity"),de(t.signature.r),de(t.signature.s)])}function Cx(r,t){O(Array.isArray(r),`invalid ${t}`,"value",r);for(let e=0;e<r.length;e++)O(Ft(r[e],32),"invalid ${ param } hash",`value[${e}]`,r[e]);return r}function kx(r){const t=Io(r);O(Array.isArray(t)&&(t.length===9||t.length===6),"invalid field count for legacy transaction","data",r);const e={type:0,nonce:Ji(t[0],"nonce"),gasPrice:It(t[1],"gasPrice"),gasLimit:It(t[2],"gasLimit"),to:ha(t[3]),value:It(t[4],"value"),data:$(t[5]),chainId:ve};if(t.length===6)return e;const i=It(t[6],"v"),o=It(t[7],"r"),u=It(t[8],"s");if(o===ve&&u===ve)e.chainId=i;else{let c=(i-_x)/Ex;c<ve&&(c=ve),e.chainId=c,O(c!==ve||i===Sx||i===Tx,"non-canonical legacy v","v",t[6]),e.signature=$t.from({r:ms(t[7],32),s:ms(t[8],32),v:i})}return e}function Bx(r,t){const e=[Tt(r.nonce,"nonce"),Tt(r.gasPrice||0,"gasPrice"),Tt(r.gasLimit,"gasLimit"),r.to||"0x",Tt(r.value,"value"),r.data];let i=ve;if(r.chainId!=ve)i=tt(r.chainId,"tx.chainId"),O(!t||t.networkV==null||t.legacyChainId===i,"tx.chainId/sig.v mismatch","sig",t);else if(r.signature){const u=r.signature.legacyChainId;u!=null&&(i=u)}if(!t)return i!==ve&&(e.push(de(i)),e.push("0x"),e.push("0x")),ai(e);let o=BigInt(27+t.yParity);return i!==ve?o=$t.getChainIdV(i,t.v):BigInt(t.v)!==o&&O(!1,"tx.chainId/sig.v mismatch","sig",t),e.push(de(o)),e.push(de(t.r)),e.push(de(t.s)),ai(e)}function Xu(r,t){let e;try{if(e=Ji(t[0],"yParity"),e!==0&&e!==1)throw new Error("bad yParity")}catch{O(!1,"invalid yParity","yParity",t[0])}const i=ms(t[1],32),o=ms(t[2],32),u=$t.from({r:i,s:o,yParity:e});r.signature=u}function Ux(r){const t=Io(yt(r).slice(1));O(Array.isArray(t)&&(t.length===9||t.length===12),"invalid field count for transaction type: 2","data",$(r));const e={type:2,chainId:It(t[0],"chainId"),nonce:Ji(t[1],"nonce"),maxPriorityFeePerGas:It(t[2],"maxPriorityFeePerGas"),maxFeePerGas:It(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:It(t[4],"gasLimit"),to:ha(t[5]),value:It(t[6],"value"),data:$(t[7]),accessList:Ju(t[8],"accessList")};return t.length===9||Xu(e,t.slice(9)),e}function Dx(r,t){const e=[Tt(r.chainId,"chainId"),Tt(r.nonce,"nonce"),Tt(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Tt(r.maxFeePerGas||0,"maxFeePerGas"),Tt(r.gasLimit,"gasLimit"),r.to||"0x",Tt(r.value,"value"),r.data,Yu(r.accessList||[])];return t&&(e.push(Tt(t.yParity,"yParity")),e.push(de(t.r)),e.push(de(t.s))),te(["0x02",ai(e)])}function Mx(r){const t=Io(yt(r).slice(1));O(Array.isArray(t)&&(t.length===8||t.length===11),"invalid field count for transaction type: 1","data",$(r));const e={type:1,chainId:It(t[0],"chainId"),nonce:Ji(t[1],"nonce"),gasPrice:It(t[2],"gasPrice"),gasLimit:It(t[3],"gasLimit"),to:ha(t[4]),value:It(t[5],"value"),data:$(t[6]),accessList:Ju(t[7],"accessList")};return t.length===8||Xu(e,t.slice(8)),e}function Lx(r,t){const e=[Tt(r.chainId,"chainId"),Tt(r.nonce,"nonce"),Tt(r.gasPrice||0,"gasPrice"),Tt(r.gasLimit,"gasLimit"),r.to||"0x",Tt(r.value,"value"),r.data,Yu(r.accessList||[])];return t&&(e.push(Tt(t.yParity,"recoveryParam")),e.push(de(t.r)),e.push(de(t.s))),te(["0x01",ai(e)])}function Px(r){let t=Io(yt(r).slice(1)),e="3",i=null;if(t.length===4&&Array.isArray(t[0])){e="3 (network format)";const u=t[1],c=t[2],h=t[3];O(Array.isArray(u),"invalid network format: blobs not an array","fields[1]",u),O(Array.isArray(c),"invalid network format: commitments not an array","fields[2]",c),O(Array.isArray(h),"invalid network format: proofs not an array","fields[3]",h),O(u.length===c.length,"invalid network format: blobs/commitments length mismatch","fields",t),O(u.length===h.length,"invalid network format: blobs/proofs length mismatch","fields",t),i=[];for(let p=0;p<t[1].length;p++)i.push({data:u[p],commitment:c[p],proof:h[p]});t=t[0]}O(Array.isArray(t)&&(t.length===11||t.length===14),`invalid field count for transaction type: ${e}`,"data",$(r));const o={type:3,chainId:It(t[0],"chainId"),nonce:Ji(t[1],"nonce"),maxPriorityFeePerGas:It(t[2],"maxPriorityFeePerGas"),maxFeePerGas:It(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:It(t[4],"gasLimit"),to:ha(t[5]),value:It(t[6],"value"),data:$(t[7]),accessList:Ju(t[8],"accessList"),maxFeePerBlobGas:It(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10]};i&&(o.blobs=i),O(o.to!=null,`invalid address for transaction type: ${e}`,"data",r),O(Array.isArray(o.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",r);for(let u=0;u<o.blobVersionedHashes.length;u++)O(Ft(o.blobVersionedHashes[u],32),`invalid blobVersionedHash at index ${u}: must be length 32`,"data",r);return t.length===11||Xu(o,t.slice(11)),o}function Ix(r,t,e){const i=[Tt(r.chainId,"chainId"),Tt(r.nonce,"nonce"),Tt(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Tt(r.maxFeePerGas||0,"maxFeePerGas"),Tt(r.gasLimit,"gasLimit"),r.to||No,Tt(r.value,"value"),r.data,Yu(r.accessList||[]),Tt(r.maxFeePerBlobGas||0,"maxFeePerBlobGas"),Cx(r.blobVersionedHashes||[],"blobVersionedHashes")];return t&&(i.push(Tt(t.yParity,"yParity")),i.push(de(t.r)),i.push(de(t.s)),e)?te(["0x03",ai([i,e.map(o=>o.data),e.map(o=>o.commitment),e.map(o=>o.proof)])]):te(["0x03",ai(i)])}function jx(r){const t=Io(yt(r).slice(1));O(Array.isArray(t)&&(t.length===10||t.length===13),"invalid field count for transaction type: 4","data",$(r));const e={type:4,chainId:It(t[0],"chainId"),nonce:Ji(t[1],"nonce"),maxPriorityFeePerGas:It(t[2],"maxPriorityFeePerGas"),maxFeePerGas:It(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:It(t[4],"gasLimit"),to:ha(t[5]),value:It(t[6],"value"),data:$(t[7]),accessList:Ju(t[8],"accessList"),authorizationList:Nx(t[9],"authorizationList")};return t.length===10||Xu(e,t.slice(10)),e}function zx(r,t){const e=[Tt(r.chainId,"chainId"),Tt(r.nonce,"nonce"),Tt(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Tt(r.maxFeePerGas||0,"maxFeePerGas"),Tt(r.gasLimit,"gasLimit"),r.to||"0x",Tt(r.value,"value"),r.data,Yu(r.accessList||[]),Rx(r.authorizationList||[])];return t&&(e.push(Tt(t.yParity,"yParity")),e.push(de(t.r)),e.push(de(t.s))),te(["0x04",ai(e)])}class xn{#t;#e;#n;#s;#i;#a;#r;#o;#d;#u;#p;#g;#l;#c;#f;#h;#m;get type(){return this.#t}set type(t){switch(t){case null:this.#t=null;break;case 0:case"legacy":this.#t=0;break;case 1:case"berlin":case"eip-2930":this.#t=1;break;case 2:case"london":case"eip-1559":this.#t=2;break;case 3:case"cancun":case"eip-4844":this.#t=3;break;case 4:case"pectra":case"eip-7702":this.#t=4;break;default:O(!1,"unsupported transaction type","type",t)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const t=this.#e;return t==null&&this.type===3?No:t}set to(t){this.#e=t==null?null:Bt(t)}get nonce(){return this.#s}set nonce(t){this.#s=mt(t,"value")}get gasLimit(){return this.#i}set gasLimit(t){this.#i=tt(t)}get gasPrice(){const t=this.#a;return t==null&&(this.type===0||this.type===1)?ve:t}set gasPrice(t){this.#a=t==null?null:tt(t,"gasPrice")}get maxPriorityFeePerGas(){const t=this.#r;return t??(this.type===2||this.type===3?ve:null)}set maxPriorityFeePerGas(t){this.#r=t==null?null:tt(t,"maxPriorityFeePerGas")}get maxFeePerGas(){const t=this.#o;return t??(this.type===2||this.type===3?ve:null)}set maxFeePerGas(t){this.#o=t==null?null:tt(t,"maxFeePerGas")}get data(){return this.#n}set data(t){this.#n=$(t)}get value(){return this.#d}set value(t){this.#d=tt(t,"value")}get chainId(){return this.#u}set chainId(t){this.#u=tt(t)}get signature(){return this.#p||null}set signature(t){this.#p=t==null?null:$t.from(t)}get accessList(){const t=this.#g||null;return t??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(t){this.#g=t==null?null:Ki(t)}get authorizationList(){const t=this.#m||null;return t==null&&this.type===4?[]:t}set authorizationList(t){this.#m=t==null?null:t.map(e=>ov(e))}get maxFeePerBlobGas(){const t=this.#l;return t==null&&this.type===3?ve:t}set maxFeePerBlobGas(t){this.#l=t==null?null:tt(t,"maxFeePerBlobGas")}get blobVersionedHashes(){let t=this.#c;return t==null&&this.type===3?[]:t}set blobVersionedHashes(t){if(t!=null){O(Array.isArray(t),"blobVersionedHashes must be an Array","value",t),t=t.slice();for(let e=0;e<t.length;e++)O(Ft(t[e],32),"invalid blobVersionedHash",`value[${e}]`,t[e])}this.#c=t}get blobs(){return this.#h==null?null:this.#h.map(t=>Object.assign({},t))}set blobs(t){if(t==null){this.#h=null;return}const e=[],i=[];for(let o=0;o<t.length;o++){const u=t[o];if(Id(u)){q(this.#f,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let c=yt(u);if(O(c.length<=Mh,"blob is too large",`blobs[${o}]`,u),c.length!==Mh){const g=new Uint8Array(Mh);g.set(c),c=g}const h=this.#f.blobToKzgCommitment(c),p=$(this.#f.computeBlobKzgProof(c,h));e.push({data:$(c),commitment:$(h),proof:p}),i.push(ab(1,h))}else{const c=$(u.commitment);e.push({data:$(u.data),commitment:c,proof:$(u.proof)}),i.push(ab(1,c))}}this.#h=e,this.#c=i}get kzg(){return this.#f}set kzg(t){t==null?this.#f=null:this.#f=Ox(t)}constructor(){this.#t=null,this.#e=null,this.#s=0,this.#i=ve,this.#a=null,this.#r=null,this.#o=null,this.#n="0x",this.#d=ve,this.#u=ve,this.#p=null,this.#g=null,this.#l=null,this.#c=null,this.#f=null,this.#h=null,this.#m=null}get hash(){return this.signature==null?null:oe(this.#y(!0,!1))}get unsignedHash(){return oe(this.unsignedSerialized)}get from(){return this.signature==null?null:Ax(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:hs.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}#y(t,e){q(!t||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const i=t?this.signature:null;switch(this.inferType()){case 0:return Bx(this,i);case 1:return Lx(this,i);case 2:return Dx(this,i);case 3:return Ix(this,i,e?this.blobs:null);case 4:return zx(this,i)}q(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#y(!0,!0)}get unsignedSerialized(){return this.#y(!1,!1)}inferType(){const t=this.inferTypes();return t.indexOf(2)>=0?2:t.pop()}inferTypes(){const t=this.gasPrice!=null,e=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,i=this.accessList!=null,o=this.#l!=null||this.#c;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&q(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),q(!e||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),q(this.type!==0||!i,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const u=[];return this.type!=null?u.push(this.type):this.authorizationList&&this.authorizationList.length?u.push(4):e?u.push(2):t?(u.push(1),i||u.push(0)):i?(u.push(1),u.push(2)):(o&&this.to||(u.push(0),u.push(1),u.push(2)),u.push(3)),u.sort(),u}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return xn.from(this)}toJSON(){const t=e=>e==null?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:t(this.gasLimit),gasPrice:t(this.gasPrice),maxPriorityFeePerGas:t(this.maxPriorityFeePerGas),maxFeePerGas:t(this.maxFeePerGas),value:t(this.value),chainId:t(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(t){if(t==null)return new xn;if(typeof t=="string"){const i=yt(t);if(i[0]>=127)return xn.from(kx(i));switch(i[0]){case 1:return xn.from(Mx(i));case 2:return xn.from(Ux(i));case 3:return xn.from(Px(i));case 4:return xn.from(jx(i))}q(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const e=new xn;return t.type!=null&&(e.type=t.type),t.to!=null&&(e.to=t.to),t.nonce!=null&&(e.nonce=t.nonce),t.gasLimit!=null&&(e.gasLimit=t.gasLimit),t.gasPrice!=null&&(e.gasPrice=t.gasPrice),t.maxPriorityFeePerGas!=null&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas),t.maxFeePerGas!=null&&(e.maxFeePerGas=t.maxFeePerGas),t.maxFeePerBlobGas!=null&&(e.maxFeePerBlobGas=t.maxFeePerBlobGas),t.data!=null&&(e.data=t.data),t.value!=null&&(e.value=t.value),t.chainId!=null&&(e.chainId=t.chainId),t.signature!=null&&(e.signature=$t.from(t.signature)),t.accessList!=null&&(e.accessList=t.accessList),t.authorizationList!=null&&(e.authorizationList=t.authorizationList),t.blobVersionedHashes!=null&&(e.blobVersionedHashes=t.blobVersionedHashes),t.kzg!=null&&(e.kzg=t.kzg),t.blobs!=null&&(e.blobs=t.blobs),t.hash!=null&&(O(e.isSigned(),"unsigned transaction cannot define '.hash'","tx",t),O(e.hash===t.hash,"hash mismatch","tx",t)),t.from!=null&&(O(e.isSigned(),"unsigned transaction cannot define '.from'","tx",t),O(e.from.toLowerCase()===(t.from||"").toLowerCase(),"from mismatch","tx",t)),e}}function Gi(r){return oe(gs(r))}var Hx="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const ob=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),lb=4;function Gx(r){let t=0;function e(){return r[t++]<<8|r[t++]}let i=e(),o=1,u=[0,1];for(let K=1;K<i;K++)u.push(o+=e());let c=e(),h=t;t+=c;let p=0,g=0;function y(){return p==0&&(g=g<<8|r[t++],p=8),g>>--p&1}const m=31,v=2**m,E=v>>>1,T=E>>1,S=v-1;let x=0;for(let K=0;K<m;K++)x=x<<1|y();let D=[],G=0,L=v;for(;;){let K=Math.floor(((x-G+1)*o-1)/L),H=0,J=i;for(;J-H>1;){let nt=H+J>>>1;K<u[nt]?J=nt:H=nt}if(H==0)break;D.push(H);let Z=G+Math.floor(L*u[H]/o),Y=G+Math.floor(L*u[H+1]/o)-1;for(;((Z^Y)&E)==0;)x=x<<1&S|y(),Z=Z<<1&S,Y=Y<<1&S|1;for(;Z&~Y&T;)x=x&E|x<<1&S>>>1|y(),Z=Z<<1^E,Y=(Y^E)<<1|E|1;G=Z,L=1+Y-Z}let F=i-4;return D.map(K=>{switch(K-F){case 3:return F+65792+(r[h++]<<16|r[h++]<<8|r[h++]);case 2:return F+256+(r[h++]<<8|r[h++]);case 1:return F+r[h++];default:return K-1}})}function Fx(r){let t=0;return()=>r[t++]}function lv(r){return Fx(Gx(Qx(r)))}function Qx(r){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((o,u)=>t[o.charCodeAt(0)]=u);let e=r.length,i=new Uint8Array(6*e>>3);for(let o=0,u=0,c=0,h=0;o<e;o++)h=h<<6|t[r.charCodeAt(o)],c+=6,c>=8&&(i[u++]=h>>(c-=8));return i}function qx(r){return r&1?~r>>1:r>>1}function Vx(r,t){let e=Array(r);for(let i=0,o=0;i<r;i++)e[i]=o+=qx(t());return e}function Ro(r,t=0){let e=[];for(;;){let i=r(),o=r();if(!o)break;t+=i;for(let u=0;u<o;u++)e.push(t+u);t+=o+1}return e}function uv(r){return Co(()=>{let t=Ro(r);if(t.length)return t})}function cv(r){let t=[];for(;;){let e=r();if(e==0)break;t.push(Kx(e,r))}for(;;){let e=r()-1;if(e<0)break;t.push(Jx(e,r))}return t.flat()}function Co(r){let t=[];for(;;){let e=r(t.length);if(!e)break;t.push(e)}return t}function fv(r,t,e){let i=Array(r).fill().map(()=>[]);for(let o=0;o<t;o++)Vx(r,e).forEach((u,c)=>i[c].push(u));return i}function Kx(r,t){let e=1+t(),i=t(),o=Co(t);return fv(o.length,1+r,t).flatMap((c,h)=>{let[p,...g]=c;return Array(o[h]).fill().map((y,m)=>{let v=m*i;return[p+m*e,g.map(E=>E+v)]})})}function Jx(r,t){let e=1+t();return fv(e,1+r,t).map(o=>[o[0],o.slice(1)])}function Yx(r){let t=[],e=Ro(r);return o(i([]),[]),t;function i(u){let c=r(),h=Co(()=>{let p=Ro(r).map(g=>e[g]);if(p.length)return i(p)});return{S:c,B:h,Q:u}}function o({S:u,B:c},h,p){if(!(u&4&&p===h[h.length-1])){u&2&&(p=h[h.length-1]),u&1&&t.push(h);for(let g of c)for(let y of g.Q)o(g,[...h,y],p)}}}function Xx(r){return r.toString(16).toUpperCase().padStart(2,"0")}function hv(r){return`{${Xx(r)}}`}function Zx(r){let t=[];for(let e=0,i=r.length;e<i;){let o=r.codePointAt(e);e+=o<65536?1:2,t.push(o)}return t}function aa(r){let e=r.length;if(e<4096)return String.fromCodePoint(...r);let i=[];for(let o=0;o<e;)i.push(String.fromCodePoint(...r.slice(o,o+=4096)));return i.join("")}function $x(r,t){let e=r.length,i=e-t.length;for(let o=0;i==0&&o<e;o++)i=r[o]-t[o];return i}var Wx="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const ko=44032,Du=4352,Mu=4449,Lu=4519,dv=19,pv=21,oa=28,Pu=pv*oa,tO=dv*Pu,eO=ko+tO,nO=Du+dv,sO=Mu+pv,iO=Lu+oa;function bo(r){return r>>24&255}function gv(r){return r&16777215}let dd,ub,pd,Su;function rO(){let r=lv(Wx);dd=new Map(uv(r).flatMap((t,e)=>t.map(i=>[i,e+1<<24]))),ub=new Set(Ro(r)),pd=new Map,Su=new Map;for(let[t,e]of cv(r)){if(!ub.has(t)&&e.length==2){let[i,o]=e,u=Su.get(i);u||(u=new Map,Su.set(i,u)),u.set(o,t)}pd.set(t,e.reverse())}}function yv(r){return r>=ko&&r<eO}function aO(r,t){if(r>=Du&&r<nO&&t>=Mu&&t<sO)return ko+(r-Du)*Pu+(t-Mu)*oa;if(yv(r)&&t>Lu&&t<iO&&(r-ko)%oa==0)return r+(t-Lu);{let e=Su.get(r);return e&&(e=e.get(t),e)?e:-1}}function mv(r){dd||rO();let t=[],e=[],i=!1;function o(u){let c=dd.get(u);c&&(i=!0,u|=c),t.push(u)}for(let u of r)for(;;){if(u<128)t.push(u);else if(yv(u)){let c=u-ko,h=c/Pu|0,p=c%Pu/oa|0,g=c%oa;o(Du+h),o(Mu+p),g>0&&o(Lu+g)}else{let c=pd.get(u);c?e.push(...c):o(u)}if(!e.length)break;u=e.pop()}if(i&&t.length>1){let u=bo(t[0]);for(let c=1;c<t.length;c++){let h=bo(t[c]);if(h==0||u<=h){u=h;continue}let p=c-1;for(;;){let g=t[p+1];if(t[p+1]=t[p],t[p]=g,!p||(u=bo(t[--p]),u<=h))break}u=bo(t[c])}}return t}function oO(r){let t=[],e=[],i=-1,o=0;for(let u of r){let c=bo(u),h=gv(u);if(i==-1)c==0?i=h:t.push(h);else if(o>0&&o>=c)c==0?(t.push(i,...e),e.length=0,i=h):e.push(h),o=c;else{let p=aO(i,h);p>=0?i=p:o==0&&c==0?(t.push(i),i=h):(e.push(h),o=c)}}return i>=0&&t.push(i,...e),t}function bv(r){return mv(r).map(gv)}function lO(r){return oO(mv(r))}const cb=45,wv=".",vv=65039,Av=1,Iu=r=>Array.from(r);function Bo(r,t){return r.P.has(t)||r.Q.has(t)}class uO extends Array{get is_emoji(){return!0}}let gd,Ev,Ii,yd,Sv,$r,Lh,Jr,Bi,fb,md;function Xd(){if(gd)return;let r=lv(Hx);const t=()=>Ro(r),e=()=>new Set(t()),i=(y,m)=>m.forEach(v=>y.add(v));gd=new Map(cv(r)),Ev=e(),Ii=t(),yd=new Set(t().map(y=>Ii[y])),Ii=new Set(Ii),Sv=e(),e();let o=uv(r),u=r();const c=()=>{let y=new Set;return t().forEach(m=>i(y,o[m])),i(y,t()),y};$r=Co(y=>{let m=Co(r).map(v=>v+96);if(m.length){let v=y>=u;m[0]-=32,m=aa(m),v&&(m=`Restricted[${m}]`);let E=c(),T=c(),S=!r();return{N:m,P:E,Q:T,M:S,R:v}}}),Lh=e(),Jr=new Map;let h=t().concat(Iu(Lh)).sort((y,m)=>y-m);h.forEach((y,m)=>{let v=r(),E=h[m]=v?h[m-v]:{V:[],M:new Map};E.V.push(y),Lh.has(y)||Jr.set(y,E)});for(let{V:y,M:m}of new Set(Jr.values())){let v=[];for(let T of y){let S=$r.filter(D=>Bo(D,T)),x=v.find(({G:D})=>S.some(G=>D.has(G)));x||(x={G:new Set,V:[]},v.push(x)),x.V.push(T),i(x.G,S)}let E=v.flatMap(T=>Iu(T.G));for(let{G:T,V:S}of v){let x=new Set(E.filter(D=>!T.has(D)));for(let D of S)m.set(D,x)}}Bi=new Set;let p=new Set;const g=y=>Bi.has(y)?p.add(y):Bi.add(y);for(let y of $r){for(let m of y.P)g(m);for(let m of y.Q)g(m)}for(let y of Bi)!Jr.has(y)&&!p.has(y)&&Jr.set(y,Av);i(Bi,bv(Bi)),fb=Yx(r).map(y=>uO.from(y)).sort($x),md=new Map;for(let y of fb){let m=[md];for(let v of y){let E=m.map(T=>{let S=T.get(v);return S||(S=new Map,T.set(v,S)),S});v===vv?m.push(...E):m=E}for(let v of m)v.V=y}}function Zd(r){return(Tv(r)?"":`${$d(Zu([r]))} `)+hv(r)}function $d(r){return`"${r}"‎`}function cO(r){if(r.length>=4&&r[2]==cb&&r[3]==cb)throw new Error(`invalid label extension: "${aa(r.slice(0,4))}"`)}function fO(r){for(let e=r.lastIndexOf(95);e>0;)if(r[--e]!==95)throw new Error("underscore allowed only at start")}function hO(r){let t=r[0],e=ob.get(t);if(e)throw To(`leading ${e}`);let i=r.length,o=-1;for(let u=1;u<i;u++){t=r[u];let c=ob.get(t);if(c){if(o==u)throw To(`${e} + ${c}`);o=u+1,e=c}}if(o==i)throw To(`trailing ${e}`)}function Zu(r,t=1/0,e=hv){let i=[];dO(r[0])&&i.push("◌"),r.length>t&&(t>>=1,r=[...r.slice(0,t),8230,...r.slice(-t)]);let o=0,u=r.length;for(let c=0;c<u;c++){let h=r[c];Tv(h)&&(i.push(aa(r.slice(o,c))),i.push(e(h)),o=c+1)}return i.push(aa(r.slice(o,u))),i.join("")}function dO(r){return Xd(),Ii.has(r)}function Tv(r){return Xd(),Sv.has(r)}function pO(r){return bO(gO(r,lO,AO))}function gO(r,t,e){if(!r)return[];Xd();let i=0;return r.split(wv).map(o=>{let u=Zx(o),c={input:u,offset:i};i+=u.length+1;try{let h=c.tokens=vO(u,t,e),p=h.length,g;if(!p)throw new Error("empty label");let y=c.output=h.flat();if(fO(y),!(c.emoji=p>1||h[0].is_emoji)&&y.every(v=>v<128))cO(y),g="ASCII";else{let v=h.flatMap(E=>E.is_emoji?[]:E);if(!v.length)g="Emoji";else{if(Ii.has(y[0]))throw To("leading combining mark");for(let S=1;S<p;S++){let x=h[S];if(!x.is_emoji&&Ii.has(x[0]))throw To(`emoji + combining mark: "${aa(h[S-1])} + ${Zu([x[0]])}"`)}hO(y);let E=Iu(new Set(v)),[T]=mO(E);wO(T,v),yO(T,E),g=T.N}}c.type=g}catch(h){c.error=h}return c})}function yO(r,t){let e,i=[];for(let o of t){let u=Jr.get(o);if(u===Av)return;if(u){let c=u.M.get(o);if(e=e?e.filter(h=>c.has(h)):Iu(c),!e.length)return}else i.push(o)}if(e){for(let o of e)if(i.every(u=>Bo(o,u)))throw new Error(`whole-script confusable: ${r.N}/${o.N}`)}}function mO(r){let t=$r;for(let e of r){let i=t.filter(o=>Bo(o,e));if(!i.length)throw $r.some(o=>Bo(o,e))?xv(t[0],e):_v(e);if(t=i,i.length==1)break}return t}function bO(r){return r.map(({input:t,error:e,output:i})=>{if(e){let o=e.message;throw new Error(r.length==1?o:`Invalid label ${$d(Zu(t,63))}: ${o}`)}return aa(i)}).join(wv)}function _v(r){return new Error(`disallowed character: ${Zd(r)}`)}function xv(r,t){let e=Zd(t),i=$r.find(o=>o.P.has(t));return i&&(e=`${i.N} ${e}`),new Error(`illegal mixture: ${r.N} + ${e}`)}function To(r){return new Error(`illegal placement: ${r}`)}function wO(r,t){for(let e of t)if(!Bo(r,e))throw xv(r,e);if(r.M){let e=bv(t);for(let i=1,o=e.length;i<o;i++)if(yd.has(e[i])){let u=i+1;for(let c;u<o&&yd.has(c=e[u]);u++)for(let h=i;h<u;h++)if(e[h]==c)throw new Error(`duplicate non-spacing marks: ${Zd(c)}`);if(u-i>lb)throw new Error(`excessive non-spacing marks: ${$d(Zu(e.slice(i-1,u)))} (${u-i}/${lb})`);i=u}}}function vO(r,t,e){let i=[],o=[];for(r=r.slice().reverse();r.length;){let u=EO(r);if(u)o.length&&(i.push(t(o)),o=[]),i.push(e(u));else{let c=r.pop();if(Bi.has(c))o.push(c);else{let h=gd.get(c);if(h)o.push(...h);else if(!Ev.has(c))throw _v(c)}}}return o.length&&i.push(t(o)),i}function AO(r){return r.filter(t=>t!=vv)}function EO(r,t){let e=md,i,o=r.length;for(;o&&(e=e.get(r[--o]),!!e);){let{V:u}=e;u&&(i=u,r.length=o)}return i}const Ov=new Uint8Array(32);Ov.fill(0);function hb(r){return O(r.length!==0,"invalid ENS name; empty component","comp",r),r}function Nv(r){const t=gs(SO(r)),e=[];if(r.length===0)return e;let i=0;for(let o=0;o<t.length;o++)t[o]===46&&(e.push(hb(t.slice(i,o))),i=o+1);return O(i<t.length,"invalid ENS name; empty component","name",r),e.push(hb(t.slice(i))),e}function SO(r){try{if(r.length===0)throw new Error("empty label");return pO(r)}catch(t){O(!1,`invalid ENS name (${t.message})`,"name",r)}}function bd(r){O(typeof r=="string","invalid ENS name; not a string","name",r),O(r.length,"invalid ENS name (empty label)","name",r);let t=Ov;const e=Nv(r);for(;e.length;)t=oe(te([t,oe(e.pop())]));return $(t)}function TO(r,t){const e=t;return O(e<=255,"DNS encoded label cannot exceed 255","length",e),$(te(Nv(r).map(i=>{O(i.length<=e,`label ${JSON.stringify(r)} exceeds ${e} bytes`,"name",r);const o=new Uint8Array(i.length+1);return o.set(i,1),o[0]=o.length-1,o})))+"00"}const Rv=new Uint8Array(32);Rv.fill(0);const _O=BigInt(-1),Cv=BigInt(0),kv=BigInt(1),xO=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function OO(r){const t=yt(r),e=t.length%32;return e?te([t,Rv.slice(e)]):$(t)}const NO=ri(kv,32),RO=ri(Cv,32),db={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Ph=["name","version","chainId","verifyingContract","salt"];function pb(r){return function(t){return O(typeof t=="string",`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,t),t}}const CO={name:pb("name"),version:pb("version"),chainId:function(r){const t=tt(r,"domain.chainId");return O(t>=0,"invalid chain ID","domain.chainId",r),Number.isSafeInteger(t)?Number(t):Rn(t)},verifyingContract:function(r){try{return Bt(r).toLowerCase()}catch{}O(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){const t=yt(r,"domain.salt");return O(t.length===32,'invalid domain value "salt"',"domain.salt",r),$(t)}};function Ih(r){{const t=r.match(/^(u?)int(\d+)$/);if(t){const e=t[1]==="",i=parseInt(t[2]);O(i%8===0&&i!==0&&i<=256&&t[2]===String(i),"invalid numeric width","type",r);const o=mo(xO,e?i-1:i),u=e?(o+kv)*_O:Cv;return function(c){const h=tt(c,"value");return O(h>=u&&h<=o,`value out-of-bounds for ${r}`,"value",h),ri(e?bw(h,256):h,32)}}}{const t=r.match(/^bytes(\d+)$/);if(t){const e=parseInt(t[1]);return O(e!==0&&e<=32&&t[1]===String(e),"invalid bytes width","type",r),function(i){const o=yt(i);return O(o.length===e,`invalid length for ${r}`,"value",i),OO(i)}}}switch(r){case"address":return function(t){return ms(Bt(t),32)};case"bool":return function(t){return t?NO:RO};case"bytes":return function(t){return oe(t)};case"string":return function(t){return Gi(t)}}return null}function gb(r,t){return`${r}(${t.map(({name:e,type:i})=>i+" "+e).join(",")})`}function bu(r){const t=r.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:r}}class rn{primaryType;#t;get types(){return JSON.parse(this.#t)}#e;#n;constructor(t){this.#e=new Map,this.#n=new Map;const e=new Map,i=new Map,o=new Map,u={};Object.keys(t).forEach(p=>{u[p]=t[p].map(({name:g,type:y})=>{let{base:m,index:v}=bu(y);return m==="int"&&!t.int&&(m="int256"),m==="uint"&&!t.uint&&(m="uint256"),{name:g,type:m+(v||"")}}),e.set(p,new Set),i.set(p,[]),o.set(p,new Set)}),this.#t=JSON.stringify(u);for(const p in u){const g=new Set;for(const y of u[p]){O(!g.has(y.name),`duplicate variable name ${JSON.stringify(y.name)} in ${JSON.stringify(p)}`,"types",t),g.add(y.name);const m=bu(y.type).base;O(m!==p,`circular type reference to ${JSON.stringify(m)}`,"types",t),!Ih(m)&&(O(i.has(m),`unknown type ${JSON.stringify(m)}`,"types",t),i.get(m).push(p),e.get(p).add(m))}}const c=Array.from(i.keys()).filter(p=>i.get(p).length===0);O(c.length!==0,"missing primary type","types",t),O(c.length===1,`ambiguous primary types or unused types: ${c.map(p=>JSON.stringify(p)).join(", ")}`,"types",t),ot(this,{primaryType:c[0]});function h(p,g){O(!g.has(p),`circular type reference to ${JSON.stringify(p)}`,"types",t),g.add(p);for(const y of e.get(p))if(i.has(y)){h(y,g);for(const m of g)o.get(m).add(y)}g.delete(p)}h(this.primaryType,new Set);for(const[p,g]of o){const y=Array.from(g);y.sort(),this.#e.set(p,gb(p,u[p])+y.map(m=>gb(m,u[m])).join(""))}}getEncoder(t){let e=this.#n.get(t);return e||(e=this.#s(t),this.#n.set(t,e)),e}#s(t){{const o=Ih(t);if(o)return o}const e=bu(t).array;if(e){const o=e.prefix,u=this.getEncoder(o);return c=>{O(e.count===-1||e.count===c.length,`array length mismatch; expected length ${e.count}`,"value",c);let h=c.map(u);return this.#e.has(o)&&(h=h.map(oe)),oe(te(h))}}const i=this.types[t];if(i){const o=Gi(this.#e.get(t));return u=>{const c=i.map(({name:h,type:p})=>{const g=this.getEncoder(p)(u[h]);return this.#e.has(p)?oe(g):g});return c.unshift(o),te(c)}}O(!1,`unknown type: ${t}`,"type",t)}encodeType(t){const e=this.#e.get(t);return O(e,`unknown type: ${JSON.stringify(t)}`,"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return oe(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,i){if(Ih(t))return i(t,e);const o=bu(t).array;if(o)return O(o.count===-1||o.count===e.length,`array length mismatch; expected length ${o.count}`,"value",e),e.map(c=>this._visit(o.prefix,c,i));const u=this.types[t];if(u)return u.reduce((c,{name:h,type:p})=>(c[h]=this._visit(p,e[h],i),c),{});O(!1,`unknown type: ${t}`,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new rn(t)}static getPrimaryType(t){return rn.from(t).primaryType}static hashStruct(t,e,i){return rn.from(e).hashStruct(t,i)}static hashDomain(t){const e=[];for(const i in t){if(t[i]==null)continue;const o=db[i];O(o,`invalid typed-data domain key: ${JSON.stringify(i)}`,"domain",t),e.push({name:i,type:o})}return e.sort((i,o)=>Ph.indexOf(i.name)-Ph.indexOf(o.name)),rn.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,i){return te(["0x1901",rn.hashDomain(t),rn.from(e).hash(i)])}static hash(t,e,i){return oe(rn.encode(t,e,i))}static async resolveNames(t,e,i,o){t=Object.assign({},t);for(const h in t)t[h]==null&&delete t[h];const u={};t.verifyingContract&&!Ft(t.verifyingContract,20)&&(u[t.verifyingContract]="0x");const c=rn.from(e);c.visit(i,(h,p)=>(h==="address"&&!Ft(p,20)&&(u[p]="0x"),p));for(const h in u)u[h]=await o(h);return t.verifyingContract&&u[t.verifyingContract]&&(t.verifyingContract=u[t.verifyingContract]),i=c.visit(i,(h,p)=>h==="address"&&u[p]?u[p]:p),{domain:t,value:i}}static getPayload(t,e,i){rn.hashDomain(t);const o={},u=[];Ph.forEach(p=>{const g=t[p];g!=null&&(o[p]=CO[p](g),u.push({name:p,type:db[p]}))});const c=rn.from(e);e=c.types;const h=Object.assign({},e);return O(h.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",e),h.EIP712Domain=u,c.encode(i),{types:h,domain:o,primaryType:c.primaryType,message:c.visit(i,(p,g)=>{if(p.match(/^bytes(\d*)/))return $(yt(g));if(p.match(/^u?int/))return tt(g).toString();switch(p){case"address":return g.toLowerCase();case"bool":return!!g;case"string":return O(typeof g=="string","invalid string","value",g),g}O(!1,"unsupported type","type",p)})}}}function Le(r){const t=new Set;return r.forEach(e=>t.add(e)),Object.freeze(t)}const kO="external public payable override",BO=Le(kO.split(" ")),Bv="constant external internal payable private public pure view override",UO=Le(Bv.split(" ")),Uv="constructor error event fallback function receive struct",Dv=Le(Uv.split(" ")),Mv="calldata memory storage payable indexed",DO=Le(Mv.split(" ")),MO="tuple returns",LO=[Uv,Mv,MO,Bv].join(" "),PO=Le(LO.split(" ")),IO={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},jO=new RegExp("^(\\s*)"),zO=new RegExp("^([0-9]+)"),HO=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),Lv=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),Pv=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class vn{#t;#e;get offset(){return this.#t}get length(){return this.#e.length-this.#t}constructor(t){this.#t=0,this.#e=t.slice()}clone(){return new vn(this.#e)}reset(){this.#t=0}#n(t=0,e=0){return new vn(this.#e.slice(t,e).map(i=>Object.freeze(Object.assign({},i,{match:i.match-t,linkBack:i.linkBack-t,linkNext:i.linkNext-t}))))}popKeyword(t){const e=this.peek();if(e.type!=="KEYWORD"||!t.has(e.text))throw new Error(`expected keyword ${e.text}`);return this.pop().text}popType(t){if(this.peek().type!==t){const e=this.peek();throw new Error(`expected ${t}; got ${e.type} ${JSON.stringify(e.text)}`)}return this.pop().text}popParen(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const e=this.#n(this.#t+1,t.match+1);return this.#t=t.match+1,e}popParams(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const e=[];for(;this.#t<t.match-1;){const i=this.peek().linkNext;e.push(this.#n(this.#t+1,i)),this.#t=i}return this.#t=t.match+1,e}peek(){if(this.#t>=this.#e.length)throw new Error("out-of-bounds");return this.#e[this.#t]}peekKeyword(t){const e=this.peekType("KEYWORD");return e!=null&&t.has(e)?e:null}peekType(t){if(this.length===0)return null;const e=this.peek();return e.type===t?e.text:null}pop(){const t=this.peek();return this.#t++,t}toString(){const t=[];for(let e=this.#t;e<this.#e.length;e++){const i=this.#e[e];t.push(`${i.type}:${i.text}`)}return`<TokenString ${t.join(" ")}>`}}function li(r){const t=[],e=c=>{const h=u<r.length?JSON.stringify(r[u]):"$EOI";throw new Error(`invalid token ${h} at ${u}: ${c}`)};let i=[],o=[],u=0;for(;u<r.length;){let c=r.substring(u),h=c.match(jO);h&&(u+=h[1].length,c=r.substring(u));const p={depth:i.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:u,value:-1};t.push(p);let g=IO[c[0]]||"";if(g){if(p.type=g,p.text=c[0],u++,g==="OPEN_PAREN")i.push(t.length-1),o.push(t.length-1);else if(g=="CLOSE_PAREN")i.length===0&&e("no matching open bracket"),p.match=i.pop(),t[p.match].match=t.length-1,p.depth--,p.linkBack=o.pop(),t[p.linkBack].linkNext=t.length-1;else if(g==="COMMA")p.linkBack=o.pop(),t[p.linkBack].linkNext=t.length-1,o.push(t.length-1);else if(g==="OPEN_BRACKET")p.type="BRACKET";else if(g==="CLOSE_BRACKET"){let y=t.pop().text;if(t.length>0&&t[t.length-1].type==="NUMBER"){const m=t.pop().text;y=m+y,t[t.length-1].value=mt(m)}if(t.length===0||t[t.length-1].type!=="BRACKET")throw new Error("missing opening bracket");t[t.length-1].text+=y}continue}if(h=c.match(HO),h){if(p.text=h[1],u+=p.text.length,PO.has(p.text)){p.type="KEYWORD";continue}if(p.text.match(Pv)){p.type="TYPE";continue}p.type="ID";continue}if(h=c.match(zO),h){p.text=h[1],p.type="NUMBER",u+=p.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(c[0])} at position ${u}`)}return new vn(t.map(c=>Object.freeze(c)))}function yb(r,t){let e=[];for(const i in t.keys())r.has(i)&&e.push(i);if(e.length>1)throw new Error(`conflicting types: ${e.join(", ")}`)}function $u(r,t){if(t.peekKeyword(Dv)){const e=t.pop().text;if(e!==r)throw new Error(`expected ${r}, got ${e}`)}return t.popType("ID")}function ws(r,t){const e=new Set;for(;;){const i=r.peekType("KEYWORD");if(i==null||t&&!t.has(i))break;if(r.pop(),e.has(i))throw new Error(`duplicate keywords: ${JSON.stringify(i)}`);e.add(i)}return Object.freeze(e)}function Iv(r){let t=ws(r,UO);return yb(t,Le("constant payable nonpayable".split(" "))),yb(t,Le("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function ys(r,t){return r.popParams().map(e=>Gt.from(e,t))}function jv(r){if(r.peekType("AT")){if(r.pop(),r.peekType("NUMBER"))return tt(r.pop().text);throw new Error("invalid gas")}return null}function Fi(r){if(r.length)throw new Error(`unexpected tokens at offset ${r.offset}: ${r.toString()}`)}const GO=new RegExp(/^(.*)\[([0-9]*)\]$/);function mb(r){const t=r.match(Pv);if(O(t,"invalid type","type",r),r==="uint")return"uint256";if(r==="int")return"int256";if(t[2]){const e=parseInt(t[2]);O(e!==0&&e<=32,"invalid bytes length","type",r)}else if(t[3]){const e=parseInt(t[3]);O(e!==0&&e<=256&&e%8===0,"invalid numeric width","type",r)}return r}const Jt={},Ke=Symbol.for("_ethers_internal"),bb="_ParamTypeInternal",wb="_ErrorInternal",vb="_EventInternal",Ab="_ConstructorInternal",Eb="_FallbackInternal",Sb="_FunctionInternal",Tb="_StructInternal";class Gt{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(t,e,i,o,u,c,h,p){if(Gu(t,Jt,"ParamType"),Object.defineProperty(this,Ke,{value:bb}),c&&(c=Object.freeze(c.slice())),o==="array"){if(h==null||p==null)throw new Error("")}else if(h!=null||p!=null)throw new Error("");if(o==="tuple"){if(c==null)throw new Error("")}else if(c!=null)throw new Error("");ot(this,{name:e,type:i,baseType:o,indexed:u,components:c,arrayLength:h,arrayChildren:p})}format(t){if(t==null&&(t="sighash"),t==="json"){const i=this.name||"";if(this.isArray()){const u=JSON.parse(this.arrayChildren.format("json"));return u.name=i,u.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(u)}const o={type:this.baseType==="tuple"?"tuple":this.type,name:i};return typeof this.indexed=="boolean"&&(o.indexed=this.indexed),this.isTuple()&&(o.components=this.components.map(u=>JSON.parse(u.format(t)))),JSON.stringify(o)}let e="";return this.isArray()?(e+=this.arrayChildren.format(t),e+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?e+="("+this.components.map(i=>i.format(t)).join(t==="full"?", ":",")+")":e+=this.type,t!=="sighash"&&(this.indexed===!0&&(e+=" indexed"),t==="full"&&this.name&&(e+=" "+this.name)),e}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(t,e){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const i=this;return t.map(o=>i.arrayChildren.walk(o,e))}if(this.isTuple()){if(!Array.isArray(t))throw new Error("invalid tuple value");if(t.length!==this.components.length)throw new Error("array is wrong length");const i=this;return t.map((o,u)=>i.components[u].walk(o,e))}return e(this.type,t)}#t(t,e,i,o){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const c=this.arrayChildren,h=e.slice();h.forEach((p,g)=>{c.#t(t,p,i,y=>{h[g]=y})}),o(h);return}if(this.isTuple()){const c=this.components;let h;if(Array.isArray(e))h=e.slice();else{if(e==null||typeof e!="object")throw new Error("invalid tuple value");h=c.map(p=>{if(!p.name)throw new Error("cannot use object value with unnamed components");if(!(p.name in e))throw new Error(`missing value for component ${p.name}`);return e[p.name]})}if(h.length!==this.components.length)throw new Error("array is wrong length");h.forEach((p,g)=>{c[g].#t(t,p,i,y=>{h[g]=y})}),o(h);return}const u=i(this.type,e);u.then?t.push(async function(){o(await u)}()):o(u)}async walkAsync(t,e){const i=[],o=[t];return this.#t(i,t,e,u=>{o[0]=u}),i.length&&await Promise.all(i),o[0]}static from(t,e){if(Gt.isParamType(t))return t;if(typeof t=="string")try{return Gt.from(li(t),e)}catch{O(!1,"invalid param type","obj",t)}else if(t instanceof vn){let h="",p="",g=null;ws(t,Le(["tuple"])).has("tuple")||t.peekType("OPEN_PAREN")?(p="tuple",g=t.popParams().map(S=>Gt.from(S)),h=`tuple(${g.map(S=>S.format()).join(",")})`):(h=mb(t.popType("TYPE")),p=h);let y=null,m=null;for(;t.length&&t.peekType("BRACKET");){const S=t.pop();y=new Gt(Jt,"",h,p,null,g,m,y),m=S.value,h+=S.text,p="array",g=null}let v=null;if(ws(t,DO).has("indexed")){if(!e)throw new Error("");v=!0}const T=t.peekType("ID")?t.pop().text:"";if(t.length)throw new Error("leftover tokens");return new Gt(Jt,T,h,p,v,g,m,y)}const i=t.name;O(!i||typeof i=="string"&&i.match(Lv),"invalid name","obj.name",i);let o=t.indexed;o!=null&&(O(e,"parameter cannot be indexed","obj.indexed",t.indexed),o=!!o);let u=t.type,c=u.match(GO);if(c){const h=parseInt(c[2]||"-1"),p=Gt.from({type:c[1],components:t.components});return new Gt(Jt,i||"",u,"array",o,null,h,p)}if(u==="tuple"||u.startsWith("tuple(")||u.startsWith("(")){const h=t.components!=null?t.components.map(g=>Gt.from(g)):null;return new Gt(Jt,i||"",u,"tuple",o,h,null,null)}return u=mb(t.type),new Gt(Jt,i||"",u,u,o,null,null,null)}static isParamType(t){return t&&t[Ke]===bb}}class Qi{type;inputs;constructor(t,e,i){Gu(t,Jt,"Fragment"),i=Object.freeze(i.slice()),ot(this,{type:e,inputs:i})}static from(t){if(typeof t=="string"){try{Qi.from(JSON.parse(t))}catch{}return Qi.from(li(t))}if(t instanceof vn)switch(t.peekKeyword(Dv)){case"constructor":return ps.from(t);case"error":return Ve.from(t);case"event":return Gn.from(t);case"fallback":case"receive":return cs.from(t);case"function":return Fn.from(t);case"struct":return Hi.from(t)}else if(typeof t=="object"){switch(t.type){case"constructor":return ps.from(t);case"error":return Ve.from(t);case"event":return Gn.from(t);case"fallback":case"receive":return cs.from(t);case"function":return Fn.from(t);case"struct":return Hi.from(t)}q(!1,`unsupported type: ${t.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}O(!1,"unsupported frgament object","obj",t)}static isConstructor(t){return ps.isFragment(t)}static isError(t){return Ve.isFragment(t)}static isEvent(t){return Gn.isFragment(t)}static isFunction(t){return Fn.isFragment(t)}static isStruct(t){return Hi.isFragment(t)}}class Wu extends Qi{name;constructor(t,e,i,o){super(t,e,o),O(typeof i=="string"&&i.match(Lv),"invalid identifier","name",i),o=Object.freeze(o.slice()),ot(this,{name:i})}}function Uo(r,t){return"("+t.map(e=>e.format(r)).join(r==="full"?", ":",")+")"}class Ve extends Wu{constructor(t,e,i){super(t,"error",e,i),Object.defineProperty(this,Ke,{value:wb})}get selector(){return Gi(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(t)))});const e=[];return t!=="sighash"&&e.push("error"),e.push(this.name+Uo(t,this.inputs)),e.join(" ")}static from(t){if(Ve.isFragment(t))return t;if(typeof t=="string")return Ve.from(li(t));if(t instanceof vn){const e=$u("error",t),i=ys(t);return Fi(t),new Ve(Jt,e,i)}return new Ve(Jt,t.name,t.inputs?t.inputs.map(Gt.from):[])}static isFragment(t){return t&&t[Ke]===wb}}class Gn extends Wu{anonymous;constructor(t,e,i,o){super(t,"event",e,i),Object.defineProperty(this,Ke,{value:vb}),ot(this,{anonymous:o})}get topicHash(){return Gi(this.format("sighash"))}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(t)))});const e=[];return t!=="sighash"&&e.push("event"),e.push(this.name+Uo(t,this.inputs)),t!=="sighash"&&this.anonymous&&e.push("anonymous"),e.join(" ")}static getTopicHash(t,e){return e=(e||[]).map(o=>Gt.from(o)),new Gn(Jt,t,e,!1).topicHash}static from(t){if(Gn.isFragment(t))return t;if(typeof t=="string")try{return Gn.from(li(t))}catch{O(!1,"invalid event fragment","obj",t)}else if(t instanceof vn){const e=$u("event",t),i=ys(t,!0),o=!!ws(t,Le(["anonymous"])).has("anonymous");return Fi(t),new Gn(Jt,e,i,o)}return new Gn(Jt,t.name,t.inputs?t.inputs.map(e=>Gt.from(e,!0)):[],!!t.anonymous)}static isFragment(t){return t&&t[Ke]===vb}}class ps extends Qi{payable;gas;constructor(t,e,i,o,u){super(t,e,i),Object.defineProperty(this,Ke,{value:Ab}),ot(this,{payable:o,gas:u})}format(t){if(q(t!=null&&t!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),t==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(t)))});const e=[`constructor${Uo(t,this.inputs)}`];return this.payable&&e.push("payable"),this.gas!=null&&e.push(`@${this.gas.toString()}`),e.join(" ")}static from(t){if(ps.isFragment(t))return t;if(typeof t=="string")try{return ps.from(li(t))}catch{O(!1,"invalid constuctor fragment","obj",t)}else if(t instanceof vn){ws(t,Le(["constructor"]));const e=ys(t),i=!!ws(t,BO).has("payable"),o=jv(t);return Fi(t),new ps(Jt,"constructor",e,i,o)}return new ps(Jt,"constructor",t.inputs?t.inputs.map(Gt.from):[],!!t.payable,t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[Ke]===Ab}}class cs extends Qi{payable;constructor(t,e,i){super(t,"fallback",e),Object.defineProperty(this,Ke,{value:Eb}),ot(this,{payable:i})}format(t){const e=this.inputs.length===0?"receive":"fallback";if(t==="json"){const i=this.payable?"payable":"nonpayable";return JSON.stringify({type:e,stateMutability:i})}return`${e}()${this.payable?" payable":""}`}static from(t){if(cs.isFragment(t))return t;if(typeof t=="string")try{return cs.from(li(t))}catch{O(!1,"invalid fallback fragment","obj",t)}else if(t instanceof vn){const e=t.toString(),i=t.peekKeyword(Le(["fallback","receive"]));if(O(i,"type must be fallback or receive","obj",e),t.popKeyword(Le(["fallback","receive"]))==="receive"){const h=ys(t);return O(h.length===0,"receive cannot have arguments","obj.inputs",h),ws(t,Le(["payable"])),Fi(t),new cs(Jt,[],!0)}let u=ys(t);u.length?O(u.length===1&&u[0].type==="bytes","invalid fallback inputs","obj.inputs",u.map(h=>h.format("minimal")).join(", ")):u=[Gt.from("bytes")];const c=Iv(t);if(O(c==="nonpayable"||c==="payable","fallback cannot be constants","obj.stateMutability",c),ws(t,Le(["returns"])).has("returns")){const h=ys(t);O(h.length===1&&h[0].type==="bytes","invalid fallback outputs","obj.outputs",h.map(p=>p.format("minimal")).join(", "))}return Fi(t),new cs(Jt,u,c==="payable")}if(t.type==="receive")return new cs(Jt,[],!0);if(t.type==="fallback"){const e=[Gt.from("bytes")],i=t.stateMutability==="payable";return new cs(Jt,e,i)}O(!1,"invalid fallback description","obj",t)}static isFragment(t){return t&&t[Ke]===Eb}}class Fn extends Wu{constant;outputs;stateMutability;payable;gas;constructor(t,e,i,o,u,c){super(t,"function",e,o),Object.defineProperty(this,Ke,{value:Sb}),u=Object.freeze(u.slice()),ot(this,{constant:i==="view"||i==="pure",gas:c,outputs:u,payable:i==="payable",stateMutability:i})}get selector(){return Gi(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(t))),outputs:this.outputs.map(i=>JSON.parse(i.format(t)))});const e=[];return t!=="sighash"&&e.push("function"),e.push(this.name+Uo(t,this.inputs)),t!=="sighash"&&(this.stateMutability!=="nonpayable"&&e.push(this.stateMutability),this.outputs&&this.outputs.length&&(e.push("returns"),e.push(Uo(t,this.outputs))),this.gas!=null&&e.push(`@${this.gas.toString()}`)),e.join(" ")}static getSelector(t,e){return e=(e||[]).map(o=>Gt.from(o)),new Fn(Jt,t,"view",e,[],null).selector}static from(t){if(Fn.isFragment(t))return t;if(typeof t=="string")try{return Fn.from(li(t))}catch{O(!1,"invalid function fragment","obj",t)}else if(t instanceof vn){const i=$u("function",t),o=ys(t),u=Iv(t);let c=[];ws(t,Le(["returns"])).has("returns")&&(c=ys(t));const h=jv(t);return Fi(t),new Fn(Jt,i,u,o,c,h)}let e=t.stateMutability;return e==null&&(e="payable",typeof t.constant=="boolean"?(e="view",t.constant||(e="payable",typeof t.payable=="boolean"&&!t.payable&&(e="nonpayable"))):typeof t.payable=="boolean"&&!t.payable&&(e="nonpayable")),new Fn(Jt,t.name,e,t.inputs?t.inputs.map(Gt.from):[],t.outputs?t.outputs.map(Gt.from):[],t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[Ke]===Sb}}class Hi extends Wu{constructor(t,e,i){super(t,"struct",e,i),Object.defineProperty(this,Ke,{value:Tb})}format(){throw new Error("@TODO")}static from(t){if(typeof t=="string")try{return Hi.from(li(t))}catch{O(!1,"invalid struct fragment","obj",t)}else if(t instanceof vn){const e=$u("struct",t),i=ys(t);return Fi(t),new Hi(Jt,e,i)}return new Hi(Jt,t.name,t.inputs?t.inputs.map(Gt.from):[])}static isFragment(t){return t&&t[Ke]===Tb}}const kn=new Map;kn.set(0,"GENERIC_PANIC");kn.set(1,"ASSERT_FALSE");kn.set(17,"OVERFLOW");kn.set(18,"DIVIDE_BY_ZERO");kn.set(33,"ENUM_RANGE_ERROR");kn.set(34,"BAD_STORAGE_DATA");kn.set(49,"STACK_UNDERFLOW");kn.set(50,"ARRAY_RANGE_ERROR");kn.set(65,"OUT_OF_MEMORY");kn.set(81,"UNINITIALIZED_FUNCTION_CALL");const FO=new RegExp(/^bytes([0-9]*)$/),QO=new RegExp(/^(u?int)([0-9]*)$/);let jh=null,_b=1024;function qO(r,t,e,i){let o="missing revert data",u=null;const c=null;let h=null;if(e){o="execution reverted";const g=yt(e);if(e=$(e),g.length===0)o+=" (no data present; likely require(false) occurred",u="require(false)";else if(g.length%32!==4)o+=" (could not decode reason; invalid data length)";else if($(g.slice(0,4))==="0x08c379a0")try{u=i.decode(["string"],g.slice(4))[0],h={signature:"Error(string)",name:"Error",args:[u]},o+=`: ${JSON.stringify(u)}`}catch{o+=" (could not decode reason; invalid string data)"}else if($(g.slice(0,4))==="0x4e487b71")try{const y=Number(i.decode(["uint256"],g.slice(4))[0]);h={signature:"Panic(uint256)",name:"Panic",args:[y]},u=`Panic due to ${kn.get(y)||"UNKNOWN"}(${y})`,o+=`: ${u}`}catch{o+=" (could not decode panic code)"}else o+=" (unknown custom error)"}const p={to:t.to?Bt(t.to):null,data:t.data||"0x"};return t.from&&(p.from=Bt(t.from)),Vt(o,"CALL_EXCEPTION",{action:r,data:e,reason:u,transaction:p,invocation:c,revert:h})}class la{#t(t){if(t.isArray())return new ux(this.#t(t.arrayChildren),t.arrayLength,t.name);if(t.isTuple())return new mu(t.components.map(i=>this.#t(i)),t.name);switch(t.baseType){case"address":return new ox(t.name);case"bool":return new cx(t.name);case"string":return new wx(t.name);case"bytes":return new fx(t.name);case"":return new px(t.name)}let e=t.type.match(QO);if(e){let i=parseInt(e[2]||"256");return O(i!==0&&i<=256&&i%8===0,"invalid "+e[1]+" bit length","param",t),new bx(i/8,e[1]==="int",t.name)}if(e=t.type.match(FO),e){let i=parseInt(e[1]);return O(i!==0&&i<=32,"invalid bytes length","param",t),new hx(i,t.name)}O(!1,"invalid type","type",t.type)}getDefaultValue(t){const e=t.map(o=>this.#t(Gt.from(o)));return new mu(e,"_").defaultValue()}encode(t,e){gw(e.length,t.length,"types/values length mismatch");const i=t.map(c=>this.#t(Gt.from(c))),o=new mu(i,"_"),u=new od;return o.encode(u,e),u.data}decode(t,e,i){const o=t.map(c=>this.#t(Gt.from(c)));return new mu(o,"_").decode(new zd(e,i,_b))}static _setDefaultMaxInflation(t){O(typeof t=="number"&&Number.isInteger(t),"invalid defaultMaxInflation factor","value",t),_b=t}static defaultAbiCoder(){return jh==null&&(jh=new la),jh}static getBuiltinCallException(t,e,i){return qO(t,e,i,la.defaultAbiCoder())}}class VO{fragment;name;signature;topic;args;constructor(t,e,i){const o=t.name,u=t.format();ot(this,{fragment:t,name:o,signature:u,topic:e,args:i})}}class KO{fragment;name;args;signature;selector;value;constructor(t,e,i,o){const u=t.name,c=t.format();ot(this,{fragment:t,name:u,args:i,signature:c,selector:e,value:o})}}class JO{fragment;name;args;signature;selector;constructor(t,e,i){const o=t.name,u=t.format();ot(this,{fragment:t,name:o,args:i,signature:u,selector:e})}}class xb{hash;_isIndexed;static isIndexed(t){return!!(t&&t._isIndexed)}constructor(t){ot(this,{hash:t,_isIndexed:!0})}}const Ob={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Nb={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:r=>`reverted with reason string ${JSON.stringify(r)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:r=>{let t="unknown panic code";return r>=0&&r<=255&&Ob[r.toString()]&&(t=Ob[r.toString()]),`reverted with panic code 0x${r.toString(16)} (${t})`}}};class Li{fragments;deploy;fallback;receive;#t;#e;#n;#s;constructor(t){let e=[];typeof t=="string"?e=JSON.parse(t):e=t,this.#n=new Map,this.#t=new Map,this.#e=new Map;const i=[];for(const c of e)try{i.push(Qi.from(c))}catch(h){console.log(`[Warning] Invalid Fragment ${JSON.stringify(c)}:`,h.message)}ot(this,{fragments:Object.freeze(i)});let o=null,u=!1;this.#s=this.getAbiCoder(),this.fragments.forEach((c,h)=>{let p;switch(c.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}ot(this,{deploy:c});return;case"fallback":c.inputs.length===0?u=!0:(O(!o||c.payable!==o.payable,"conflicting fallback fragments",`fragments[${h}]`,c),o=c,u=o.payable);return;case"function":p=this.#n;break;case"event":p=this.#e;break;case"error":p=this.#t;break;default:return}const g=c.format();p.has(g)||p.set(g,c)}),this.deploy||ot(this,{deploy:ps.from("constructor()")}),ot(this,{fallback:o,receive:u})}format(t){const e=t?"minimal":"full";return this.fragments.map(o=>o.format(e))}formatJson(){const t=this.fragments.map(e=>e.format("json"));return JSON.stringify(t.map(e=>JSON.parse(e)))}getAbiCoder(){return la.defaultAbiCoder()}#i(t,e,i){if(Ft(t)){const u=t.toLowerCase();for(const c of this.#n.values())if(u===c.selector)return c;return null}if(t.indexOf("(")===-1){const u=[];for(const[c,h]of this.#n)c.split("(")[0]===t&&u.push(h);if(e){const c=e.length>0?e[e.length-1]:null;let h=e.length,p=!0;Wt.isTyped(c)&&c.type==="overrides"&&(p=!1,h--);for(let g=u.length-1;g>=0;g--){const y=u[g].inputs.length;y!==h&&(!p||y!==h-1)&&u.splice(g,1)}for(let g=u.length-1;g>=0;g--){const y=u[g].inputs;for(let m=0;m<e.length;m++)if(Wt.isTyped(e[m])){if(m>=y.length){if(e[m].type==="overrides")continue;u.splice(g,1);break}if(e[m].type!==y[m].baseType){u.splice(g,1);break}}}}if(u.length===1&&e&&e.length!==u[0].inputs.length){const c=e[e.length-1];(c==null||Array.isArray(c)||typeof c!="object")&&u.splice(0,1)}if(u.length===0)return null;if(u.length>1&&i){const c=u.map(h=>JSON.stringify(h.format())).join(", ");O(!1,`ambiguous function description (i.e. matches ${c})`,"key",t)}return u[0]}const o=this.#n.get(Fn.from(t).format());return o||null}getFunctionName(t){const e=this.#i(t,null,!1);return O(e,"no matching function","key",t),e.name}hasFunction(t){return!!this.#i(t,null,!1)}getFunction(t,e){return this.#i(t,e||null,!0)}forEachFunction(t){const e=Array.from(this.#n.keys());e.sort((i,o)=>i.localeCompare(o));for(let i=0;i<e.length;i++){const o=e[i];t(this.#n.get(o),i)}}#a(t,e,i){if(Ft(t)){const u=t.toLowerCase();for(const c of this.#e.values())if(u===c.topicHash)return c;return null}if(t.indexOf("(")===-1){const u=[];for(const[c,h]of this.#e)c.split("(")[0]===t&&u.push(h);if(e){for(let c=u.length-1;c>=0;c--)u[c].inputs.length<e.length&&u.splice(c,1);for(let c=u.length-1;c>=0;c--){const h=u[c].inputs;for(let p=0;p<e.length;p++)if(Wt.isTyped(e[p])&&e[p].type!==h[p].baseType){u.splice(c,1);break}}}if(u.length===0)return null;if(u.length>1&&i){const c=u.map(h=>JSON.stringify(h.format())).join(", ");O(!1,`ambiguous event description (i.e. matches ${c})`,"key",t)}return u[0]}const o=this.#e.get(Gn.from(t).format());return o||null}getEventName(t){const e=this.#a(t,null,!1);return O(e,"no matching event","key",t),e.name}hasEvent(t){return!!this.#a(t,null,!1)}getEvent(t,e){return this.#a(t,e||null,!0)}forEachEvent(t){const e=Array.from(this.#e.keys());e.sort((i,o)=>i.localeCompare(o));for(let i=0;i<e.length;i++){const o=e[i];t(this.#e.get(o),i)}}getError(t,e){if(Ft(t)){const o=t.toLowerCase();if(Nb[o])return Ve.from(Nb[o].signature);for(const u of this.#t.values())if(o===u.selector)return u;return null}if(t.indexOf("(")===-1){const o=[];for(const[u,c]of this.#t)u.split("(")[0]===t&&o.push(c);if(o.length===0)return t==="Error"?Ve.from("error Error(string)"):t==="Panic"?Ve.from("error Panic(uint256)"):null;if(o.length>1){const u=o.map(c=>JSON.stringify(c.format())).join(", ");O(!1,`ambiguous error description (i.e. ${u})`,"name",t)}return o[0]}if(t=Ve.from(t).format(),t==="Error(string)")return Ve.from("error Error(string)");if(t==="Panic(uint256)")return Ve.from("error Panic(uint256)");const i=this.#t.get(t);return i||null}forEachError(t){const e=Array.from(this.#t.keys());e.sort((i,o)=>i.localeCompare(o));for(let i=0;i<e.length;i++){const o=e[i];t(this.#t.get(o),i)}}_decodeParams(t,e){return this.#s.decode(t,e)}_encodeParams(t,e){return this.#s.encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,e){if(typeof t=="string"){const i=this.getError(t);O(i,"unknown error","fragment",t),t=i}return O(Zt(e,0,4)===t.selector,`data signature does not match error ${t.name}.`,"data",e),this._decodeParams(t.inputs,Zt(e,4))}encodeErrorResult(t,e){if(typeof t=="string"){const i=this.getError(t);O(i,"unknown error","fragment",t),t=i}return te([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionData(t,e){if(typeof t=="string"){const i=this.getFunction(t);O(i,"unknown function","fragment",t),t=i}return O(Zt(e,0,4)===t.selector,`data signature does not match function ${t.name}.`,"data",e),this._decodeParams(t.inputs,Zt(e,4))}encodeFunctionData(t,e){if(typeof t=="string"){const i=this.getFunction(t);O(i,"unknown function","fragment",t),t=i}return te([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionResult(t,e){if(typeof t=="string"){const u=this.getFunction(t);O(u,"unknown function","fragment",t),t=u}let i="invalid length for result data";const o=Ue(e);if(o.length%32===0)try{return this.#s.decode(t.outputs,o)}catch{i="could not decode result data"}q(!1,i,"BAD_DATA",{value:$(o),info:{method:t.name,signature:t.format()}})}makeError(t,e){const i=yt(t,"data"),o=la.getBuiltinCallException("call",e,i);if(o.message.startsWith("execution reverted (unknown custom error)")){const h=$(i.slice(0,4)),p=this.getError(h);if(p)try{const g=this.#s.decode(p.inputs,i.slice(4));o.revert={name:p.name,signature:p.format(),args:g},o.reason=o.revert.signature,o.message=`execution reverted: ${o.reason}`}catch{o.message="execution reverted (coult not decode custom error)"}}const c=this.parseTransaction(e);return c&&(o.invocation={method:c.name,signature:c.signature,args:c.args}),o}encodeFunctionResult(t,e){if(typeof t=="string"){const i=this.getFunction(t);O(i,"unknown function","fragment",t),t=i}return $(this.#s.encode(t.outputs,e||[]))}encodeFilterTopics(t,e){if(typeof t=="string"){const u=this.getEvent(t);O(u,"unknown event","eventFragment",t),t=u}q(e.length<=t.inputs.length,`too many arguments for ${t.format()}`,"UNEXPECTED_ARGUMENT",{count:e.length,expectedCount:t.inputs.length});const i=[];t.anonymous||i.push(t.topicHash);const o=(u,c)=>u.type==="string"?Gi(c):u.type==="bytes"?oe($(c)):(u.type==="bool"&&typeof c=="boolean"?c=c?"0x01":"0x00":u.type.match(/^u?int/)?c=ri(c):u.type.match(/^bytes/)?c=p_(c,32):u.type==="address"&&this.#s.encode(["address"],[c]),ms($(c),32));for(e.forEach((u,c)=>{const h=t.inputs[c];if(!h.indexed){O(u==null,"cannot filter non-indexed parameters; must be null","contract."+h.name,u);return}u==null?i.push(null):h.baseType==="array"||h.baseType==="tuple"?O(!1,"filtering with tuples or arrays not supported","contract."+h.name,u):Array.isArray(u)?i.push(u.map(p=>o(h,p))):i.push(o(h,u))});i.length&&i[i.length-1]===null;)i.pop();return i}encodeEventLog(t,e){if(typeof t=="string"){const c=this.getEvent(t);O(c,"unknown event","eventFragment",t),t=c}const i=[],o=[],u=[];return t.anonymous||i.push(t.topicHash),O(e.length===t.inputs.length,"event arguments/values mismatch","values",e),t.inputs.forEach((c,h)=>{const p=e[h];if(c.indexed)if(c.type==="string")i.push(Gi(p));else if(c.type==="bytes")i.push(oe(p));else{if(c.baseType==="tuple"||c.baseType==="array")throw new Error("not implemented");i.push(this.#s.encode([c.type],[p]))}else o.push(c),u.push(p)}),{data:this.#s.encode(o,u),topics:i}}decodeEventLog(t,e,i){if(typeof t=="string"){const E=this.getEvent(t);O(E,"unknown event","eventFragment",t),t=E}if(i!=null&&!t.anonymous){const E=t.topicHash;O(Ft(i[0],32)&&i[0].toLowerCase()===E,"fragment/topic mismatch","topics[0]",i[0]),i=i.slice(1)}const o=[],u=[],c=[];t.inputs.forEach((E,T)=>{E.indexed?E.type==="string"||E.type==="bytes"||E.baseType==="tuple"||E.baseType==="array"?(o.push(Gt.from({type:"bytes32",name:E.name})),c.push(!0)):(o.push(E),c.push(!1)):(u.push(E),c.push(!1))});const h=i!=null?this.#s.decode(o,te(i)):null,p=this.#s.decode(u,e,!0),g=[],y=[];let m=0,v=0;return t.inputs.forEach((E,T)=>{let S=null;if(E.indexed)if(h==null)S=new xb(null);else if(c[T])S=new xb(h[v++]);else try{S=h[v++]}catch(x){S=x}else try{S=p[m++]}catch(x){S=x}g.push(S),y.push(E.name||null)}),ds.fromItems(g,y)}parseTransaction(t){const e=yt(t.data,"tx.data"),i=tt(t.value!=null?t.value:0,"tx.value"),o=this.getFunction($(e.slice(0,4)));if(!o)return null;const u=this.#s.decode(o.inputs,e.slice(4));return new KO(o,o.selector,u,i)}parseCallResult(t){throw new Error("@TODO")}parseLog(t){const e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new VO(e,e.topicHash,this.decodeEventLog(e,t.data,t.topics))}parseError(t){const e=$(t),i=this.getError(Zt(e,0,4));if(!i)return null;const o=this.#s.decode(i.inputs,Zt(e,4));return new JO(i,i.selector,o)}static from(t){return t instanceof Li?t:typeof t=="string"?new Li(JSON.parse(t)):typeof t.formatJson=="function"?new Li(t.formatJson()):typeof t.format=="function"?new Li(t.format("json")):new Li(t)}}const zv=BigInt(0);function Wr(r){return r??null}function se(r){return r==null?null:r.toString()}class Rb{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(t,e,i){ot(this,{gasPrice:Wr(t),maxFeePerGas:Wr(e),maxPriorityFeePerGas:Wr(i)})}toJSON(){const{gasPrice:t,maxFeePerGas:e,maxPriorityFeePerGas:i}=this;return{_type:"FeeData",gasPrice:se(t),maxFeePerGas:se(e),maxPriorityFeePerGas:se(i)}}}function ju(r){const t={};r.to&&(t.to=r.to),r.from&&(t.from=r.from),r.data&&(t.data=$(r.data));const e="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const o of e)!(o in r)||r[o]==null||(t[o]=tt(r[o],`request.${o}`));const i="type,nonce".split(/,/);for(const o of i)!(o in r)||r[o]==null||(t[o]=mt(r[o],`request.${o}`));return r.accessList&&(t.accessList=Ki(r.accessList)),r.authorizationList&&(t.authorizationList=r.authorizationList.slice()),"blockTag"in r&&(t.blockTag=r.blockTag),"enableCcipRead"in r&&(t.enableCcipRead=!!r.enableCcipRead),"customData"in r&&(t.customData=r.customData),"blobVersionedHashes"in r&&r.blobVersionedHashes&&(t.blobVersionedHashes=r.blobVersionedHashes.slice()),"kzg"in r&&(t.kzg=r.kzg),"blobs"in r&&r.blobs&&(t.blobs=r.blobs.map(o=>Id(o)?$(o):Object.assign({},o))),t}class YO{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#t;constructor(t,e){this.#t=t.transactions.map(i=>typeof i!="string"?new Ho(i,e):i),ot(this,{provider:e,hash:Wr(t.hash),number:t.number,timestamp:t.timestamp,parentHash:t.parentHash,parentBeaconBlockRoot:t.parentBeaconBlockRoot,nonce:t.nonce,difficulty:t.difficulty,gasLimit:t.gasLimit,gasUsed:t.gasUsed,blobGasUsed:t.blobGasUsed,excessBlobGas:t.excessBlobGas,miner:t.miner,prevRandao:Wr(t.prevRandao),extraData:t.extraData,baseFeePerGas:Wr(t.baseFeePerGas),stateRoot:t.stateRoot,receiptsRoot:t.receiptsRoot})}get transactions(){return this.#t.map(t=>typeof t=="string"?t:t.hash)}get prefetchedTransactions(){const t=this.#t.slice();return t.length===0?[]:(q(typeof t[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),t)}toJSON(){const{baseFeePerGas:t,difficulty:e,extraData:i,gasLimit:o,gasUsed:u,hash:c,miner:h,prevRandao:p,nonce:g,number:y,parentHash:m,parentBeaconBlockRoot:v,stateRoot:E,receiptsRoot:T,timestamp:S,transactions:x}=this;return{_type:"Block",baseFeePerGas:se(t),difficulty:se(e),extraData:i,gasLimit:se(o),gasUsed:se(u),blobGasUsed:se(this.blobGasUsed),excessBlobGas:se(this.excessBlobGas),hash:c,miner:h,prevRandao:p,nonce:g,number:y,parentHash:m,timestamp:S,parentBeaconBlockRoot:v,stateRoot:E,receiptsRoot:T,transactions:x}}[Symbol.iterator](){let t=0;const e=this.transactions;return{next:()=>t<this.length?{value:e[t++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#t.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(t){let e;if(typeof t=="number")e=this.#t[t];else{const i=t.toLowerCase();for(const o of this.#t)if(typeof o=="string"){if(o!==i)continue;e=o;break}else{if(o.hash!==i)continue;e=o;break}}if(e==null)throw new Error("no such tx");return typeof e=="string"?await this.provider.getTransaction(e):e}getPrefetchedTransaction(t){const e=this.prefetchedTransactions;if(typeof t=="number")return e[t];t=t.toLowerCase();for(const i of e)if(i.hash===t)return i;O(!1,"no matching transaction","indexOrHash",t)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return XO(this)}}class zo{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(t,e){this.provider=e;const i=Object.freeze(t.topics.slice());ot(this,{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,removed:t.removed,address:t.address,data:t.data,topics:i,index:t.index,transactionIndex:t.transactionIndex})}toJSON(){const{address:t,blockHash:e,blockNumber:i,data:o,index:u,removed:c,topics:h,transactionHash:p,transactionIndex:g}=this;return{_type:"log",address:t,blockHash:e,blockNumber:i,data:o,index:u,removed:c,topics:h,transactionHash:p,transactionIndex:g}}async getBlock(){const t=await this.provider.getBlock(this.blockHash);return q(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransaction(){const t=await this.provider.getTransaction(this.transactionHash);return q(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransactionReceipt(){const t=await this.provider.getTransactionReceipt(this.transactionHash);return q(!!t,"failed to find transaction receipt","UNKNOWN_ERROR",{}),t}removedEvent(){return ZO(this)}}class Hv{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#t;constructor(t,e){this.#t=Object.freeze(t.logs.map(o=>new zo(o,e)));let i=zv;t.effectiveGasPrice!=null?i=t.effectiveGasPrice:t.gasPrice!=null&&(i=t.gasPrice),ot(this,{provider:e,to:t.to,from:t.from,contractAddress:t.contractAddress,hash:t.hash,index:t.index,blockHash:t.blockHash,blockNumber:t.blockNumber,logsBloom:t.logsBloom,gasUsed:t.gasUsed,cumulativeGasUsed:t.cumulativeGasUsed,blobGasUsed:t.blobGasUsed,gasPrice:i,blobGasPrice:t.blobGasPrice,type:t.type,status:t.status,root:t.root})}get logs(){return this.#t}toJSON(){const{to:t,from:e,contractAddress:i,hash:o,index:u,blockHash:c,blockNumber:h,logsBloom:p,logs:g,status:y,root:m}=this;return{_type:"TransactionReceipt",blockHash:c,blockNumber:h,contractAddress:i,cumulativeGasUsed:se(this.cumulativeGasUsed),from:e,gasPrice:se(this.gasPrice),blobGasUsed:se(this.blobGasUsed),blobGasPrice:se(this.blobGasPrice),gasUsed:se(this.gasUsed),hash:o,index:u,logs:g,logsBloom:p,root:m,status:y,to:t}}get length(){return this.logs.length}[Symbol.iterator](){let t=0;return{next:()=>t<this.length?{value:this.logs[t++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const t=await this.provider.getBlock(this.blockHash);if(t==null)throw new Error("TODO");return t}async getTransaction(){const t=await this.provider.getTransaction(this.hash);if(t==null)throw new Error("TODO");return t}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Fv(this)}reorderedEvent(t){return q(!t||t.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Gv(this,t)}}class Ho{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#t;constructor(t,e){this.provider=e,this.blockNumber=t.blockNumber!=null?t.blockNumber:null,this.blockHash=t.blockHash!=null?t.blockHash:null,this.hash=t.hash,this.index=t.index,this.type=t.type,this.from=t.from,this.to=t.to||null,this.gasLimit=t.gasLimit,this.nonce=t.nonce,this.data=t.data,this.value=t.value,this.gasPrice=t.gasPrice,this.maxPriorityFeePerGas=t.maxPriorityFeePerGas!=null?t.maxPriorityFeePerGas:null,this.maxFeePerGas=t.maxFeePerGas!=null?t.maxFeePerGas:null,this.maxFeePerBlobGas=t.maxFeePerBlobGas!=null?t.maxFeePerBlobGas:null,this.chainId=t.chainId,this.signature=t.signature,this.accessList=t.accessList!=null?t.accessList:null,this.blobVersionedHashes=t.blobVersionedHashes!=null?t.blobVersionedHashes:null,this.authorizationList=t.authorizationList!=null?t.authorizationList:null,this.#t=-1}toJSON(){const{blockNumber:t,blockHash:e,index:i,hash:o,type:u,to:c,from:h,nonce:p,data:g,signature:y,accessList:m,blobVersionedHashes:v}=this;return{_type:"TransactionResponse",accessList:m,blockNumber:t,blockHash:e,blobVersionedHashes:v,chainId:se(this.chainId),data:g,from:h,gasLimit:se(this.gasLimit),gasPrice:se(this.gasPrice),hash:o,maxFeePerGas:se(this.maxFeePerGas),maxPriorityFeePerGas:se(this.maxPriorityFeePerGas),maxFeePerBlobGas:se(this.maxFeePerBlobGas),nonce:p,signature:y,to:c,index:i,type:u,value:se(this.value)}}async getBlock(){let t=this.blockNumber;if(t==null){const i=await this.getTransaction();i&&(t=i.blockNumber)}if(t==null)return null;const e=this.provider.getBlock(t);if(e==null)throw new Error("TODO");return e}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:e,blockNumber:i}=await Be({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return e==null||e.blockNumber==null?0:i-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(t,e){const i=t??1,o=e??0;let u=this.#t,c=-1,h=u===-1;const p=async()=>{if(h)return null;const{blockNumber:v,nonce:E}=await Be({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(E<this.nonce){u=v;return}if(h)return null;const T=await this.getTransaction();if(!(T&&T.blockNumber!=null))for(c===-1&&(c=u-3,c<this.#t&&(c=this.#t));c<=v;){if(h)return null;const S=await this.provider.getBlock(c,!0);if(S==null)return;for(const x of S)if(x===this.hash)return;for(let x=0;x<S.length;x++){const D=await S.getTransaction(x);if(D.from===this.from&&D.nonce===this.nonce){if(h)return null;const G=await this.provider.getTransactionReceipt(D.hash);if(G==null||v-G.blockNumber+1<i)return;let L="replaced";D.data===this.data&&D.to===this.to&&D.value===this.value?L="repriced":D.data==="0x"&&D.from===D.to&&D.value===zv&&(L="cancelled"),q(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:L==="replaced"||L==="cancelled",reason:L,replacement:D.replaceableTransaction(u),hash:D.hash,receipt:G})}}c++}},g=v=>{if(v==null||v.status!==0)return v;q(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:v.to,from:v.from,data:""},receipt:v})},y=await this.provider.getTransactionReceipt(this.hash);if(i===0)return g(y);if(y){if(i===1||await y.confirmations()>=i)return g(y)}else if(await p(),i===0)return null;return await new Promise((v,E)=>{const T=[],S=()=>{T.forEach(D=>D())};if(T.push(()=>{h=!0}),o>0){const D=setTimeout(()=>{S(),E(Vt("wait for transaction timeout","TIMEOUT"))},o);T.push(()=>{clearTimeout(D)})}const x=async D=>{if(await D.confirmations()>=i){S();try{v(g(D))}catch(G){E(G)}}};if(T.push(()=>{this.provider.off(this.hash,x)}),this.provider.on(this.hash,x),u>=0){const D=async()=>{try{await p()}catch(G){if(Oe(G,"TRANSACTION_REPLACED")){S(),E(G);return}}h||this.provider.once("block",D)};T.push(()=>{this.provider.off("block",D)}),this.provider.once("block",D)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return q(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Fv(this)}reorderedEvent(t){return q(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),q(!t||t.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Gv(this,t)}replaceableTransaction(t){O(Number.isInteger(t)&&t>=0,"invalid startBlock","startBlock",t);const e=new Ho(this,this.provider);return e.#t=t,e}}function XO(r){return{orphan:"drop-block",hash:r.hash,number:r.number}}function Gv(r,t){return{orphan:"reorder-transaction",tx:r,other:t}}function Fv(r){return{orphan:"drop-transaction",tx:r}}function ZO(r){return{orphan:"drop-log",log:{transactionHash:r.transactionHash,blockHash:r.blockHash,blockNumber:r.blockNumber,address:r.address,data:r.data,topics:Object.freeze(r.topics.slice()),index:r.index}}}class Wd extends zo{interface;fragment;args;constructor(t,e,i){super(t,t.provider);const o=e.decodeEventLog(i,t.data,t.topics);ot(this,{args:o,fragment:i,interface:e})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class Qv extends zo{error;constructor(t,e){super(t,t.provider),ot(this,{error:e})}}class $O extends Hv{#t;constructor(t,e,i){super(i,e),this.#t=t}get logs(){return super.logs.map(t=>{const e=t.topics.length?this.#t.getEvent(t.topics[0]):null;if(e)try{return new Wd(t,this.#t,e)}catch(i){return new Qv(t,i)}return t})}}class tp extends Ho{#t;constructor(t,e,i){super(i,e),this.#t=t}async wait(t,e){const i=await super.wait(t,e);return i==null?null:new $O(this.#t,this.provider,i)}}class qv extends ww{log;constructor(t,e,i,o){super(t,e,i),ot(this,{log:o})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class WO extends qv{constructor(t,e,i,o,u){super(t,e,i,new Wd(u,t.interface,o));const c=t.interface.decodeEventLog(o,this.log.data,this.log.topics);ot(this,{args:c,fragment:o})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Cb=BigInt(0);function Vv(r){return r&&typeof r.call=="function"}function Kv(r){return r&&typeof r.estimateGas=="function"}function tc(r){return r&&typeof r.resolveName=="function"}function Jv(r){return r&&typeof r.sendTransaction=="function"}function Yv(r){if(r!=null){if(tc(r))return r;if(r.provider)return r.provider}}class tN{#t;fragment;constructor(t,e,i){if(ot(this,{fragment:e}),e.inputs.length<i.length)throw new Error("too many arguments");const o=qi(t.runner,"resolveName"),u=tc(o)?o:null;this.#t=async function(){const c=await Promise.all(e.inputs.map((h,p)=>i[p]==null?null:h.walkAsync(i[p],(y,m)=>y==="address"?Array.isArray(m)?Promise.all(m.map(v=>Me(v,u))):Me(m,u):m)));return t.interface.encodeFilterTopics(e,c)}()}getTopicFilter(){return this.#t}}function qi(r,t){return r==null?null:typeof r[t]=="function"?r:r.provider&&typeof r.provider[t]=="function"?r.provider:null}function ji(r){return r==null?null:r.provider||null}async function Xv(r,t){const e=Wt.dereference(r,"overrides");O(typeof e=="object","invalid overrides parameter","overrides",r);const i=ju(e);return O(i.to==null||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",i.to),O(i.data==null||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",i.data),i.from&&(i.from=i.from),i}async function eN(r,t,e){const i=qi(r,"resolveName"),o=tc(i)?i:null;return await Promise.all(t.map((u,c)=>u.walkAsync(e[c],(h,p)=>(p=Wt.dereference(p,h),h==="address"?Me(p,o):p))))}function nN(r){const t=async function(c){const h=await Xv(c,["data"]);h.to=await r.getAddress(),h.from&&(h.from=await Me(h.from,Yv(r.runner)));const p=r.interface,g=tt(h.value||Cb,"overrides.value")===Cb,y=(h.data||"0x")==="0x";p.fallback&&!p.fallback.payable&&p.receive&&!y&&!g&&O(!1,"cannot send data to receive or send value to non-payable fallback","overrides",c),O(p.fallback||y,"cannot send data to receive-only contract","overrides.data",h.data);const m=p.receive||p.fallback&&p.fallback.payable;return O(m||g,"cannot send value to non-payable fallback","overrides.value",h.value),O(p.fallback||y,"cannot send data to receive-only contract","overrides.data",h.data),h},e=async function(c){const h=qi(r.runner,"call");q(Vv(h),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const p=await t(c);try{return await h.call(p)}catch(g){throw Pd(g)&&g.data?r.interface.makeError(g.data,p):g}},i=async function(c){const h=r.runner;q(Jv(h),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const p=await h.sendTransaction(await t(c)),g=ji(r.runner);return new tp(r.interface,g,p)},o=async function(c){const h=qi(r.runner,"estimateGas");return q(Kv(h),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await h.estimateGas(await t(c))},u=async c=>await i(c);return ot(u,{_contract:r,estimateGas:o,populateTransaction:t,send:i,staticCall:e}),u}function sN(r,t){const e=function(...g){const y=r.interface.getFunction(t,g);return q(y,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:g}}),y},i=async function(...g){const y=e(...g);let m={};if(y.inputs.length+1===g.length&&(m=await Xv(g.pop()),m.from&&(m.from=await Me(m.from,Yv(r.runner)))),y.inputs.length!==g.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const v=await eN(r.runner,y.inputs,g);return Object.assign({},m,await Be({to:r.getAddress(),data:r.interface.encodeFunctionData(y,v)}))},o=async function(...g){const y=await h(...g);return y.length===1?y[0]:y},u=async function(...g){const y=r.runner;q(Jv(y),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const m=await y.sendTransaction(await i(...g)),v=ji(r.runner);return new tp(r.interface,v,m)},c=async function(...g){const y=qi(r.runner,"estimateGas");return q(Kv(y),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await y.estimateGas(await i(...g))},h=async function(...g){const y=qi(r.runner,"call");q(Vv(y),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const m=await i(...g);let v="0x";try{v=await y.call(m)}catch(T){throw Pd(T)&&T.data?r.interface.makeError(T.data,m):T}const E=e(...g);return r.interface.decodeFunctionResult(E,v)},p=async(...g)=>e(...g).constant?await o(...g):await u(...g);return ot(p,{name:r.interface.getFunctionName(t),_contract:r,_key:t,getFragment:e,estimateGas:c,populateTransaction:i,send:u,staticCall:o,staticCallResult:h}),Object.defineProperty(p,"fragment",{configurable:!1,enumerable:!0,get:()=>{const g=r.interface.getFunction(t);return q(g,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),g}}),p}function iN(r,t){const e=function(...o){const u=r.interface.getEvent(t,o);return q(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:o}}),u},i=function(...o){return new tN(r,e(...o),o)};return ot(i,{name:r.interface.getEventName(t),_contract:r,_key:t,getFragment:e}),Object.defineProperty(i,"fragment",{configurable:!1,enumerable:!0,get:()=>{const o=r.interface.getEvent(t);return q(o,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),o}}),i}const zu=Symbol.for("_ethersInternal_contract"),Zv=new WeakMap;function rN(r,t){Zv.set(r[zu],t)}function an(r){return Zv.get(r[zu])}function aN(r){return r&&typeof r=="object"&&"getTopicFilter"in r&&typeof r.getTopicFilter=="function"&&r.fragment}async function ep(r,t){let e,i=null;if(Array.isArray(t)){const u=function(c){if(Ft(c,32))return c;const h=r.interface.getEvent(c);return O(h,"unknown fragment","name",c),h.topicHash};e=t.map(c=>c==null?null:Array.isArray(c)?c.map(u):u(c))}else t==="*"?e=[null]:typeof t=="string"?Ft(t,32)?e=[t]:(i=r.interface.getEvent(t),O(i,"unknown fragment","event",t),e=[i.topicHash]):aN(t)?e=await t.getTopicFilter():"fragment"in t?(i=t.fragment,e=[i.topicHash]):O(!1,"unknown event name","event",t);e=e.map(u=>{if(u==null)return null;if(Array.isArray(u)){const c=Array.from(new Set(u.map(h=>h.toLowerCase())).values());return c.length===1?c[0]:(c.sort(),c)}return u.toLowerCase()});const o=e.map(u=>u==null?"null":Array.isArray(u)?u.join("|"):u).join("&");return{fragment:i,tag:o,topics:e}}async function wo(r,t){const{subs:e}=an(r);return e.get((await ep(r,t)).tag)||null}async function kb(r,t,e){const i=ji(r.runner);q(i,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:o,tag:u,topics:c}=await ep(r,e),{addr:h,subs:p}=an(r);let g=p.get(u);if(!g){const m={address:h||r,topics:c},v=x=>{let D=o;if(D==null)try{D=r.interface.getEvent(x.topics[0])}catch{}if(D){const G=D,L=o?r.interface.decodeEventLog(o,x.data,x.topics):[];vd(r,e,L,F=>new WO(r,F,e,G,x))}else vd(r,e,[],G=>new qv(r,G,e,x))};let E=[];g={tag:u,listeners:[],start:()=>{E.length||E.push(i.on(m,v))},stop:async()=>{if(E.length==0)return;let x=E;E=[],await Promise.all(x),i.off(m,v)}},p.set(u,g)}return g}let wd=Promise.resolve();async function oN(r,t,e,i){await wd;const o=await wo(r,t);if(!o)return!1;const u=o.listeners.length;return o.listeners=o.listeners.filter(({listener:c,once:h})=>{const p=Array.from(e);i&&p.push(i(h?null:c));try{c.call(r,...p)}catch{}return!h}),o.listeners.length===0&&(o.stop(),an(r).subs.delete(o.tag)),u>0}async function vd(r,t,e,i){try{await wd}catch{}const o=oN(r,t,e,i);return wd=o,await o}const wu=["then"];class _o{target;interface;runner;filters;[zu];fallback;constructor(t,e,i,o){O(typeof t=="string"||sv(t),"invalid value for Contract target","target",t),i==null&&(i=null);const u=Li.from(e);ot(this,{target:t,runner:i,interface:u}),Object.defineProperty(this,zu,{value:{}});let c,h=null,p=null;if(o){const m=ji(i);p=new tp(this.interface,m,o)}let g=new Map;if(typeof t=="string")if(Ft(t))h=t,c=Promise.resolve(t);else{const m=qi(i,"resolveName");if(!tc(m))throw Vt("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});c=m.resolveName(t).then(v=>{if(v==null)throw Vt("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:t});return an(this).addr=v,v})}else c=t.getAddress().then(m=>{if(m==null)throw new Error("TODO");return an(this).addr=m,m});rN(this,{addrPromise:c,addr:h,deployTx:p,subs:g});const y=new Proxy({},{get:(m,v,E)=>{if(typeof v=="symbol"||wu.indexOf(v)>=0)return Reflect.get(m,v,E);try{return this.getEvent(v)}catch(T){if(!Oe(T,"INVALID_ARGUMENT")||T.argument!=="key")throw T}},has:(m,v)=>wu.indexOf(v)>=0?Reflect.has(m,v):Reflect.has(m,v)||this.interface.hasEvent(String(v))});return ot(this,{filters:y}),ot(this,{fallback:u.receive||u.fallback?nN(this):null}),new Proxy(this,{get:(m,v,E)=>{if(typeof v=="symbol"||v in m||wu.indexOf(v)>=0)return Reflect.get(m,v,E);try{return m.getFunction(v)}catch(T){if(!Oe(T,"INVALID_ARGUMENT")||T.argument!=="key")throw T}},has:(m,v)=>typeof v=="symbol"||v in m||wu.indexOf(v)>=0?Reflect.has(m,v):m.interface.hasFunction(v)})}connect(t){return new _o(this.target,this.interface,t)}attach(t){return new _o(t,this.interface,this.runner)}async getAddress(){return await an(this).addrPromise}async getDeployedCode(){const t=ji(this.runner);q(t,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const e=await t.getCode(await this.getAddress());return e==="0x"?null:e}async waitForDeployment(){const t=this.deploymentTransaction();if(t)return await t.wait(),this;if(await this.getDeployedCode()!=null)return this;const i=ji(this.runner);return q(i!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((o,u)=>{const c=async()=>{try{if(await this.getDeployedCode()!=null)return o(this);i.once("block",c)}catch(h){u(h)}};c()})}deploymentTransaction(){return an(this).deployTx}getFunction(t){return typeof t!="string"&&(t=t.format()),sN(this,t)}getEvent(t){return typeof t!="string"&&(t=t.format()),iN(this,t)}async queryTransaction(t){throw new Error("@TODO")}async queryFilter(t,e,i){e==null&&(e=0),i==null&&(i="latest");const{addr:o,addrPromise:u}=an(this),c=o||await u,{fragment:h,topics:p}=await ep(this,t),g={address:c,topics:p,fromBlock:e,toBlock:i},y=ji(this.runner);return q(y,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await y.getLogs(g)).map(m=>{let v=h;if(v==null)try{v=this.interface.getEvent(m.topics[0])}catch{}if(v)try{return new Wd(m,this.interface,v)}catch(E){return new Qv(m,E)}return new zo(m,y)})}async on(t,e){const i=await kb(this,"on",t);return i.listeners.push({listener:e,once:!1}),i.start(),this}async once(t,e){const i=await kb(this,"once",t);return i.listeners.push({listener:e,once:!0}),i.start(),this}async emit(t,...e){return await vd(this,t,e,null)}async listenerCount(t){if(t){const o=await wo(this,t);return o?o.listeners.length:0}const{subs:e}=an(this);let i=0;for(const{listeners:o}of e.values())i+=o.length;return i}async listeners(t){if(t){const o=await wo(this,t);return o?o.listeners.map(({listener:u})=>u):[]}const{subs:e}=an(this);let i=[];for(const{listeners:o}of e.values())i=i.concat(o.map(({listener:u})=>u));return i}async off(t,e){const i=await wo(this,t);if(!i)return this;if(e){const o=i.listeners.map(({listener:u})=>u).indexOf(e);o>=0&&i.listeners.splice(o,1)}return(e==null||i.listeners.length===0)&&(i.stop(),an(this).subs.delete(i.tag)),this}async removeAllListeners(t){if(t){const e=await wo(this,t);if(!e)return this;e.stop(),an(this).subs.delete(e.tag)}else{const{subs:e}=an(this);for(const{tag:i,stop:o}of e.values())o(),e.delete(i)}return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return await this.off(t,e)}static buildClass(t){class e extends _o{constructor(o,u=null){super(o,t,u)}}return e}static from(t,e,i){return i==null&&(i=null),new this(t,e,i)}}function lN(){return _o}class si extends lN(){}function zh(r){return r.match(/^ipfs:\/\/ipfs\//i)?r=r.substring(12):r.match(/^ipfs:\/\//i)?r=r.substring(7):O(!1,"unsupported IPFS format","link",r),`https://gateway.ipfs.io/ipfs/${r}`}class uN{name;constructor(t){ot(this,{name:t})}connect(t){return this}supportsCoinType(t){return!1}async encodeAddress(t,e){throw new Error("unsupported coin")}async decodeAddress(t,e){throw new Error("unsupported coin")}}const $v=new RegExp("^(ipfs)://(.*)$","i"),Bb=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),$v,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class ta{provider;address;name;#t;#e;constructor(t,e,i){ot(this,{provider:t,address:e,name:i}),this.#t=null,this.#e=new si(e,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],t)}async supportsWildcard(){return this.#t==null&&(this.#t=(async()=>{try{return await this.#e.supportsInterface("0x9061b923")}catch(t){if(Oe(t,"CALL_EXCEPTION"))return!1;throw this.#t=null,t}})()),await this.#t}async#n(t,e){e=(e||[]).slice();const i=this.#e.interface;e.unshift(bd(this.name));let o=null;await this.supportsWildcard()&&(o=i.getFunction(t),q(o,"missing fragment","UNKNOWN_ERROR",{info:{funcName:t}}),e=[TO(this.name,255),i.encodeFunctionData(o,e)],t="resolve(bytes,bytes)"),e.push({enableCcipRead:!0});try{const u=await this.#e[t](...e);return o?i.decodeFunctionResult(o,u)[0]:u}catch(u){if(!Oe(u,"CALL_EXCEPTION"))throw u}return null}async getAddress(t){if(t==null&&(t=60),t===60)try{const u=await this.#n("addr(bytes32)");return u==null||u===No?null:u}catch(u){if(Oe(u,"CALL_EXCEPTION"))return null;throw u}if(t>=0&&t<2147483648){let u=t+2147483648;const c=await this.#n("addr(bytes32,uint)",[u]);if(Ft(c,20))return Bt(c)}let e=null;for(const u of this.provider.plugins)if(u instanceof uN&&u.supportsCoinType(t)){e=u;break}if(e==null)return null;const i=await this.#n("addr(bytes32,uint)",[t]);if(i==null||i==="0x")return null;const o=await e.decodeAddress(t,i);if(o!=null)return o;q(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${t})`,info:{coinType:t,data:i}})}async getText(t){const e=await this.#n("text(bytes32,string)",[t]);return e==null||e==="0x"?null:e}async getContentHash(){const t=await this.#n("contenthash(bytes32)");if(t==null||t==="0x")return null;const e=t.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){const o=e[1]==="e3010170"?"ipfs":"ipns",u=parseInt(e[4],16);if(e[5].length===u*2)return`${o}://${m_("0x"+e[2])}`}const i=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===64)return`bzz://${i[1]}`;q(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:t}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const t=[{type:"name",value:this.name}];try{const e=await this.getText("avatar");if(e==null)return t.push({type:"!avatar",value:""}),{url:null,linkage:t};t.push({type:"avatar",value:e});for(let i=0;i<Bb.length;i++){const o=e.match(Bb[i]);if(o==null)continue;const u=o[1].toLowerCase();switch(u){case"https":case"data":return t.push({type:"url",value:e}),{linkage:t,url:e};case"ipfs":{const c=zh(e);return t.push({type:"ipfs",value:e}),t.push({type:"url",value:c}),{linkage:t,url:c}}case"erc721":case"erc1155":{const c=u==="erc721"?"tokenURI(uint256)":"uri(uint256)";t.push({type:u,value:e});const h=await this.getAddress();if(h==null)return t.push({type:"!owner",value:""}),{url:null,linkage:t};const p=(o[2]||"").split("/");if(p.length!==2)return t.push({type:`!${u}caip`,value:o[2]||""}),{url:null,linkage:t};const g=p[1],y=new si(p[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(u==="erc721"){const S=await y.ownerOf(g);if(h!==S)return t.push({type:"!owner",value:S}),{url:null,linkage:t};t.push({type:"owner",value:S})}else if(u==="erc1155"){const S=await y.balanceOf(h,g);if(!S)return t.push({type:"!balance",value:"0"}),{url:null,linkage:t};t.push({type:"balance",value:S.toString()})}let m=await y[c](g);if(m==null||m==="0x")return t.push({type:"!metadata-url",value:""}),{url:null,linkage:t};t.push({type:"metadata-url-base",value:m}),u==="erc1155"&&(m=m.replace("{id}",ri(g,32).substring(2)),t.push({type:"metadata-url-expanded",value:m})),m.match(/^ipfs:/i)&&(m=zh(m)),t.push({type:"metadata-url",value:m});let v={};const E=await new bs(m).send();E.assertOk();try{v=E.bodyJson}catch{try{t.push({type:"!metadata",value:E.bodyText})}catch{const D=E.body;return D&&t.push({type:"!metadata",value:$(D)}),{url:null,linkage:t}}return{url:null,linkage:t}}if(!v)return t.push({type:"!metadata",value:""}),{url:null,linkage:t};t.push({type:"metadata",value:JSON.stringify(v)});let T=v.image;if(typeof T!="string")return t.push({type:"!imageUrl",value:""}),{url:null,linkage:t};if(!T.match(/^(https:\/\/|data:)/i)){if(T.match($v)==null)return t.push({type:"!imageUrl-ipfs",value:T}),{url:null,linkage:t};t.push({type:"imageUrl-ipfs",value:T}),T=zh(T)}return t.push({type:"url",value:T}),{linkage:t,url:T}}}}}catch{}return{linkage:t,url:null}}static async getEnsAddress(t){const e=await t.getNetwork(),i=e.getPlugin("org.ethers.plugins.network.Ens");return q(i,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:e}}),i.address}static async#s(t,e){const i=await ta.getEnsAddress(t);try{const u=await new si(i,["function resolver(bytes32) view returns (address)"],t).resolver(bd(e),{enableCcipRead:!0});return u===No?null:u}catch(o){throw o}return null}static async fromName(t,e){let i=e;for(;;){if(i===""||i==="."||e!=="eth"&&i==="eth")return null;const o=await ta.#s(t,i);if(o!=null){const u=new ta(t,o,e);return i!==e&&!await u.supportsWildcard()?null:u}i=i.split(".").slice(1).join(".")}}}const Ub=BigInt(0);function Et(r,t){return function(e){return e==null?t:r(e)}}function Do(r,t){return e=>{if(t&&e==null)return null;if(!Array.isArray(e))throw new Error("not an array");return e.map(i=>r(i))}}function Go(r,t){return e=>{const i={};for(const o in r){let u=o;if(t&&o in t&&!(u in e)){for(const c of t[o])if(c in e){u=c;break}}try{const c=r[o](e[u]);c!==void 0&&(i[o]=c)}catch(c){const h=c instanceof Error?c.message:"not-an-error";q(!1,`invalid value for value.${o} (${h})`,"BAD_DATA",{value:e})}}return i}}function cN(r){switch(r){case!0:case"true":return!0;case!1:case"false":return!1}O(!1,`invalid boolean; ${JSON.stringify(r)}`,"value",r)}function ua(r){return O(Ft(r,!0),"invalid data","value",r),r}function xe(r){return O(Ft(r,32),"invalid hash","value",r),r}const fN=Go({address:Bt,blockHash:xe,blockNumber:mt,data:ua,index:mt,removed:Et(cN,!1),topics:Do(xe),transactionHash:xe,transactionIndex:mt},{index:["logIndex"]});function hN(r){return fN(r)}const dN=Go({hash:Et(xe),parentHash:xe,parentBeaconBlockRoot:Et(xe,null),number:mt,timestamp:mt,nonce:Et(ua),difficulty:tt,gasLimit:tt,gasUsed:tt,stateRoot:Et(xe,null),receiptsRoot:Et(xe,null),blobGasUsed:Et(tt,null),excessBlobGas:Et(tt,null),miner:Et(Bt),prevRandao:Et(xe,null),extraData:ua,baseFeePerGas:Et(tt)},{prevRandao:["mixHash"]});function pN(r){const t=dN(r);return t.transactions=r.transactions.map(e=>typeof e=="string"?e:Wv(e)),t}const gN=Go({transactionIndex:mt,blockNumber:mt,transactionHash:xe,address:Bt,topics:Do(xe),data:ua,index:mt,blockHash:xe},{index:["logIndex"]});function yN(r){return gN(r)}const mN=Go({to:Et(Bt,null),from:Et(Bt,null),contractAddress:Et(Bt,null),index:mt,root:Et($),gasUsed:tt,blobGasUsed:Et(tt,null),logsBloom:Et(ua),blockHash:xe,hash:xe,logs:Do(yN),blockNumber:mt,cumulativeGasUsed:tt,effectiveGasPrice:Et(tt),blobGasPrice:Et(tt,null),status:Et(mt),type:Et(mt,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function bN(r){return mN(r)}function Wv(r){r.to&&tt(r.to)===Ub&&(r.to="0x0000000000000000000000000000000000000000");const t=Go({hash:xe,index:Et(mt,void 0),type:e=>e==="0x"||e==null?0:mt(e),accessList:Et(Ki,null),blobVersionedHashes:Et(Do(xe,!0),null),authorizationList:Et(Do(e=>{let i;if(e.signature)i=e.signature;else{let o=e.yParity;o==="0x1b"?o=0:o==="0x1c"&&(o=1),i=Object.assign({},e,{yParity:o})}return{address:Bt(e.address),chainId:tt(e.chainId),nonce:tt(e.nonce),signature:$t.from(i)}},!1),null),blockHash:Et(xe,null),blockNumber:Et(mt,null),transactionIndex:Et(mt,null),from:Bt,gasPrice:Et(tt),maxPriorityFeePerGas:Et(tt),maxFeePerGas:Et(tt),maxFeePerBlobGas:Et(tt,null),gasLimit:tt,to:Et(Bt,null),value:tt,nonce:mt,data:ua,creates:Et(Bt,null),chainId:Et(tt,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(r);if(t.to==null&&t.creates==null&&(t.creates=ax(t)),(r.type===1||r.type===2)&&r.accessList==null&&(t.accessList=[]),r.signature?t.signature=$t.from(r.signature):t.signature=$t.from(r),t.chainId==null){const e=t.signature.legacyChainId;e!=null&&(t.chainId=e)}return t.blockHash&&tt(t.blockHash)===Ub&&(t.blockHash=null),t}const wN="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class Fo{name;constructor(t){ot(this,{name:t})}clone(){return new Fo(this.name)}}class ec extends Fo{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(t,e){t==null&&(t=0),super(`org.ethers.network.plugins.GasCost#${t||0}`);const i={effectiveBlock:t};function o(u,c){let h=(e||{})[u];h==null&&(h=c),O(typeof h=="number",`invalud value for ${u}`,"costs",e),i[u]=h}o("txBase",21e3),o("txCreate",32e3),o("txDataZero",4),o("txDataNonzero",16),o("txAccessListStorageKey",1900),o("txAccessListAddress",2400),ot(this,i)}clone(){return new ec(this.effectiveBlock,this)}}class nc extends Fo{address;targetNetwork;constructor(t,e){super("org.ethers.plugins.network.Ens"),ot(this,{address:t||wN,targetNetwork:e??1})}clone(){return new nc(this.address,this.targetNetwork)}}class vN extends Fo{#t;#e;get url(){return this.#t}get processFunc(){return this.#e}constructor(t,e){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#t=t,this.#e=e}clone(){return this}}const Hh=new Map;class on{#t;#e;#n;constructor(t,e){this.#t=t,this.#e=tt(e),this.#n=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#t}set name(t){this.#t=t}get chainId(){return this.#e}set chainId(t){this.#e=tt(t,"chainId")}matches(t){if(t==null)return!1;if(typeof t=="string"){try{return this.chainId===tt(t)}catch{}return this.name===t}if(typeof t=="number"||typeof t=="bigint"){try{return this.chainId===tt(t)}catch{}return!1}if(typeof t=="object"){if(t.chainId!=null){try{return this.chainId===tt(t.chainId)}catch{}return!1}return t.name!=null?this.name===t.name:!1}return!1}get plugins(){return Array.from(this.#n.values())}attachPlugin(t){if(this.#n.get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return this.#n.set(t.name,t.clone()),this}getPlugin(t){return this.#n.get(t)||null}getPlugins(t){return this.plugins.filter(e=>e.name.split("#")[0]===t)}clone(){const t=new on(this.name,this.chainId);return this.plugins.forEach(e=>{t.attachPlugin(e.clone())}),t}computeIntrinsicGas(t){const e=this.getPlugin("org.ethers.plugins.network.GasCost")||new ec;let i=e.txBase;if(t.to==null&&(i+=e.txCreate),t.data)for(let o=2;o<t.data.length;o+=2)t.data.substring(o,o+2)==="00"?i+=e.txDataZero:i+=e.txDataNonzero;if(t.accessList){const o=Ki(t.accessList);for(const u in o)i+=e.txAccessListAddress+e.txAccessListStorageKey*o[u].storageKeys.length}return i}static from(t){if(AN(),t==null)return on.from("mainnet");if(typeof t=="number"&&(t=BigInt(t)),typeof t=="string"||typeof t=="bigint"){const e=Hh.get(t);if(e)return e();if(typeof t=="bigint")return new on("unknown",t);O(!1,"unknown network","network",t)}if(typeof t.clone=="function")return t.clone();if(typeof t=="object"){O(typeof t.name=="string"&&typeof t.chainId=="number","invalid network object name or chainId","network",t);const e=new on(t.name,t.chainId);return(t.ensAddress||t.ensNetwork!=null)&&e.attachPlugin(new nc(t.ensAddress,t.ensNetwork)),e}O(!1,"invalid network","network",t)}static register(t,e){typeof t=="number"&&(t=BigInt(t));const i=Hh.get(t);i&&O(!1,`conflicting network for ${JSON.stringify(i.name)}`,"nameOrChainId",t),Hh.set(t,e)}}function Db(r,t){const e=String(r);if(!e.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${r}`);const i=e.split(".");if(i.length===1&&i.push(""),i.length!==2)throw new Error(`invalid gwei value: ${r}`);for(;i[1].length<t;)i[1]+="0";if(i[1].length>9){let o=BigInt(i[1].substring(0,9));i[1].substring(9).match(/^0+$/)||o++,i[1]=o.toString()}return BigInt(i[0]+i[1])}function Mb(r){return new vN(r,async(t,e,i)=>{i.setHeader("User-Agent","ethers");let o;try{const[u,c]=await Promise.all([i.send(),t()]);o=u;const h=o.bodyJson.standard;return{gasPrice:c.gasPrice,maxFeePerGas:Db(h.maxFee,9),maxPriorityFeePerGas:Db(h.maxPriorityFee,9)}}catch(u){q(!1,`error encountered with polygon gas station (${JSON.stringify(i.url)})`,"SERVER_ERROR",{request:i,response:o,error:u})}})}let Lb=!1;function AN(){if(Lb)return;Lb=!0;function r(t,e,i){const o=function(){const u=new on(t,e);return i.ensNetwork!=null&&u.attachPlugin(new nc(null,i.ensNetwork)),u.attachPlugin(new ec),(i.plugins||[]).forEach(c=>{u.attachPlugin(c)}),u};on.register(t,o),on.register(e,o),i.altNames&&i.altNames.forEach(u=>{on.register(u,o)})}r("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),r("ropsten",3,{ensNetwork:3}),r("rinkeby",4,{ensNetwork:4}),r("goerli",5,{ensNetwork:5}),r("kovan",42,{ensNetwork:42}),r("sepolia",11155111,{ensNetwork:11155111}),r("holesky",17e3,{ensNetwork:17e3}),r("classic",61,{}),r("classicKotti",6,{}),r("arbitrum",42161,{ensNetwork:1}),r("arbitrum-goerli",421613,{}),r("arbitrum-sepolia",421614,{}),r("base",8453,{ensNetwork:1}),r("base-goerli",84531,{}),r("base-sepolia",84532,{}),r("bnb",56,{ensNetwork:1}),r("bnbt",97,{}),r("linea",59144,{ensNetwork:1}),r("linea-goerli",59140,{}),r("linea-sepolia",59141,{}),r("matic",137,{ensNetwork:1,plugins:[Mb("https://gasstation.polygon.technology/v2")]}),r("matic-amoy",80002,{}),r("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Mb("https://gasstation-testnet.polygon.technology/v2")]}),r("optimism",10,{ensNetwork:1,plugins:[]}),r("optimism-goerli",420,{}),r("optimism-sepolia",11155420,{}),r("xdai",100,{ensNetwork:1})}function Ad(r){return JSON.parse(JSON.stringify(r))}class EN{#t;#e;#n;#s;constructor(t){this.#t=t,this.#e=null,this.#n=4e3,this.#s=-2}get pollingInterval(){return this.#n}set pollingInterval(t){this.#n=t}async#i(){try{const t=await this.#t.getBlockNumber();if(this.#s===-2){this.#s=t;return}if(t!==this.#s){for(let e=this.#s+1;e<=t;e++){if(this.#e==null)return;await this.#t.emit("block",e)}this.#s=t}}catch{}this.#e!=null&&(this.#e=this.#t._setTimeout(this.#i.bind(this),this.#n))}start(){this.#e||(this.#e=this.#t._setTimeout(this.#i.bind(this),this.#n),this.#i())}stop(){this.#e&&(this.#t._clearTimeout(this.#e),this.#e=null)}pause(t){this.stop(),t&&(this.#s=-2)}resume(){this.start()}}class np{#t;#e;#n;constructor(t){this.#t=t,this.#n=!1,this.#e=e=>{this._poll(e,this.#t)}}async _poll(t,e){throw new Error("sub-classes must override this")}start(){this.#n||(this.#n=!0,this.#e(-2),this.#t.on("block",this.#e))}stop(){this.#n&&(this.#n=!1,this.#t.off("block",this.#e))}pause(t){this.stop()}resume(){this.start()}}class SN extends np{#t;#e;constructor(t,e){super(t),this.#t=e,this.#e=-2}pause(t){t&&(this.#e=-2),super.pause(t)}async _poll(t,e){const i=await e.getBlock(this.#t);i!=null&&(this.#e===-2?this.#e=i.number:i.number>this.#e&&(e.emit(this.#t,i.number),this.#e=i.number))}}class TN extends np{#t;constructor(t,e){super(t),this.#t=Ad(e)}async _poll(t,e){throw new Error("@TODO")}}class _N extends np{#t;constructor(t,e){super(t),this.#t=e}async _poll(t,e){const i=await e.getTransactionReceipt(this.#t);i&&e.emit(this.#t,i)}}class sp{#t;#e;#n;#s;#i;constructor(t,e){this.#t=t,this.#e=Ad(e),this.#n=this.#a.bind(this),this.#s=!1,this.#i=-2}async#a(t){if(this.#i===-2)return;const e=Ad(this.#e);e.fromBlock=this.#i+1,e.toBlock=t;const i=await this.#t.getLogs(e);if(i.length===0){this.#i<t-60&&(this.#i=t-60);return}for(const o of i)this.#t.emit(this.#e,o),this.#i=o.blockNumber}start(){this.#s||(this.#s=!0,this.#i===-2&&this.#t.getBlockNumber().then(t=>{this.#i=t}),this.#t.on("block",this.#n))}stop(){this.#s&&(this.#s=!1,this.#t.off("block",this.#n))}pause(t){this.stop(),t&&(this.#i=-2)}resume(){this.start()}}const xN=BigInt(2),ON=10;function vu(r){return r&&typeof r.then=="function"}function Tu(r,t){return r+":"+JSON.stringify(t,(e,i)=>{if(i==null)return"null";if(typeof i=="bigint")return`bigint:${i.toString()}`;if(typeof i=="string")return i.toLowerCase();if(typeof i=="object"&&!Array.isArray(i)){const o=Object.keys(i);return o.sort(),o.reduce((u,c)=>(u[c]=i[c],u),{})}return i})}class tA{name;constructor(t){ot(this,{name:t})}start(){}stop(){}pause(t){}resume(){}}function NN(r){return JSON.parse(JSON.stringify(r))}function Ed(r){return r=Array.from(new Set(r).values()),r.sort(),r}async function Gh(r,t){if(r==null)throw new Error("invalid event");if(Array.isArray(r)&&(r={topics:r}),typeof r=="string")switch(r){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:r,tag:r}}if(Ft(r,32)){const e=r.toLowerCase();return{type:"transaction",tag:Tu("tx",{hash:e}),hash:e}}if(r.orphan){const e=r;return{type:"orphan",tag:Tu("orphan",e),filter:NN(e)}}if(r.address||r.topics){const e=r,i={topics:(e.topics||[]).map(o=>o==null?null:Array.isArray(o)?Ed(o.map(u=>u.toLowerCase())):o.toLowerCase())};if(e.address){const o=[],u=[],c=h=>{Ft(h)?o.push(h):u.push((async()=>{o.push(await Me(h,t))})())};Array.isArray(e.address)?e.address.forEach(c):c(e.address),u.length&&await Promise.all(u),i.address=Ed(o.map(h=>h.toLowerCase()))}return{filter:i,tag:Tu("event",i),type:"event"}}O(!1,"unknown ProviderEvent","event",r)}function Fh(){return new Date().getTime()}const RN={cacheTimeout:250,pollingInterval:4e3};class CN{#t;#e;#n;#s;#i;#a;#r;#o;#d;#u;#p;#g;constructor(t,e){if(this.#g=Object.assign({},RN,e||{}),t==="any")this.#a=!0,this.#i=null;else if(t){const i=on.from(t);this.#a=!1,this.#i=Promise.resolve(i),setTimeout(()=>{this.emit("network",i,null)},0)}else this.#a=!1,this.#i=null;this.#o=-1,this.#r=new Map,this.#t=new Map,this.#e=new Map,this.#n=null,this.#s=!1,this.#d=1,this.#u=new Map,this.#p=!1}get pollingInterval(){return this.#g.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#e.values())}attachPlugin(t){if(this.#e.get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return this.#e.set(t.name,t.connect(this)),this}getPlugin(t){return this.#e.get(t)||null}get disableCcipRead(){return this.#p}set disableCcipRead(t){this.#p=!!t}async#l(t){const e=this.#g.cacheTimeout;if(e<0)return await this._perform(t);const i=Tu(t.method,t);let o=this.#r.get(i);return o||(o=this._perform(t),this.#r.set(i,o),setTimeout(()=>{this.#r.get(i)===o&&this.#r.delete(i)},e)),await o}async ccipReadFetch(t,e,i){if(this.disableCcipRead||i.length===0||t.to==null)return null;const o=t.to.toLowerCase(),u=e.toLowerCase(),c=[];for(let h=0;h<i.length;h++){const p=i[h],g=p.replace("{sender}",o).replace("{data}",u),y=new bs(g);p.indexOf("{data}")===-1&&(y.body={data:u,sender:o}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:y,index:h,urls:i});let m="unknown error",v;try{v=await y.send()}catch(E){c.push(E.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:y,result:{error:E}});continue}try{const E=v.bodyJson;if(E.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:y,result:E}),E.data;E.message&&(m=E.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:y,result:E})}catch{}q(v.statusCode<400||v.statusCode>=500,`response not found during CCIP fetch: ${m}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:t,info:{url:p,errorMessage:m}}),c.push(m)}q(!1,`error encountered during CCIP fetch: ${c.map(h=>JSON.stringify(h)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:t,info:{urls:i,errorMessages:c}})}_wrapBlock(t,e){return new YO(pN(t),this)}_wrapLog(t,e){return new zo(hN(t),this)}_wrapTransactionReceipt(t,e){return new Hv(bN(t),this)}_wrapTransactionResponse(t,e){return new Ho(Wv(t),this)}_detectNetwork(){q(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(t){q(!1,`unsupported method: ${t.method}`,"UNSUPPORTED_OPERATION",{operation:t.method,info:t})}async getBlockNumber(){const t=mt(await this.#l({method:"getBlockNumber"}),"%response");return this.#o>=0&&(this.#o=t),t}_getAddress(t){return Me(t,this)}_getBlockTag(t){if(t==null)return"latest";switch(t){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return t}if(Ft(t))return Ft(t,32)?t:Rn(t);if(typeof t=="bigint"&&(t=mt(t,"blockTag")),typeof t=="number")return t>=0?Rn(t):this.#o>=0?Rn(this.#o+t):this.getBlockNumber().then(e=>Rn(e+t));O(!1,"invalid blockTag","blockTag",t)}_getFilter(t){const e=(t.topics||[]).map(p=>p==null?null:Array.isArray(p)?Ed(p.map(g=>g.toLowerCase())):p.toLowerCase()),i="blockHash"in t?t.blockHash:void 0,o=(p,g,y)=>{let m;switch(p.length){case 0:break;case 1:m=p[0];break;default:p.sort(),m=p}if(i&&(g!=null||y!=null))throw new Error("invalid filter");const v={};return m&&(v.address=m),e.length&&(v.topics=e),g&&(v.fromBlock=g),y&&(v.toBlock=y),i&&(v.blockHash=i),v};let u=[];if(t.address)if(Array.isArray(t.address))for(const p of t.address)u.push(this._getAddress(p));else u.push(this._getAddress(t.address));let c;"fromBlock"in t&&(c=this._getBlockTag(t.fromBlock));let h;return"toBlock"in t&&(h=this._getBlockTag(t.toBlock)),u.filter(p=>typeof p!="string").length||c!=null&&typeof c!="string"||h!=null&&typeof h!="string"?Promise.all([Promise.all(u),c,h]).then(p=>o(p[0],p[1],p[2])):o(u,c,h)}_getTransactionRequest(t){const e=ju(t),i=[];if(["to","from"].forEach(o=>{if(e[o]==null)return;const u=Me(e[o],this);vu(u)?i.push(async function(){e[o]=await u}()):e[o]=u}),e.blockTag!=null){const o=this._getBlockTag(e.blockTag);vu(o)?i.push(async function(){e.blockTag=await o}()):e.blockTag=o}return i.length?async function(){return await Promise.all(i),e}():e}async getNetwork(){if(this.#i==null){const o=(async()=>{try{const u=await this._detectNetwork();return this.emit("network",u,null),u}catch(u){throw this.#i===o&&(this.#i=null),u}})();return this.#i=o,(await o).clone()}const t=this.#i,[e,i]=await Promise.all([t,this._detectNetwork()]);return e.chainId!==i.chainId&&(this.#a?(this.emit("network",i,e),this.#i===t&&(this.#i=Promise.resolve(i))):q(!1,`network changed: ${e.chainId} => ${i.chainId} `,"NETWORK_ERROR",{event:"changed"})),e.clone()}async getFeeData(){const t=await this.getNetwork(),e=async()=>{const{_block:o,gasPrice:u,priorityFee:c}=await Be({_block:this.#m("latest",!1),gasPrice:(async()=>{try{const y=await this.#l({method:"getGasPrice"});return tt(y,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const y=await this.#l({method:"getPriorityFee"});return tt(y,"%response")}catch{}return null})()});let h=null,p=null;const g=this._wrapBlock(o,t);return g&&g.baseFeePerGas&&(p=c??BigInt("1000000000"),h=g.baseFeePerGas*xN+p),new Rb(u,h,p)},i=t.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(i){const o=new bs(i.url),u=await i.processFunc(e,this,o);return new Rb(u.gasPrice,u.maxFeePerGas,u.maxPriorityFeePerGas)}return await e()}async estimateGas(t){let e=this._getTransactionRequest(t);return vu(e)&&(e=await e),tt(await this.#l({method:"estimateGas",transaction:e}),"%response")}async#c(t,e,i){q(i<ON,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},t,{blockTag:e,enableCcipRead:!0})});const o=ju(t);try{return $(await this._perform({method:"call",transaction:o,blockTag:e}))}catch(u){if(!this.disableCcipRead&&Pd(u)&&u.data&&i>=0&&e==="latest"&&o.to!=null&&Zt(u.data,0,4)==="0x556f1830"){const c=u.data,h=await Me(o.to,this);let p;try{p=MN(Zt(u.data,4))}catch(m){q(!1,m.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:o,info:{data:c}})}q(p.sender.toLowerCase()===h.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:c,reason:"OffchainLookup",transaction:o,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:p.errorArgs}});const g=await this.ccipReadFetch(o,p.calldata,p.urls);q(g!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:o,info:{data:u.data,errorArgs:p.errorArgs}});const y={to:h,data:te([p.selector,DN([g,p.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:y});try{const m=await this.#c(y,e,i+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},y),result:m}),m}catch(m){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},y),error:m}),m}}throw u}}async#f(t){const{value:e}=await Be({network:this.getNetwork(),value:t});return e}async call(t){const{tx:e,blockTag:i}=await Be({tx:this._getTransactionRequest(t),blockTag:this._getBlockTag(t.blockTag)});return await this.#f(this.#c(e,i,t.enableCcipRead?0:-1))}async#h(t,e,i){let o=this._getAddress(e),u=this._getBlockTag(i);return(typeof o!="string"||typeof u!="string")&&([o,u]=await Promise.all([o,u])),await this.#f(this.#l(Object.assign(t,{address:o,blockTag:u})))}async getBalance(t,e){return tt(await this.#h({method:"getBalance"},t,e),"%response")}async getTransactionCount(t,e){return mt(await this.#h({method:"getTransactionCount"},t,e),"%response")}async getCode(t,e){return $(await this.#h({method:"getCode"},t,e))}async getStorage(t,e,i){const o=tt(e,"position");return $(await this.#h({method:"getStorage",position:o},t,i))}async broadcastTransaction(t){const{blockNumber:e,hash:i,network:o}=await Be({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:t}),network:this.getNetwork()}),u=xn.from(t);if(u.hash!==i)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(u,o).replaceableTransaction(e)}async#m(t,e){if(Ft(t,32))return await this.#l({method:"getBlock",blockHash:t,includeTransactions:e});let i=this._getBlockTag(t);return typeof i!="string"&&(i=await i),await this.#l({method:"getBlock",blockTag:i,includeTransactions:e})}async getBlock(t,e){const{network:i,params:o}=await Be({network:this.getNetwork(),params:this.#m(t,!!e)});return o==null?null:this._wrapBlock(o,i)}async getTransaction(t){const{network:e,params:i}=await Be({network:this.getNetwork(),params:this.#l({method:"getTransaction",hash:t})});return i==null?null:this._wrapTransactionResponse(i,e)}async getTransactionReceipt(t){const{network:e,params:i}=await Be({network:this.getNetwork(),params:this.#l({method:"getTransactionReceipt",hash:t})});if(i==null)return null;if(i.gasPrice==null&&i.effectiveGasPrice==null){const o=await this.#l({method:"getTransaction",hash:t});if(o==null)throw new Error("report this; could not find tx or effectiveGasPrice");i.effectiveGasPrice=o.gasPrice}return this._wrapTransactionReceipt(i,e)}async getTransactionResult(t){const{result:e}=await Be({network:this.getNetwork(),result:this.#l({method:"getTransactionResult",hash:t})});return e==null?null:$(e)}async getLogs(t){let e=this._getFilter(t);vu(e)&&(e=await e);const{network:i,params:o}=await Be({network:this.getNetwork(),params:this.#l({method:"getLogs",filter:e})});return o.map(u=>this._wrapLog(u,i))}_getProvider(t){q(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(t){return await ta.fromName(this,t)}async getAvatar(t){const e=await this.getResolver(t);return e?await e.getAvatar():null}async resolveName(t){const e=await this.getResolver(t);return e?await e.getAddress():null}async lookupAddress(t){t=Bt(t);const e=bd(t.substring(2).toLowerCase()+".addr.reverse");try{const i=await ta.getEnsAddress(this),u=await new si(i,["function resolver(bytes32) view returns (address)"],this).resolver(e);if(u==null||u===No)return null;const h=await new si(u,["function name(bytes32) view returns (string)"],this).name(e);return await this.resolveName(h)!==t?null:h}catch(i){if(Oe(i,"BAD_DATA")&&i.value==="0x"||Oe(i,"CALL_EXCEPTION"))return null;throw i}return null}async waitForTransaction(t,e,i){const o=e??1;return o===0?this.getTransactionReceipt(t):new Promise(async(u,c)=>{let h=null;const p=async g=>{try{const y=await this.getTransactionReceipt(t);if(y!=null&&g-y.blockNumber+1>=o){u(y),h&&(clearTimeout(h),h=null);return}}catch(y){console.log("EEE",y)}this.once("block",p)};i!=null&&(h=setTimeout(()=>{h!=null&&(h=null,this.off("block",p),c(Vt("timeout","TIMEOUT",{reason:"timeout"})))},i)),p(await this.getBlockNumber())})}async waitForBlock(t){q(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(t){const e=this.#u.get(t);e&&(e.timer&&clearTimeout(e.timer),this.#u.delete(t))}_setTimeout(t,e){e==null&&(e=0);const i=this.#d++,o=()=>{this.#u.delete(i),t()};if(this.paused)this.#u.set(i,{timer:null,func:o,time:e});else{const u=setTimeout(o,e);this.#u.set(i,{timer:u,func:o,time:Fh()})}return i}_forEachSubscriber(t){for(const e of this.#t.values())t(e.subscriber)}_getSubscriber(t){switch(t.type){case"debug":case"error":case"network":return new tA(t.type);case"block":{const e=new EN(this);return e.pollingInterval=this.pollingInterval,e}case"safe":case"finalized":return new SN(this,t.type);case"event":return new sp(this,t.filter);case"transaction":return new _N(this,t.hash);case"orphan":return new TN(this,t.filter)}throw new Error(`unsupported event: ${t.type}`)}_recoverSubscriber(t,e){for(const i of this.#t.values())if(i.subscriber===t){i.started&&i.subscriber.stop(),i.subscriber=e,i.started&&e.start(),this.#n!=null&&e.pause(this.#n);break}}async#y(t,e){let i=await Gh(t,this);return i.type==="event"&&e&&e.length>0&&e[0].removed===!0&&(i=await Gh({orphan:"drop-log",log:e[0]},this)),this.#t.get(i.tag)||null}async#b(t){const e=await Gh(t,this),i=e.tag;let o=this.#t.get(i);return o||(o={subscriber:this._getSubscriber(e),tag:i,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#t.set(i,o)),o}async on(t,e){const i=await this.#b(t);return i.listeners.push({listener:e,once:!1}),i.started||(i.subscriber.start(),i.started=!0,this.#n!=null&&i.subscriber.pause(this.#n)),this}async once(t,e){const i=await this.#b(t);return i.listeners.push({listener:e,once:!0}),i.started||(i.subscriber.start(),i.started=!0,this.#n!=null&&i.subscriber.pause(this.#n)),this}async emit(t,...e){const i=await this.#y(t,e);if(!i||i.listeners.length===0)return!1;const o=i.listeners.length;return i.listeners=i.listeners.filter(({listener:u,once:c})=>{const h=new ww(this,c?null:u,t);try{u.call(this,...e,h)}catch{}return!c}),i.listeners.length===0&&(i.started&&i.subscriber.stop(),this.#t.delete(i.tag)),o>0}async listenerCount(t){if(t){const i=await this.#y(t);return i?i.listeners.length:0}let e=0;for(const{listeners:i}of this.#t.values())e+=i.length;return e}async listeners(t){if(t){const i=await this.#y(t);return i?i.listeners.map(({listener:o})=>o):[]}let e=[];for(const{listeners:i}of this.#t.values())e=e.concat(i.map(({listener:o})=>o));return e}async off(t,e){const i=await this.#y(t);if(!i)return this;if(e){const o=i.listeners.map(({listener:u})=>u).indexOf(e);o>=0&&i.listeners.splice(o,1)}return(!e||i.listeners.length===0)&&(i.started&&i.subscriber.stop(),this.#t.delete(i.tag)),this}async removeAllListeners(t){if(t){const{tag:e,started:i,subscriber:o}=await this.#b(t);i&&o.stop(),this.#t.delete(e)}else for(const[e,{started:i,subscriber:o}]of this.#t)i&&o.stop(),this.#t.delete(e);return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return this.off(t,e)}get destroyed(){return this.#s}destroy(){this.removeAllListeners();for(const t of this.#u.keys())this._clearTimeout(t);this.#s=!0}get paused(){return this.#n!=null}set paused(t){!!t!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(t){if(this.#o=-1,this.#n!=null){if(this.#n==!!t)return;q(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(e=>e.pause(t)),this.#n=!!t;for(const e of this.#u.values())e.timer&&clearTimeout(e.timer),e.time=Fh()-e.time}resume(){if(this.#n!=null){this._forEachSubscriber(t=>t.resume()),this.#n=null;for(const t of this.#u.values()){let e=t.time;e<0&&(e=0),t.time=Fh(),setTimeout(t.func,e)}}}}function kN(r,t){try{const e=Sd(r,t);if(e)return Bu(e)}catch{}return null}function Sd(r,t){if(r==="0x")return null;try{const e=mt(Zt(r,t,t+32)),i=mt(Zt(r,e,e+32));return Zt(r,e+32,e+32+i)}catch{}return null}function Pb(r){const t=de(r);if(t.length>32)throw new Error("internal; should not happen");const e=new Uint8Array(32);return e.set(t,32-t.length),e}function BN(r){if(r.length%32===0)return r;const t=new Uint8Array(Math.ceil(r.length/32)*32);return t.set(r),t}const UN=new Uint8Array([]);function DN(r){const t=[];let e=0;for(let i=0;i<r.length;i++)t.push(UN),e+=32;for(let i=0;i<r.length;i++){const o=yt(r[i]);t[i]=Pb(e),t.push(Pb(o.length)),t.push(BN(o)),e+=32+Math.ceil(o.length/32)*32}return te(t)}const Ib="0x0000000000000000000000000000000000000000000000000000000000000000";function MN(r){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};q(Zr(r)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const e=Zt(r,0,32);q(Zt(e,0,12)===Zt(Ib,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=Zt(e,12);try{const i=[],o=mt(Zt(r,32,64)),u=mt(Zt(r,o,o+32)),c=Zt(r,o+32);for(let h=0;h<u;h++){const p=kN(c,h*32);if(p==null)throw new Error("abort");i.push(p)}t.urls=i}catch{q(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const i=Sd(r,64);if(i==null)throw new Error("abort");t.calldata=i}catch{q(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}q(Zt(r,100,128)===Zt(Ib,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=Zt(r,96,100);try{const i=Sd(r,128);if(i==null)throw new Error("abort");t.extraData=i}catch{q(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(i=>t[i]),t}function Ci(r,t){if(r.provider)return r.provider;q(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function jb(r,t){let e=ju(t);if(e.to!=null&&(e.to=Me(e.to,r)),e.from!=null){const i=e.from;e.from=Promise.all([r.getAddress(),Me(i,r)]).then(([o,u])=>(O(o.toLowerCase()===u.toLowerCase(),"transaction from mismatch","tx.from",u),o))}else e.from=r.getAddress();return await Be(e)}class LN{provider;constructor(t){ot(this,{provider:t||null})}async getNonce(t){return Ci(this,"getTransactionCount").getTransactionCount(await this.getAddress(),t)}async populateCall(t){return await jb(this,t)}async populateTransaction(t){const e=Ci(this,"populateTransaction"),i=await jb(this,t);i.nonce==null&&(i.nonce=await this.getNonce("pending")),i.gasLimit==null&&(i.gasLimit=await this.estimateGas(i));const o=await this.provider.getNetwork();if(i.chainId!=null){const c=tt(i.chainId);O(c===o.chainId,"transaction chainId mismatch","tx.chainId",t.chainId)}else i.chainId=o.chainId;const u=i.maxFeePerGas!=null||i.maxPriorityFeePerGas!=null;if(i.gasPrice!=null&&(i.type===2||u)?O(!1,"eip-1559 transaction do not support gasPrice","tx",t):(i.type===0||i.type===1)&&u&&O(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",t),(i.type===2||i.type==null)&&i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)i.type=2;else if(i.type===0||i.type===1){const c=await e.getFeeData();q(c.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),i.gasPrice==null&&(i.gasPrice=c.gasPrice)}else{const c=await e.getFeeData();if(i.type==null)if(c.maxFeePerGas!=null&&c.maxPriorityFeePerGas!=null)if(i.authorizationList&&i.authorizationList.length?i.type=4:i.type=2,i.gasPrice!=null){const h=i.gasPrice;delete i.gasPrice,i.maxFeePerGas=h,i.maxPriorityFeePerGas=h}else i.maxFeePerGas==null&&(i.maxFeePerGas=c.maxFeePerGas),i.maxPriorityFeePerGas==null&&(i.maxPriorityFeePerGas=c.maxPriorityFeePerGas);else c.gasPrice!=null?(q(!u,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),i.gasPrice==null&&(i.gasPrice=c.gasPrice),i.type=0):q(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(i.type===2||i.type===3||i.type===4)&&(i.maxFeePerGas==null&&(i.maxFeePerGas=c.maxFeePerGas),i.maxPriorityFeePerGas==null&&(i.maxPriorityFeePerGas=c.maxPriorityFeePerGas))}return await Be(i)}async populateAuthorization(t){const e=Object.assign({},t);return e.chainId==null&&(e.chainId=(await Ci(this,"getNetwork").getNetwork()).chainId),e.nonce==null&&(e.nonce=await this.getNonce()),e}async estimateGas(t){return Ci(this,"estimateGas").estimateGas(await this.populateCall(t))}async call(t){return Ci(this,"call").call(await this.populateCall(t))}async resolveName(t){return await Ci(this,"resolveName").resolveName(t)}async sendTransaction(t){const e=Ci(this,"sendTransaction"),i=await this.populateTransaction(t);delete i.from;const o=xn.from(i);return await e.broadcastTransaction(await this.signTransaction(o))}authorize(t){q(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function PN(r){return JSON.parse(JSON.stringify(r))}class eA{#t;#e;#n;#s;#i;#a;constructor(t){this.#t=t,this.#e=null,this.#n=this.#r.bind(this),this.#s=!1,this.#i=null,this.#a=!1}_subscribe(t){throw new Error("subclasses must override this")}_emitResults(t,e){throw new Error("subclasses must override this")}_recover(t){throw new Error("subclasses must override this")}async#r(t){try{this.#e==null&&(this.#e=this._subscribe(this.#t));let e=null;try{e=await this.#e}catch(u){if(!Oe(u,"UNSUPPORTED_OPERATION")||u.operation!=="eth_newFilter")throw u}if(e==null){this.#e=null,this.#t._recoverSubscriber(this,this._recover(this.#t));return}const i=await this.#t.getNetwork();if(this.#i||(this.#i=i),this.#i.chainId!==i.chainId)throw new Error("chaid changed");if(this.#a)return;const o=await this.#t.send("eth_getFilterChanges",[e]);await this._emitResults(this.#t,o)}catch(e){console.log("@TODO",e)}this.#t.once("block",this.#n)}#o(){const t=this.#e;t&&(this.#e=null,t.then(e=>{this.#t.destroyed||this.#t.send("eth_uninstallFilter",[e])}))}start(){this.#s||(this.#s=!0,this.#r(-2))}stop(){this.#s&&(this.#s=!1,this.#a=!0,this.#o(),this.#t.off("block",this.#n))}pause(t){t&&this.#o(),this.#t.off("block",this.#n)}resume(){this.start()}}class IN extends eA{#t;constructor(t,e){super(t),this.#t=PN(e)}_recover(t){return new sp(t,this.#t)}async _subscribe(t){return await t.send("eth_newFilter",[this.#t])}async _emitResults(t,e){for(const i of e)t.emit(this.#t,t._wrapLog(i,t._network))}}class jN extends eA{async _subscribe(t){return await t.send("eth_newPendingTransactionFilter",[])}async _emitResults(t,e){for(const i of e)t.emit("pending",i)}}const zN="bigint,boolean,function,number,string,symbol".split(/,/g);function _u(r){if(r==null||zN.indexOf(typeof r)>=0||typeof r.getAddress=="function")return r;if(Array.isArray(r))return r.map(_u);if(typeof r=="object")return Object.keys(r).reduce((t,e)=>(t[e]=r[e],t),{});throw new Error(`should not happen: ${r} (${typeof r})`)}function HN(r){return new Promise(t=>{setTimeout(t,r)})}function qr(r){return r&&r.toLowerCase()}function zb(r){return r&&typeof r.pollingInterval=="number"}const nA={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Qh extends LN{address;constructor(t,e){super(t),e=Bt(e),ot(this,{address:e})}connect(t){q(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(t){return await this.populateCall(t)}async sendUncheckedTransaction(t){const e=_u(t),i=[];if(e.from){const u=e.from;i.push((async()=>{const c=await Me(u,this.provider);O(c!=null&&c.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),e.from=c})())}else e.from=this.address;if(e.gasLimit==null&&i.push((async()=>{e.gasLimit=await this.provider.estimateGas({...e,from:this.address})})()),e.to!=null){const u=e.to;i.push((async()=>{e.to=await Me(u,this.provider)})())}i.length&&await Promise.all(i);const o=this.provider.getRpcTransaction(e);return this.provider.send("eth_sendTransaction",[o])}async sendTransaction(t){const e=await this.provider.getBlockNumber(),i=await this.sendUncheckedTransaction(t);return await new Promise((o,u)=>{const c=[1e3,100];let h=0;const p=async()=>{try{const g=await this.provider.getTransaction(i);if(g!=null){o(g.replaceableTransaction(e));return}}catch(g){if(Oe(g,"CANCELLED")||Oe(g,"BAD_DATA")||Oe(g,"NETWORK_ERROR")||Oe(g,"UNSUPPORTED_OPERATION")){g.info==null&&(g.info={}),g.info.sendTransactionHash=i,u(g);return}if(Oe(g,"INVALID_ARGUMENT")&&(h++,g.info==null&&(g.info={}),g.info.sendTransactionHash=i,h>10)){u(g);return}this.provider.emit("error",Vt("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:g}))}this.provider._setTimeout(()=>{p()},c.pop()||4e3)};p()})}async signTransaction(t){const e=_u(t);if(e.from){const o=await Me(e.from,this.provider);O(o!=null&&o.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),e.from=o}else e.from=this.address;const i=this.provider.getRpcTransaction(e);return await this.provider.send("eth_signTransaction",[i])}async signMessage(t){const e=typeof t=="string"?gs(t):t;return await this.provider.send("personal_sign",[$(e),this.address.toLowerCase()])}async signTypedData(t,e,i){const o=_u(i),u=await rn.resolveNames(t,e,o,async c=>{const h=await Me(c);return O(h!=null,"TypedData does not support null address","value",c),h});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(rn.getPayload(u.domain,e,u.value))])}async unlock(t){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),t,null])}async _legacySignMessage(t){const e=typeof t=="string"?gs(t):t;return await this.provider.send("eth_sign",[this.address.toLowerCase(),$(e)])}}class GN extends CN{#t;#e;#n;#s;#i;#a;#r;#o(){if(this.#s)return;const t=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#s=setTimeout(()=>{this.#s=null;const e=this.#n;for(this.#n=[];e.length;){const i=[e.shift()];for(;e.length&&i.length!==this.#t.batchMaxCount;)if(i.push(e.shift()),JSON.stringify(i.map(u=>u.payload)).length>this.#t.batchMaxSize){e.unshift(i.pop());break}(async()=>{const o=i.length===1?i[0].payload:i.map(u=>u.payload);this.emit("debug",{action:"sendRpcPayload",payload:o});try{const u=await this._send(o);this.emit("debug",{action:"receiveRpcResult",result:u});for(const{resolve:c,reject:h,payload:p}of i){if(this.destroyed){h(Vt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:p.method}));continue}const g=u.filter(y=>y.id===p.id)[0];if(g==null){const y=Vt("missing response for request","BAD_DATA",{value:u,info:{payload:p}});this.emit("error",y),h(y);continue}if("error"in g){h(this.getRpcError(p,g));continue}c(g.result)}}catch(u){this.emit("debug",{action:"receiveRpcError",error:u});for(const{reject:c}of i)c(u)}})()}},t)}constructor(t,e){super(t,e),this.#e=1,this.#t=Object.assign({},nA,e||{}),this.#n=[],this.#s=null,this.#a=null,this.#r=null;{let o=null;const u=new Promise(c=>{o=c});this.#i={promise:u,resolve:o}}const i=this._getOption("staticNetwork");typeof i=="boolean"?(O(!i||t!=="any","staticNetwork cannot be used on special network 'any'","options",e),i&&t!=null&&(this.#a=on.from(t))):i&&(O(t==null||i.matches(t),"staticNetwork MUST match network object","options",e),this.#a=i)}_getOption(t){return this.#t[t]}get _network(){return q(this.#a,"network is not available yet","NETWORK_ERROR"),this.#a}async _perform(t){if(t.method==="call"||t.method==="estimateGas"){let i=t.transaction;if(i&&i.type!=null&&tt(i.type)&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const o=await this.getFeeData();o.maxFeePerGas==null&&o.maxPriorityFeePerGas==null&&(t=Object.assign({},t,{transaction:Object.assign({},i,{type:void 0})}))}}const e=this.getRpcRequest(t);return e!=null?await this.send(e.method,e.args):super._perform(t)}async _detectNetwork(){const t=this._getOption("staticNetwork");if(t)if(t===!0){if(this.#a)return this.#a}else return t;return this.#r?await this.#r:this.ready?(this.#r=(async()=>{try{const e=on.from(tt(await this.send("eth_chainId",[])));return this.#r=null,e}catch(e){throw this.#r=null,e}})(),await this.#r):(this.#r=(async()=>{const e={id:this.#e++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:e});let i;try{i=(await this._send(e))[0],this.#r=null}catch(o){throw this.#r=null,this.emit("debug",{action:"receiveRpcError",error:o}),o}if(this.emit("debug",{action:"receiveRpcResult",result:i}),"result"in i)return on.from(tt(i.result));throw this.getRpcError(e,i)})(),await this.#r)}_start(){this.#i==null||this.#i.resolve==null||(this.#i.resolve(),this.#i=null,(async()=>{for(;this.#a==null&&!this.destroyed;)try{this.#a=await this._detectNetwork()}catch(t){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Vt("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:t}})),await HN(1e3)}this.#o()})())}async _waitUntilReady(){if(this.#i!=null)return await this.#i.promise}_getSubscriber(t){return t.type==="pending"?new jN(this):t.type==="event"?this._getOption("polling")?new sp(this,t.filter):new IN(this,t.filter):t.type==="orphan"&&t.filter.orphan==="drop-log"?new tA("orphan"):super._getSubscriber(t)}get ready(){return this.#i==null}getRpcTransaction(t){const e={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(i=>{if(t[i]==null)return;let o=i;i==="gasLimit"&&(o="gas"),e[o]=Rn(tt(t[i],`tx.${i}`))}),["from","to","data"].forEach(i=>{t[i]!=null&&(e[i]=$(t[i]))}),t.accessList&&(e.accessList=Ki(t.accessList)),t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.map(i=>i.toLowerCase())),t.authorizationList&&(e.authorizationList=t.authorizationList.map(i=>{const o=ov(i);return{address:o.address,nonce:Rn(o.nonce),chainId:Rn(o.chainId),yParity:Rn(o.signature.yParity),r:Rn(o.signature.r),s:Rn(o.signature.s)}})),e}getRpcRequest(t){switch(t.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[qr(t.address),t.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[qr(t.address),t.blockTag]};case"getCode":return{method:"eth_getCode",args:[qr(t.address),t.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[qr(t.address),"0x"+t.position.toString(16),t.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[t.signedTransaction]};case"getBlock":if("blockTag"in t)return{method:"eth_getBlockByNumber",args:[t.blockTag,!!t.includeTransactions]};if("blockHash"in t)return{method:"eth_getBlockByHash",args:[t.blockHash,!!t.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[t.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[t.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(t.transaction),t.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(t.transaction)]};case"getLogs":return t.filter&&t.filter.address!=null&&(Array.isArray(t.filter.address)?t.filter.address=t.filter.address.map(qr):t.filter.address=qr(t.filter.address)),{method:"eth_getLogs",args:[t.filter]}}return null}getRpcError(t,e){const{method:i}=t,{error:o}=e;if(i==="eth_estimateGas"&&o.message){const h=o.message;if(!h.match(/revert/i)&&h.match(/insufficient funds/i))return Vt("insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.params[0],info:{payload:t,error:o}});if(h.match(/nonce/i)&&h.match(/too low/i))return Vt("nonce has already been used","NONCE_EXPIRED",{transaction:t.params[0],info:{payload:t,error:o}})}if(i==="eth_call"||i==="eth_estimateGas"){const h=Td(o),p=la.getBuiltinCallException(i==="eth_call"?"call":"estimateGas",t.params[0],h?h.data:null);return p.info={error:o,payload:t},p}const u=JSON.stringify(QN(o));if(typeof o.message=="string"&&o.message.match(/user denied|ethers-user-denied/i))return Vt("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[i]||"unknown",reason:"rejected",info:{payload:t,error:o}});if(i==="eth_sendRawTransaction"||i==="eth_sendTransaction"){const h=t.params[0];if(u.match(/insufficient funds|base fee exceeds gas limit/i))return Vt("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:h,info:{error:o}});if(u.match(/nonce/i)&&u.match(/too low/i))return Vt("nonce has already been used","NONCE_EXPIRED",{transaction:h,info:{error:o}});if(u.match(/replacement transaction/i)&&u.match(/underpriced/i))return Vt("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:h,info:{error:o}});if(u.match(/only replay-protected/i))return Vt("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:i,info:{transaction:h,info:{error:o}}})}let c=!!u.match(/the method .* does not exist/i);return c||o&&o.details&&o.details.startsWith("Unauthorized method:")&&(c=!0),c?Vt("unsupported operation","UNSUPPORTED_OPERATION",{operation:t.method,info:{error:o,payload:t}}):Vt("could not coalesce error","UNKNOWN_ERROR",{error:o,payload:t})}send(t,e){if(this.destroyed)return Promise.reject(Vt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t}));const i=this.#e++,o=new Promise((u,c)=>{this.#n.push({resolve:u,reject:c,payload:{method:t,params:e,id:i,jsonrpc:"2.0"}})});return this.#o(),o}async getSigner(t){t==null&&(t=0);const e=this.send("eth_accounts",[]);if(typeof t=="number"){const o=await e;if(t>=o.length)throw new Error("no such account");return new Qh(this,o[t])}const{accounts:i}=await Be({network:this.getNetwork(),accounts:e});t=Bt(t);for(const o of i)if(Bt(o)===t)return new Qh(this,t);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(e=>new Qh(this,e))}destroy(){this.#s&&(clearTimeout(this.#s),this.#s=null);for(const{payload:t,reject:e}of this.#n)e(Vt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t.method}));this.#n=[],super.destroy()}}class FN extends GN{#t;constructor(t,e){super(t,e);let i=this._getOption("pollingInterval");i==null&&(i=nA.pollingInterval),this.#t=i}_getSubscriber(t){const e=super._getSubscriber(t);return zb(e)&&(e.pollingInterval=this.#t),e}get pollingInterval(){return this.#t}set pollingInterval(t){if(!Number.isInteger(t)||t<0)throw new Error("invalid interval");this.#t=t,this._forEachSubscriber(e=>{zb(e)&&(e.pollingInterval=this.#t)})}}function Td(r){if(r==null)return null;if(typeof r.message=="string"&&r.message.match(/revert/i)&&Ft(r.data))return{message:r.message,data:r.data};if(typeof r=="object"){for(const t in r){const e=Td(r[t]);if(e)return e}return null}if(typeof r=="string")try{return Td(JSON.parse(r))}catch{}return null}function _d(r,t){if(r!=null){if(typeof r.message=="string"&&t.push(r.message),typeof r=="object")for(const e in r)_d(r[e],t);if(typeof r=="string")try{return _d(JSON.parse(r),t)}catch{}}}function QN(r){const t=[];return _d(r,t),t}class ei extends FN{#t;#e;constructor(t,e,i){const o=Object.assign({},i??{},{batchMaxCount:1});O(t&&t.request,"invalid EIP-1193 provider","ethereum",t),super(e,o),this.#e=null,i&&i.providerInfo&&(this.#e=i.providerInfo),this.#t=async(u,c)=>{const h={method:u,params:c};this.emit("debug",{action:"sendEip1193Request",payload:h});try{const p=await t.request(h);return this.emit("debug",{action:"receiveEip1193Result",result:p}),p}catch(p){const g=new Error(p.message);throw g.code=p.code,g.data=p.data,g.payload=h,this.emit("debug",{action:"receiveEip1193Error",error:g}),g}}}get providerInfo(){return this.#e}async send(t,e){return await this._start(),await super.send(t,e)}async _send(t){O(!Array.isArray(t),"EIP-1193 does not support batch request","payload",t);try{const e=await this.#t(t.method,t.params||[]);return[{id:t.id,result:e}]}catch(e){return[{id:t.id,error:{code:e.code,data:e.data,message:e.message}}]}}getRpcError(t,e){switch(e=JSON.parse(JSON.stringify(e)),e.error.code||-1){case 4001:e.error.message=`ethers-user-denied: ${e.error.message}`;break;case 4200:e.error.message=`ethers-unsupported: ${e.error.message}`;break}return super.getRpcError(t,e)}async hasSigner(t){t==null&&(t=0);const e=await this.send("eth_accounts",[]);return typeof t=="number"?e.length>t:(t=t.toLowerCase(),e.filter(i=>i.toLowerCase()===t).length!==0)}async getSigner(t){if(t==null&&(t=0),!await this.hasSigner(t))try{await this.#t("eth_requestAccounts",[])}catch(e){const i=e.payload;throw this.getRpcError(i,{id:i.id,error:e})}return await super.getSigner(t)}static async discover(t){if(t==null&&(t={}),t.provider)return new ei(t.provider);const e=t.window?t.window:typeof window<"u"?window:null;if(e==null)return null;const i=t.anyProvider;if(i&&e.ethereum)return new ei(e.ethereum);if(!("addEventListener"in e&&"dispatchEvent"in e&&"removeEventListener"in e))return null;const o=t.timeout?t.timeout:300;return o===0?null:await new Promise((u,c)=>{let h=[];const p=m=>{h.push(m.detail),i&&g()},g=()=>{if(clearTimeout(y),h.length)if(t&&t.filter){const m=t.filter(h.map(v=>Object.assign({},v.info)));if(m==null)u(null);else if(m instanceof ei)u(m);else{let v=null;if(m.uuid&&(v=h.filter(T=>m.uuid===T.info.uuid)[0]),v){const{provider:E,info:T}=v;u(new ei(E,void 0,{providerInfo:T}))}else c(Vt("filter returned unknown info","UNSUPPORTED_OPERATION",{value:m}))}}else{const{provider:m,info:v}=h[0];u(new ei(m,void 0,{providerInfo:v}))}else u(null);e.removeEventListener("eip6963:announceProvider",p)},y=setTimeout(()=>{g()},o);e.addEventListener("eip6963:announceProvider",p),e.dispatchEvent(new Event("eip6963:requestProvider"))})}}const qN=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"OwnableInvalidOwner","type":"error"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"OwnableUnauthorizedAccount","type":"error"},{"inputs":[],"name":"ReentrancyGuardReentrantCall","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Deposit","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"fromToken","type":"address"},{"indexed":true,"internalType":"address","name":"toToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"rate","type":"uint256"}],"name":"ExchangeRateUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":true,"internalType":"address","name":"fromToken","type":"address"},{"indexed":true,"internalType":"address","name":"toToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"fromAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"toAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"fee","type":"uint256"}],"name":"Swap","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Withdraw","type":"event"},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"addSupportedToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"deposit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"exchangeRates","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"feeBalances","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"feeRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getSupportedTokens","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"address","name":"token","type":"address"}],"name":"getUserBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"getUserBalances","outputs":[{"internalType":"address[]","name":"tokens","type":"address[]"},{"internalType":"uint256[]","name":"balances","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"isSupportedToken","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"fromToken","type":"address"},{"internalType":"address","name":"toToken","type":"address"},{"internalType":"uint256","name":"rate","type":"uint256"}],"name":"setExchangeRate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_feeRate","type":"uint256"}],"name":"setFeeRate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"supportedTokens","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"fromToken","type":"address"},{"internalType":"address","name":"toToken","type":"address"},{"internalType":"uint256","name":"fromAmount","type":"uint256"}],"name":"swap","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"userBalances","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"withdrawFees","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),Hb="0x33d89348E9547662840A035d26930EE37c6741d0",VN="0x6b797dC9D340bf09A77Fb54075530c5fb6bdF699",KN="0x59dF7b4D7cf172Aa5be3b524D4ac2616d7097a78",JN=()=>{const{address:r,isConnected:t}=Mo(),[e,i]=Nt.useState(null),[o,u]=Nt.useState(null),[c,h]=Nt.useState(null),[p,g]=Nt.useState(null),[y,m]=Nt.useState(null),[v,E]=Nt.useState(""),[T,S]=Nt.useState("");Nt.useEffect(()=>{window.ethereum&&t&&new ei(window.ethereum).getSigner().then(nt=>{i(new si(Hb,qN,nt)),u(Hb),h(VN),g(KN)})},[t]),Nt.useEffect(()=>{o&&r&&(async()=>{const nt=await e.getBalance(r,o);m(nt)})()});const x=async()=>{try{await(await e.addSupportedToken(c)).wait(),await(await e.addSupportedToken(p)).wait(),alert("토큰 추가 성공")}catch(Y){console.error("토큰 추가 실패:",Y),alert("토큰 추가 실패")}},D=async()=>{try{await(await e.setExchangeRate(p,c,100)).wait(),alert("교환 비율 설정 성공")}catch(Y){console.error("교환 비율 설정 실패:",Y),alert("교환 비율 설정 실패")}},G=async()=>{try{await(await e.setFeeRate(T)).wait(),alert("수수료 설정 성공")}catch(Y){console.error("수수료 설정 실패:",Y),alert("수수료 설정 실패")}},L=async()=>{try{await(await e.withdrawFee(c)).wait(),alert("수수료 출금 성공")}catch(Y){console.error("수수료 출금 실패:",Y),alert("수수료 출금 실패")}},F=async()=>{try{await(await e.deposit(c,v)).wait(),alert("예치 성공")}catch(Y){console.error("예치 실패:",Y),alert("예치 실패")}},K=async()=>{try{await(await e.deposit(p,v)).wait(),alert("입금 성공")}catch(Y){console.error("입금 실패:",Y),alert("입금 실패")}},H=async()=>{try{await(await e.withdraw(p,v)).wait(),alert("출금 성공")}catch(Y){console.error("출금 실패:",Y),alert("출금 실패")}},J=async()=>{try{await(await e.swap(p,c,v)).wait(),alert("교환 성공")}catch(Y){console.error("교환 실패:",Y),alert("교환 실패")}},Z=async()=>{try{await(await e.swap(c,p,v)).wait(),alert("교환 성공")}catch(Y){console.error("교환 실패:",Y),alert("교환 실패")}};return k.jsxs("div",{className:"simpledex-container",children:[k.jsxs("div",{className:"simpledex-header",children:[k.jsx("h1",{children:"SimpleDEX"}),k.jsx("h2",{children:"현재 예치된 금액"}),k.jsxs("p",{children:["금액: ",y," SOW"]})]}),k.jsxs("div",{className:"action-section",children:[k.jsx("h2",{children:"SOW 입금"}),k.jsx("input",{type:"text",placeholder:"입금할 금액",value:v,onChange:Y=>E(Y.target.value)}),k.jsx("button",{onClick:K,children:"입금"}),k.jsx("h2",{children:"SOW 출금"}),k.jsx("input",{type:"text",placeholder:"출금할 금액",value:v,onChange:Y=>E(Y.target.value)}),k.jsx("button",{onClick:H,children:"출금"})]}),k.jsxs("div",{className:"swap-section",children:[k.jsx("h2",{children:"교환"}),k.jsx("input",{type:"text",placeholder:"교환할 금액",value:v,onChange:Y=>E(Y.target.value)}),k.jsx("button",{onClick:J,children:"SOW 에서 KOW 로 교환"}),k.jsx("button",{onClick:Z,children:"KOW 에서 SOW 로 교환"})]}),k.jsxs("div",{className:"admin-section",children:[k.jsx("h2",{children:"관리자"}),k.jsx("button",{onClick:x,children:"토큰 추가"}),k.jsx("button",{onClick:D,children:"교환 비율 설정"}),k.jsx("input",{type:"text",placeholder:"수수료",value:T,onChange:Y=>S(Y.target.value)}),k.jsx("button",{onClick:G,children:"수수료 설정(진짜 설정 가능)"}),k.jsx("button",{onClick:L,children:"수수료 출금"}),k.jsx("button",{onClick:F,children:"KOW 예치"}),k.jsx("input",{type:"text",placeholder:"예치할 금액",value:v,onChange:Y=>E(Y.target.value)})]})]})},qn=Object.create(null);qn.open="0";qn.close="1";qn.ping="2";qn.pong="3";qn.message="4";qn.upgrade="5";qn.noop="6";const xu=Object.create(null);Object.keys(qn).forEach(r=>{xu[qn[r]]=r});const xd={type:"error",data:"parser error"},sA=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",iA=typeof ArrayBuffer=="function",rA=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer,ip=({type:r,data:t},e,i)=>sA&&t instanceof Blob?e?i(t):Gb(t,i):iA&&(t instanceof ArrayBuffer||rA(t))?e?i(t):Gb(new Blob([t]),i):i(qn[r]+(t||"")),Gb=(r,t)=>{const e=new FileReader;return e.onload=function(){const i=e.result.split(",")[1];t("b"+(i||""))},e.readAsDataURL(r)};function Fb(r){return r instanceof Uint8Array?r:r instanceof ArrayBuffer?new Uint8Array(r):new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}let qh;function YN(r,t){if(sA&&r.data instanceof Blob)return r.data.arrayBuffer().then(Fb).then(t);if(iA&&(r.data instanceof ArrayBuffer||rA(r.data)))return t(Fb(r.data));ip(r,!1,e=>{qh||(qh=new TextEncoder),t(qh.encode(e))})}const Qb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vo=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let r=0;r<Qb.length;r++)vo[Qb.charCodeAt(r)]=r;const XN=r=>{let t=r.length*.75,e=r.length,i,o=0,u,c,h,p;r[r.length-1]==="="&&(t--,r[r.length-2]==="="&&t--);const g=new ArrayBuffer(t),y=new Uint8Array(g);for(i=0;i<e;i+=4)u=vo[r.charCodeAt(i)],c=vo[r.charCodeAt(i+1)],h=vo[r.charCodeAt(i+2)],p=vo[r.charCodeAt(i+3)],y[o++]=u<<2|c>>4,y[o++]=(c&15)<<4|h>>2,y[o++]=(h&3)<<6|p&63;return g},ZN=typeof ArrayBuffer=="function",rp=(r,t)=>{if(typeof r!="string")return{type:"message",data:aA(r,t)};const e=r.charAt(0);return e==="b"?{type:"message",data:$N(r.substring(1),t)}:xu[e]?r.length>1?{type:xu[e],data:r.substring(1)}:{type:xu[e]}:xd},$N=(r,t)=>{if(ZN){const e=XN(r);return aA(e,t)}else return{base64:!0,data:r}},aA=(r,t)=>{switch(t){case"blob":return r instanceof Blob?r:new Blob([r]);case"arraybuffer":default:return r instanceof ArrayBuffer?r:r.buffer}},oA="",WN=(r,t)=>{const e=r.length,i=new Array(e);let o=0;r.forEach((u,c)=>{ip(u,!1,h=>{i[c]=h,++o===e&&t(i.join(oA))})})},tR=(r,t)=>{const e=r.split(oA),i=[];for(let o=0;o<e.length;o++){const u=rp(e[o],t);if(i.push(u),u.type==="error")break}return i};function eR(){return new TransformStream({transform(r,t){YN(r,e=>{const i=e.length;let o;if(i<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,i);else if(i<65536){o=new Uint8Array(3);const u=new DataView(o.buffer);u.setUint8(0,126),u.setUint16(1,i)}else{o=new Uint8Array(9);const u=new DataView(o.buffer);u.setUint8(0,127),u.setBigUint64(1,BigInt(i))}r.data&&typeof r.data!="string"&&(o[0]|=128),t.enqueue(o),t.enqueue(e)})}})}let Vh;function Au(r){return r.reduce((t,e)=>t+e.length,0)}function Eu(r,t){if(r[0].length===t)return r.shift();const e=new Uint8Array(t);let i=0;for(let o=0;o<t;o++)e[o]=r[0][i++],i===r[0].length&&(r.shift(),i=0);return r.length&&i<r[0].length&&(r[0]=r[0].slice(i)),e}function nR(r,t){Vh||(Vh=new TextDecoder);const e=[];let i=0,o=-1,u=!1;return new TransformStream({transform(c,h){for(e.push(c);;){if(i===0){if(Au(e)<1)break;const p=Eu(e,1);u=(p[0]&128)===128,o=p[0]&127,o<126?i=3:o===126?i=1:i=2}else if(i===1){if(Au(e)<2)break;const p=Eu(e,2);o=new DataView(p.buffer,p.byteOffset,p.length).getUint16(0),i=3}else if(i===2){if(Au(e)<8)break;const p=Eu(e,8),g=new DataView(p.buffer,p.byteOffset,p.length),y=g.getUint32(0);if(y>Math.pow(2,21)-1){h.enqueue(xd);break}o=y*Math.pow(2,32)+g.getUint32(4),i=3}else{if(Au(e)<o)break;const p=Eu(e,o);h.enqueue(rp(u?p:Vh.decode(p),t)),i=0}if(o===0||o>r){h.enqueue(xd);break}}}})}const lA=4;function le(r){if(r)return sR(r)}function sR(r){for(var t in le.prototype)r[t]=le.prototype[t];return r}le.prototype.on=le.prototype.addEventListener=function(r,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(t),this};le.prototype.once=function(r,t){function e(){this.off(r,e),t.apply(this,arguments)}return e.fn=t,this.on(r,e),this};le.prototype.off=le.prototype.removeListener=le.prototype.removeAllListeners=le.prototype.removeEventListener=function(r,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var e=this._callbacks["$"+r];if(!e)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var i,o=0;o<e.length;o++)if(i=e[o],i===t||i.fn===t){e.splice(o,1);break}return e.length===0&&delete this._callbacks["$"+r],this};le.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),e=this._callbacks["$"+r],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(e){e=e.slice(0);for(var i=0,o=e.length;i<o;++i)e[i].apply(this,t)}return this};le.prototype.emitReserved=le.prototype.emit;le.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]};le.prototype.hasListeners=function(r){return!!this.listeners(r).length};const sc=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,e)=>e(t,0),wn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),iR="arraybuffer";function uA(r,...t){return t.reduce((e,i)=>(r.hasOwnProperty(i)&&(e[i]=r[i]),e),{})}const rR=wn.setTimeout,aR=wn.clearTimeout;function ic(r,t){t.useNativeTimers?(r.setTimeoutFn=rR.bind(wn),r.clearTimeoutFn=aR.bind(wn)):(r.setTimeoutFn=wn.setTimeout.bind(wn),r.clearTimeoutFn=wn.clearTimeout.bind(wn))}const oR=1.33;function lR(r){return typeof r=="string"?uR(r):Math.ceil((r.byteLength||r.size)*oR)}function uR(r){let t=0,e=0;for(let i=0,o=r.length;i<o;i++)t=r.charCodeAt(i),t<128?e+=1:t<2048?e+=2:t<55296||t>=57344?e+=3:(i++,e+=4);return e}function cA(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function cR(r){let t="";for(let e in r)r.hasOwnProperty(e)&&(t.length&&(t+="&"),t+=encodeURIComponent(e)+"="+encodeURIComponent(r[e]));return t}function fR(r){let t={},e=r.split("&");for(let i=0,o=e.length;i<o;i++){let u=e[i].split("=");t[decodeURIComponent(u[0])]=decodeURIComponent(u[1])}return t}class hR extends Error{constructor(t,e,i){super(t),this.description=e,this.context=i,this.type="TransportError"}}class ap extends le{constructor(t){super(),this.writable=!1,ic(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,e,i){return super.emitReserved("error",new hR(t,e,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=rp(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,e={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const e=cR(t);return e.length?"?"+e:""}}class dR extends ap{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||e()})),this.writable||(i++,this.once("drain",function(){--i||e()}))}else e()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const e=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};tR(t,this.socket.binaryType).forEach(e),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,WN(t,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",e=this.query||{};return this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=cA()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.createUri(t,e)}}let fA=!1;try{fA=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const pR=fA;function gR(){}class yR extends dR{constructor(t){if(super(t),typeof location<"u"){const e=location.protocol==="https:";let i=location.port;i||(i=e?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||i!==t.port}}doWrite(t,e){const i=this.request({method:"POST",data:t});i.on("success",e),i.on("error",(o,u)=>{this.onError("xhr post error",o,u)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(e,i)=>{this.onError("xhr poll error",e,i)}),this.pollXhr=t}}class Qn extends le{constructor(t,e,i){super(),this.createRequest=t,ic(this,i),this._opts=i,this._method=i.method||"GET",this._uri=e,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var t;const e=uA(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this._opts.xd;const i=this._xhr=this.createRequest(e);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var o;i.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=Qn.requestsCount++,Qn.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=gR,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Qn.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Qn.requestsCount=0;Qn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",qb);else if(typeof addEventListener=="function"){const r="onpagehide"in wn?"pagehide":"unload";addEventListener(r,qb,!1)}}function qb(){for(let r in Qn.requests)Qn.requests.hasOwnProperty(r)&&Qn.requests[r].abort()}const mR=function(){const r=hA({xdomain:!1});return r&&r.responseType!==null}();class bR extends yR{constructor(t){super(t);const e=t&&t.forceBase64;this.supportsBinary=mR&&!e}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Qn(hA,this.uri(),t)}}function hA(r){const t=r.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||pR))return new XMLHttpRequest}catch{}if(!t)try{return new wn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const dA=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class wR extends ap{get name(){return"websocket"}doOpen(){const t=this.uri(),e=this.opts.protocols,i=dA?{}:uA(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,e,i)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const i=t[e],o=e===t.length-1;ip(i,this.supportsBinary,u=>{try{this.doWrite(i,u)}catch{}o&&sc(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=cA()),this.supportsBinary||(e.b64=1),this.createUri(t,e)}}const Kh=wn.WebSocket||wn.MozWebSocket;class vR extends wR{createSocket(t,e,i){return dA?new Kh(t,e,i):e?new Kh(t,e):new Kh(t)}doWrite(t,e){this.ws.send(e)}}class AR extends ap{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const e=nR(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=t.readable.pipeThrough(e).getReader(),o=eR();o.readable.pipeTo(t.writable),this._writer=o.writable.getWriter();const u=()=>{i.read().then(({done:h,value:p})=>{h||(this.onPacket(p),u())}).catch(h=>{})};u();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this._writer.write(c).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const i=t[e],o=e===t.length-1;this._writer.write(i).then(()=>{o&&sc(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const ER={websocket:vR,webtransport:AR,polling:bR},SR=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,TR=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Od(r){if(r.length>8e3)throw"URI too long";const t=r,e=r.indexOf("["),i=r.indexOf("]");e!=-1&&i!=-1&&(r=r.substring(0,e)+r.substring(e,i).replace(/:/g,";")+r.substring(i,r.length));let o=SR.exec(r||""),u={},c=14;for(;c--;)u[TR[c]]=o[c]||"";return e!=-1&&i!=-1&&(u.source=t,u.host=u.host.substring(1,u.host.length-1).replace(/;/g,":"),u.authority=u.authority.replace("[","").replace("]","").replace(/;/g,":"),u.ipv6uri=!0),u.pathNames=_R(u,u.path),u.queryKey=xR(u,u.query),u}function _R(r,t){const e=/\/{2,9}/g,i=t.replace(e,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&i.splice(0,1),t.slice(-1)=="/"&&i.splice(i.length-1,1),i}function xR(r,t){const e={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,o,u){o&&(e[o]=u)}),e}const Nd=typeof addEventListener=="function"&&typeof removeEventListener=="function",Ou=[];Nd&&addEventListener("offline",()=>{Ou.forEach(r=>r())},!1);class ii extends le{constructor(t,e){if(super(),this.binaryType=iR,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(e=t,t=null),t){const i=Od(t);e.hostname=i.host,e.secure=i.protocol==="https"||i.protocol==="wss",e.port=i.port,i.query&&(e.query=i.query)}else e.host&&(e.hostname=Od(e.host).host);ic(this,e),this.secure=e.secure!=null?e.secure:typeof location<"u"&&location.protocol==="https:",e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=e.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},e.transports.forEach(i=>{const o=i.prototype.name;this.transports.push(o),this._transportsByName[o]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},e),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=fR(this.opts.query)),Nd&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ou.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const e=Object.assign({},this.opts.query);e.EIO=lA,e.transport=t,this.id&&(e.sid=this.id);const i=Object.assign({},this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&ii.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const e=this.createTransport(t);e.open(),this.setTransport(e)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",ii.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const e=new Error("server error");e.code=t.data,this._onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let i=0;i<this.writeBuffer.length;i++){const o=this.writeBuffer[i].data;if(o&&(e+=lR(o)),i>0&&e>this._maxPayload)return this.writeBuffer.slice(0,i);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,sc(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,e,i){return this._sendPacket("message",t,e,i),this}send(t,e,i){return this._sendPacket("message",t,e,i),this}_sendPacket(t,e,i,o){if(typeof e=="function"&&(o=e,e=void 0),typeof i=="function"&&(o=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const u={type:t,data:e,options:i};this.emitReserved("packetCreate",u),this.writeBuffer.push(u),o&&this.once("flush",o),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),t()},i=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}_onError(t){if(ii.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Nd&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const i=Ou.indexOf(this._offlineEventListener);i!==-1&&Ou.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this._prevBufferLen=0}}}ii.protocol=lA;class OR extends ii{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let e=this.createTransport(t),i=!1;ii.priorWebsocketSuccess=!1;const o=()=>{i||(e.send([{type:"ping",data:"probe"}]),e.once("packet",m=>{if(!i)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;ii.priorWebsocketSuccess=e.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(y(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{const v=new Error("probe error");v.transport=e.name,this.emitReserved("upgradeError",v)}}))};function u(){i||(i=!0,y(),e.close(),e=null)}const c=m=>{const v=new Error("probe error: "+m);v.transport=e.name,u(),this.emitReserved("upgradeError",v)};function h(){c("transport closed")}function p(){c("socket closed")}function g(m){e&&m.name!==e.name&&u()}const y=()=>{e.removeListener("open",o),e.removeListener("error",c),e.removeListener("close",h),this.off("close",p),this.off("upgrading",g)};e.once("open",o),e.once("error",c),e.once("close",h),this.once("close",p),this.once("upgrading",g),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{i||e.open()},200):e.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const e=[];for(let i=0;i<t.length;i++)~this.transports.indexOf(t[i])&&e.push(t[i]);return e}}let NR=class extends OR{constructor(t,e={}){const i=typeof t=="object"?t:e;(!i.transports||i.transports&&typeof i.transports[0]=="string")&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(o=>ER[o]).filter(o=>!!o)),super(t,i)}};function RR(r,t="",e){let i=r;e=e||typeof location<"u"&&location,r==null&&(r=e.protocol+"//"+e.host),typeof r=="string"&&(r.charAt(0)==="/"&&(r.charAt(1)==="/"?r=e.protocol+r:r=e.host+r),/^(https?|wss?):\/\//.test(r)||(typeof e<"u"?r=e.protocol+"//"+r:r="https://"+r),i=Od(r)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const u=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+u+":"+i.port+t,i.href=i.protocol+"://"+u+(e&&e.port===i.port?"":":"+i.port),i}const CR=typeof ArrayBuffer=="function",kR=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r.buffer instanceof ArrayBuffer,pA=Object.prototype.toString,BR=typeof Blob=="function"||typeof Blob<"u"&&pA.call(Blob)==="[object BlobConstructor]",UR=typeof File=="function"||typeof File<"u"&&pA.call(File)==="[object FileConstructor]";function op(r){return CR&&(r instanceof ArrayBuffer||kR(r))||BR&&r instanceof Blob||UR&&r instanceof File}function Nu(r,t){if(!r||typeof r!="object")return!1;if(Array.isArray(r)){for(let e=0,i=r.length;e<i;e++)if(Nu(r[e]))return!0;return!1}if(op(r))return!0;if(r.toJSON&&typeof r.toJSON=="function"&&arguments.length===1)return Nu(r.toJSON(),!0);for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)&&Nu(r[e]))return!0;return!1}function DR(r){const t=[],e=r.data,i=r;return i.data=Rd(e,t),i.attachments=t.length,{packet:i,buffers:t}}function Rd(r,t){if(!r)return r;if(op(r)){const e={_placeholder:!0,num:t.length};return t.push(r),e}else if(Array.isArray(r)){const e=new Array(r.length);for(let i=0;i<r.length;i++)e[i]=Rd(r[i],t);return e}else if(typeof r=="object"&&!(r instanceof Date)){const e={};for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=Rd(r[i],t));return e}return r}function MR(r,t){return r.data=Cd(r.data,t),delete r.attachments,r}function Cd(r,t){if(!r)return r;if(r&&r._placeholder===!0){if(typeof r.num=="number"&&r.num>=0&&r.num<t.length)return t[r.num];throw new Error("illegal attachments")}else if(Array.isArray(r))for(let e=0;e<r.length;e++)r[e]=Cd(r[e],t);else if(typeof r=="object")for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&(r[e]=Cd(r[e],t));return r}const LR=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],PR=5;var St;(function(r){r[r.CONNECT=0]="CONNECT",r[r.DISCONNECT=1]="DISCONNECT",r[r.EVENT=2]="EVENT",r[r.ACK=3]="ACK",r[r.CONNECT_ERROR=4]="CONNECT_ERROR",r[r.BINARY_EVENT=5]="BINARY_EVENT",r[r.BINARY_ACK=6]="BINARY_ACK"})(St||(St={}));class IR{constructor(t){this.replacer=t}encode(t){return(t.type===St.EVENT||t.type===St.ACK)&&Nu(t)?this.encodeAsBinary({type:t.type===St.EVENT?St.BINARY_EVENT:St.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let e=""+t.type;return(t.type===St.BINARY_EVENT||t.type===St.BINARY_ACK)&&(e+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(e+=t.nsp+","),t.id!=null&&(e+=t.id),t.data!=null&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=DR(t),i=this.encodeAsString(e.packet),o=e.buffers;return o.unshift(i),o}}function Vb(r){return Object.prototype.toString.call(r)==="[object Object]"}class lp extends le{constructor(t){super(),this.reviver=t}add(t){let e;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t);const i=e.type===St.BINARY_EVENT;i||e.type===St.BINARY_ACK?(e.type=i?St.EVENT:St.ACK,this.reconstructor=new jR(e),e.attachments===0&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else if(op(t)||t.base64)if(this.reconstructor)e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let e=0;const i={type:Number(t.charAt(0))};if(St[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===St.BINARY_EVENT||i.type===St.BINARY_ACK){const u=e+1;for(;t.charAt(++e)!=="-"&&e!=t.length;);const c=t.substring(u,e);if(c!=Number(c)||t.charAt(e)!=="-")throw new Error("Illegal attachments");i.attachments=Number(c)}if(t.charAt(e+1)==="/"){const u=e+1;for(;++e&&!(t.charAt(e)===","||e===t.length););i.nsp=t.substring(u,e)}else i.nsp="/";const o=t.charAt(e+1);if(o!==""&&Number(o)==o){const u=e+1;for(;++e;){const c=t.charAt(e);if(c==null||Number(c)!=c){--e;break}if(e===t.length)break}i.id=Number(t.substring(u,e+1))}if(t.charAt(++e)){const u=this.tryParse(t.substr(e));if(lp.isPayloadValid(i.type,u))i.data=u;else throw new Error("invalid payload")}return i}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,e){switch(t){case St.CONNECT:return Vb(e);case St.DISCONNECT:return e===void 0;case St.CONNECT_ERROR:return typeof e=="string"||Vb(e);case St.EVENT:case St.BINARY_EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&LR.indexOf(e[0])===-1);case St.ACK:case St.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class jR{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const e=MR(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const zR=Object.freeze(Object.defineProperty({__proto__:null,Decoder:lp,Encoder:IR,get PacketType(){return St},protocol:PR},Symbol.toStringTag,{value:"Module"}));function Nn(r,t,e){return r.on(t,e),function(){r.off(t,e)}}const HR=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class gA extends le{constructor(t,e,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Nn(t,"open",this.onopen.bind(this)),Nn(t,"packet",this.onpacket.bind(this)),Nn(t,"error",this.onerror.bind(this)),Nn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){var i,o,u;if(HR.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(e.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;const c={type:St.EVENT,data:e};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof e[e.length-1]=="function"){const y=this.ids++,m=e.pop();this._registerAckCallback(y,m),c.id=y}const h=(o=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||o===void 0?void 0:o.writable,p=this.connected&&!(!((u=this.io.engine)===null||u===void 0)&&u._hasPingExpired());return this.flags.volatile&&!h||(p?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this}_registerAckCallback(t,e){var i;const o=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(o===void 0){this.acks[t]=e;return}const u=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let h=0;h<this.sendBuffer.length;h++)this.sendBuffer[h].id===t&&this.sendBuffer.splice(h,1);e.call(this,new Error("operation has timed out"))},o),c=(...h)=>{this.io.clearTimeoutFn(u),e.apply(this,h)};c.withError=!0,this.acks[t]=c}emitWithAck(t,...e){return new Promise((i,o)=>{const u=(c,h)=>c?o(c):i(h);u.withError=!0,e.push(u),this.emit(t,...e)})}_addToQueue(t){let e;typeof t[t.length-1]=="function"&&(e=t.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((o,...u)=>i!==this._queue[0]?void 0:(o!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(o)):(this._queue.shift(),e&&e(null,...u)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const e=this._queue[0];e.pending&&!t||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:St.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(i=>String(i.id)===t)){const i=this.acks[t];delete this.acks[t],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case St.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case St.EVENT:case St.BINARY_EVENT:this.onevent(t);break;case St.ACK:case St.BINARY_ACK:this.onack(t);break;case St.DISCONNECT:this.ondisconnect();break;case St.CONNECT_ERROR:this.destroy();const i=new Error(t.data.message);i.data=t.data.data,this.emitReserved("connect_error",i);break}}onevent(t){const e=t.data||[];t.id!=null&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const i of e)i.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const e=this;let i=!1;return function(...o){i||(i=!0,e.packet({type:St.ACK,id:t,data:o}))}}onack(t){const e=this.acks[t.id];typeof e=="function"&&(delete this.acks[t.id],e.withError&&t.data.unshift(null),e.apply(this,t.data))}onconnect(t,e){this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:St.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let i=0;i<e.length;i++)if(t===e[i])return e.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let i=0;i<e.length;i++)if(t===e[i])return e.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const i of e)i.apply(this,t.data)}}}function da(r){r=r||{},this.ms=r.min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0}da.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),e=Math.floor(t*this.jitter*r);r=(Math.floor(t*10)&1)==0?r-e:r+e}return Math.min(r,this.max)|0};da.prototype.reset=function(){this.attempts=0};da.prototype.setMin=function(r){this.ms=r};da.prototype.setMax=function(r){this.max=r};da.prototype.setJitter=function(r){this.jitter=r};class kd extends le{constructor(t,e){var i;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.opts=e,ic(this,e),this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor((i=e.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new da({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(e.timeout==null?2e4:e.timeout),this._readyState="closed",this.uri=t;const o=e.parser||zR;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=e.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(e=this.backoff)===null||e===void 0||e.setMin(t),this)}randomizationFactor(t){var e;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(e=this.backoff)===null||e===void 0||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(e=this.backoff)===null||e===void 0||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new NR(this.uri,this.opts);const e=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const o=Nn(e,"open",function(){i.onopen(),t&&t()}),u=h=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",h),t?t(h):this.maybeReconnectOnOpen()},c=Nn(e,"error",u);if(this._timeout!==!1){const h=this._timeout,p=this.setTimeoutFn(()=>{o(),u(new Error("timeout")),e.close()},h);this.opts.autoUnref&&p.unref(),this.subs.push(()=>{this.clearTimeoutFn(p)})}return this.subs.push(o),this.subs.push(c),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Nn(t,"ping",this.onping.bind(this)),Nn(t,"data",this.ondata.bind(this)),Nn(t,"error",this.onerror.bind(this)),Nn(t,"close",this.onclose.bind(this)),Nn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(e){this.onclose("parse error",e)}}ondecoded(t){sc(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let i=this.nsps[t];return i?this._autoConnect&&!i.active&&i.connect():(i=new gA(this,t,e),this.nsps[t]=i),i}_destroy(t){const e=Object.keys(this.nsps);for(const i of e)if(this.nsps[i].active)return;this._close()}_packet(t){const e=this.encoder.encode(t);for(let i=0;i<e.length;i++)this.engine.write(e[i],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,e){var i;this.cleanup(),(i=this.engine)===null||i===void 0||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(o=>{o?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",o)):t.onreconnect()}))},e);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const go={};function Ru(r,t){typeof r=="object"&&(t=r,r=void 0),t=t||{};const e=RR(r,t.path||"/socket.io"),i=e.source,o=e.id,u=e.path,c=go[o]&&u in go[o].nsps,h=t.forceNew||t["force new connection"]||t.multiplex===!1||c;let p;return h?p=new kd(i,t):(go[o]||(go[o]=new kd(i,t)),p=go[o]),e.query&&!t.query&&(t.query=e.queryKey),p.socket(e.path,t)}Object.assign(Ru,{Manager:kd,Socket:gA,io:Ru,connect:Ru});const GR=JSON.parse('[{"inputs":[{"internalType":"address","name":"initialOwner","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"OwnableInvalidOwner","type":"error"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"OwnableUnauthorizedAccount","type":"error"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"itemId","type":"uint256"},{"indexed":false,"internalType":"address","name":"bidder","type":"address"},{"indexed":false,"internalType":"uint256","name":"bidAmount","type":"uint256"}],"name":"BidPlaced","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"FeeWithdrawn","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"itemId","type":"uint256"},{"indexed":true,"internalType":"address","name":"nftContract","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"address","name":"seller","type":"address"}],"name":"ItemCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"itemId","type":"uint256"},{"indexed":false,"internalType":"address","name":"buyer","type":"address"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"}],"name":"ItemSold","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"newFeeBps","type":"uint256"}],"name":"PlatformFeeChanged","type":"event"},{"inputs":[],"name":"FEE_DENOMINATOR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"address","name":"","type":"address"}],"name":"bids","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"itemId","type":"uint256"}],"name":"buyNow","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"fetchActiveItems","outputs":[{"components":[{"internalType":"uint256","name":"itemId","type":"uint256"},{"internalType":"address","name":"nftContract","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address payable","name":"seller","type":"address"},{"internalType":"address payable","name":"buyer","type":"address"},{"internalType":"uint256","name":"startPrice","type":"uint256"},{"internalType":"uint256","name":"buyNowPrice","type":"uint256"},{"internalType":"uint256","name":"auctionEndTime","type":"uint256"},{"internalType":"string","name":"tokenURI","type":"string"},{"internalType":"bool","name":"sold","type":"bool"}],"internalType":"struct SimpleNFTmarket.MarketItem[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"itemId","type":"uint256"}],"name":"getItemDetails","outputs":[{"components":[{"internalType":"uint256","name":"itemId","type":"uint256"},{"internalType":"address","name":"nftContract","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address payable","name":"seller","type":"address"},{"internalType":"address payable","name":"buyer","type":"address"},{"internalType":"uint256","name":"startPrice","type":"uint256"},{"internalType":"uint256","name":"buyNowPrice","type":"uint256"},{"internalType":"uint256","name":"auctionEndTime","type":"uint256"},{"internalType":"string","name":"tokenURI","type":"string"},{"internalType":"bool","name":"sold","type":"bool"}],"internalType":"struct SimpleNFTmarket.MarketItem","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"highestBid","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"highestBidder","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"idToMarketItem","outputs":[{"internalType":"uint256","name":"itemId","type":"uint256"},{"internalType":"address","name":"nftContract","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address payable","name":"seller","type":"address"},{"internalType":"address payable","name":"buyer","type":"address"},{"internalType":"uint256","name":"startPrice","type":"uint256"},{"internalType":"uint256","name":"buyNowPrice","type":"uint256"},{"internalType":"uint256","name":"auctionEndTime","type":"uint256"},{"internalType":"string","name":"tokenURI","type":"string"},{"internalType":"bool","name":"sold","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"itemCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"nftContract","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"startPrice","type":"uint256"},{"internalType":"uint256","name":"buyNowPrice","type":"uint256"},{"internalType":"uint256","name":"auctionDuration","type":"uint256"},{"internalType":"string","name":"tokenURI","type":"string"}],"name":"listItem","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"itemId","type":"uint256"}],"name":"placeBid","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"platformFeePercent","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"newFeeBps","type":"uint256"}],"name":"setPlatformFeePercent","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"totalFeesAccumulated","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdrawFees","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),FR=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address","name":"owner","type":"address"}],"name":"ERC721IncorrectOwner","type":"error"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ERC721InsufficientApproval","type":"error"},{"inputs":[{"internalType":"address","name":"approver","type":"address"}],"name":"ERC721InvalidApprover","type":"error"},{"inputs":[{"internalType":"address","name":"operator","type":"address"}],"name":"ERC721InvalidOperator","type":"error"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"ERC721InvalidOwner","type":"error"},{"inputs":[{"internalType":"address","name":"receiver","type":"address"}],"name":"ERC721InvalidReceiver","type":"error"},{"inputs":[{"internalType":"address","name":"sender","type":"address"}],"name":"ERC721InvalidSender","type":"error"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ERC721NonexistentToken","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_fromTokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_toTokenId","type":"uint256"}],"name":"BatchMetadataUpdate","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"MetadataUpdate","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"string","name":"tokenURI","type":"string"}],"name":"mintNFT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),Kb="0x20afD28B62c68ea9F7068A7CEB70B4fFbE59820a",Jb="0x890Bd72170b6Dad51Cdb0129dff13Ce381B9B015",QR=()=>{const{address:r,isConnected:t}=Mo(),[e,i]=Nt.useState(null),[o,u]=Nt.useState(null),[c,h]=Nt.useState(0),[p,g]=Nt.useState(0),[y,m]=Nt.useState(0),[v,E]=Nt.useState(0),[T,S]=Nt.useState(""),[x,D]=Nt.useState(0),[G,L]=Nt.useState(0),[F,K]=Nt.useState(0),[H,J]=Nt.useState(""),[Z,Y]=Nt.useState([]),[nt,ft]=Nt.useState(null),[At,Qt]=Nt.useState(null);Nt.useEffect(()=>{window.ethereum&&t&&new ei(window.ethereum).getSigner().then(ut=>{i(new si(Kb,GR,ut)),u(new si(Jb,FR,ut))})},[t]),Nt.useEffect(()=>{const Q=Ru("http://localhost:5173");return Qt(Q),()=>{Q.close()}},[]);const pe=async()=>{try{await(await e.listItem(Jb,c,p,y,v,T)).wait(),await(await o.approve(Kb,c)).wait(),alert("NFT 등록 완료")}catch(Q){console.error(Q),alert("NFT 등록 실패")}},V=async()=>{try{await(await e.setPlatformFeePercent(x)).wait(),alert("플랫폼 수수료 설정 완료")}catch(Q){console.error(Q),alert("플랫폼 수수료 설정 실패")}},N=async()=>{try{await(await e.placeBid(F,{value:G})).wait(),alert("입찰 완료")}catch(Q){console.error(Q),alert("입찰 실패")}};Nt.useEffect(()=>{if(At)return At.on("BidPlaced",(Q,ut,kt)=>{console.log(`새로운 입찰 발생: Item ID ${Q}, 주소 ${ut}, 입찰가 ${kt} ETH`),alert(`새로운 입찰이 발생했습니다!
Item ID: ${Q}
입찰자: ${ut}
입찰가: ${kt} ETH`)}),()=>{At.off("BidPlaced")}},[At]);const z=async()=>{try{const Q=await o.ownerOf(F);J(Q),alert(`Token ID ${F}의 현재 소유자: ${Q}`)}catch(Q){console.error(Q),alert("소유자 조회 실패")}},X=async()=>{try{await(await e.buyNow(F)).wait(),H&&await(await o.transferFrom(H,r,F)).wait(),alert("즉시 구매 완료")}catch(Q){console.error(Q),alert("즉시 구매 실패")}},it=async()=>{try{const Q=await e.fetchActiveItems();console.log("현재 판매중인 NFT:",Q),Y(Q),alert(`현재 판매중인 NFT ${Q.length}개를 조회했습니다.`)}catch(Q){console.error(Q),alert("현재 판매중인 NFT 조회 실패")}},ct=async()=>{try{const Q=await e.getItemDetails(F);console.log("NFT 상세:",Q),ft(Q),alert(`Item ID ${F}의 상세 정보를 조회했습니다.`)}catch(Q){console.error(Q),alert("NFT 상세 조회 실패")}},Rt=async()=>{try{await(await e.withdrawFees()).wait(),alert("수수료 인출 완료")}catch(Q){console.error(Q),alert("수수료 인출 실패")}};return k.jsx("div",{className:"main-content",children:k.jsxs("div",{className:"nftmarket-container",children:[k.jsx("div",{className:"nftmarket-header",children:k.jsx("h1",{children:"Simple NFT Market"})}),k.jsxs("div",{className:"nft-mint-section",children:[k.jsx("h2",{children:"NFT 등록"}),k.jsx("input",{type:"text",placeholder:"Token ID",value:c,onChange:Q=>h(Number(Q.target.value))}),k.jsx("input",{type:"text",placeholder:"Start Price",value:p,onChange:Q=>g(Number(Q.target.value))}),k.jsx("input",{type:"text",placeholder:"Buy Now Price",value:y,onChange:Q=>m(Number(Q.target.value))}),k.jsx("input",{type:"text",placeholder:"Acction Duration",value:v,onChange:Q=>E(Number(Q.target.value))}),k.jsx("input",{type:"text",placeholder:"Token URI",value:T,onChange:Q=>S(Q.target.value)}),k.jsx("button",{onClick:pe,children:"NFT 등록"})]}),k.jsxs("div",{className:"nft-trade-section",children:[k.jsx("h2",{children:"플랫폼 수수료 설정"}),k.jsx("input",{type:"text",placeholder:"Platform Fee",value:x,onChange:Q=>D(Number(Q.target.value))}),k.jsx("button",{onClick:V,children:"플랫폼 수수료 설정"})]}),k.jsxs("div",{className:"nft-auction-section",children:[k.jsx("h2",{children:"입찰"}),k.jsx("input",{type:"text",placeholder:"item ID",value:F,onChange:Q=>K(Number(Q.target.value))}),k.jsx("input",{type:"text",placeholder:"Bid Price",value:G,onChange:Q=>L(Number(Q.target.value))}),k.jsx("button",{onClick:N,children:"입찰"})]}),k.jsxs("div",{className:"nft-trade-section",children:[k.jsx("h2",{children:"즉시 구매"}),k.jsx("input",{type:"text",placeholder:"item ID",value:F,onChange:Q=>K(Number(Q.target.value))}),k.jsx("button",{onClick:z,children:"현재 소유자 조회"}),k.jsx("button",{onClick:X,children:"즉시 구매"}),H&&k.jsxs("p",{className:"owner-info",children:["현재 소유자: ",H]})]}),k.jsxs("div",{className:"nft-list-section",children:[k.jsx("h2",{children:"NFT 상세 정보 조회"}),k.jsx("input",{type:"text",placeholder:"item ID",value:F,onChange:Q=>K(Number(Q.target.value))}),k.jsx("button",{onClick:ct,children:"상세 정보 조회"}),nt&&k.jsxs("div",{className:"detail-info",children:[k.jsxs("h3",{children:["Item ID ",F," 상세 정보"]}),k.jsxs("ul",{children:[k.jsxs("li",{children:[k.jsx("strong",{children:"Item ID:"})," ",nt.itemId?.toString()||"N/A"]}),k.jsxs("li",{children:[k.jsx("strong",{children:"Token ID:"})," ",nt.tokenId?.toString()||"N/A"]}),k.jsxs("li",{children:[k.jsx("strong",{children:"NFT Contract:"})," ",nt.nftContract||"N/A"]}),k.jsxs("li",{children:[k.jsx("strong",{children:"Seller:"})," ",nt.seller||"N/A"]}),k.jsxs("li",{children:[k.jsx("strong",{children:"Start Price:"})," ",nt.startPrice?.toString()||"N/A"," ETH"]}),k.jsxs("li",{children:[k.jsx("strong",{children:"Buy Now Price:"})," ",nt.buyNowPrice?.toString()||"N/A"," ETH"]}),k.jsxs("li",{children:[k.jsx("strong",{children:"Auction Duration:"})," ",nt.auctionDuration?.toString()||"N/A"," seconds"]}),k.jsxs("li",{children:[k.jsx("strong",{children:"Token URI:"})," ",nt.tokenURI||"N/A"]}),k.jsxs("li",{children:[k.jsx("strong",{children:"Is Active:"})," ",nt.isActive?"Yes":"No"]}),k.jsxs("li",{children:[k.jsx("strong",{children:"Current Bid:"})," ",nt.currentBid?.toString()||"N/A"," ETH"]}),k.jsxs("li",{children:[k.jsx("strong",{children:"Current Bidder:"})," ",nt.currentBidder||"N/A"]}),k.jsxs("li",{children:[k.jsx("strong",{children:"End Time:"})," ",nt.endTime?new Date(Number(nt.endTime)*1e3).toLocaleString():"N/A"]})]})]})]}),k.jsxs("div",{className:"nft-list-section",children:[k.jsx("h2",{children:"현재 판매중인 NFT"}),k.jsx("button",{onClick:it,children:"판매중인 NFT 조회"}),Z.length>0&&k.jsxs("div",{children:[k.jsxs("h3",{children:["판매중인 NFT 목록 (",Z.length,"개)"]}),k.jsx("ul",{children:Z.map((Q,ut)=>k.jsxs("li",{children:[k.jsx("strong",{children:"Item ID:"})," ",Q.itemId?.toString()||"N/A"," |",k.jsx("strong",{children:"Token ID:"})," ",Q.tokenId?.toString()||"N/A"," |",k.jsx("strong",{children:"NFT Contract:"})," ",Q.nftContract||"N/A"," |",k.jsx("strong",{children:"Seller:"})," ",Q.seller||"N/A"," |",k.jsx("strong",{children:"Start Price:"})," ",Q.startPrice?.toString()||"N/A"," ETH |",k.jsx("strong",{children:"Buy Now Price:"})," ",Q.buyNowPrice?.toString()||"N/A"," ETH"]},ut))})]})]}),k.jsxs("div",{className:"nft-trade-section",children:[k.jsx("h2",{children:"누적된 수수료 인출"}),k.jsx("button",{onClick:Rt,children:"수수료 인출"})]})]})})};function qR(){return k.jsx($E,{children:k.jsxs("div",{className:"layout",children:[k.jsx(aS,{}),k.jsxs(WE,{children:[k.jsx(mh,{path:"/",element:k.jsx(f_,{})}),k.jsx(mh,{path:"/simpledex",element:k.jsx(JN,{})}),k.jsx(mh,{path:"/nftmarket",element:k.jsx(QR,{})})]})]})})}const Yb=jE({id:1001,name:"Kairos Testnet",network:"kairos",nativeCurrency:{decimals:18,name:"Kairos KAIA",symbol:"KAIA"},rpcUrls:{default:{http:["https://public-en-kairos.node.kaia.io"]}},blockExplorers:{default:{name:"KaiaScan",url:"https://kairos.kaiascan.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:123390593}},testnet:!0}),VR=zE({chains:[Yb],connectors:[GE()],transports:{[Yb.id]:HE()}}),KR=new FE,yA=document.getElementById("root");if(!yA)throw new Error("Root element not found");rS.createRoot(yA).render(k.jsx(QE.StrictMode,{children:k.jsx(qE,{config:VR,children:k.jsx(VE,{client:KR,children:k.jsx(qR,{})})})}));
