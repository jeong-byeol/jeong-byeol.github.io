import{u as Mo,j as A,_ as jo,r as ye,a as LE,b as PE,d as IE,c as zE,h as HE,i as GE,Q as FE,R as qE,W as QE,e as VE}from"./wagmi-6ZcuvPc5.js";import{r as KE,a as JE,g as Xb,b as YE}from"./vendor-vtvkNrF5.js";import{u as XE,L as ZE,B as $E,R as WE,a as yh}from"./router-CI5skHEK.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();var bh={exports:{}},fo={},wh={exports:{}},vh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0;function ex(){return t0||(t0=1,function(r){function e(C,O){var V=C.length;C.push(O);e:for(;0<V;){var ne=V-1>>>1,le=C[ne];if(0<o(le,O))C[ne]=O,C[V]=le,V=ne;else break e}}function t(C){return C.length===0?null:C[0]}function i(C){if(C.length===0)return null;var O=C[0],V=C.pop();if(V!==O){C[0]=V;e:for(var ne=0,le=C.length,Ce=le>>>1;ne<Ce;){var pe=2*(ne+1)-1,ge=C[pe],De=pe+1,ht=C[De];if(0>o(ge,V))De<le&&0>o(ht,ge)?(C[ne]=ht,C[De]=V,ne=De):(C[ne]=ge,C[pe]=V,ne=pe);else if(De<le&&0>o(ht,V))C[ne]=ht,C[De]=V,ne=De;else break e}}return O}function o(C,O){var V=C.sortIndex-O.sortIndex;return V!==0?V:C.id-O.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var u=Date,h=u.now();r.unstable_now=function(){return u.now()-h}}var p=[],g=[],m=1,y=null,w=3,x=!1,T=!1,S=!1,_=!1,U=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function z(C){for(var O=t(g);O!==null;){if(O.callback===null)i(g);else if(O.startTime<=C)i(g),O.sortIndex=O.expirationTime,e(p,O);else break;O=t(g)}}function K(C){if(S=!1,z(C),!T)if(t(p)!==null)T=!0,H||(H=!0,be());else{var O=t(g);O!==null&&q(K,O.startTime-C)}}var H=!1,J=-1,X=5,he=-1;function te(){return _?!0:!(r.unstable_now()-he<X)}function ce(){if(_=!1,H){var C=r.unstable_now();he=C;var O=!0;try{e:{T=!1,S&&(S=!1,F(J),J=-1),x=!0;var V=w;try{t:{for(z(C),y=t(p);y!==null&&!(y.expirationTime>C&&te());){var ne=y.callback;if(typeof ne=="function"){y.callback=null,w=y.priorityLevel;var le=ne(y.expirationTime<=C);if(C=r.unstable_now(),typeof le=="function"){y.callback=le,z(C),O=!0;break t}y===t(p)&&i(p),z(C)}else i(p);y=t(p)}if(y!==null)O=!0;else{var Ce=t(g);Ce!==null&&q(K,Ce.startTime-C),O=!1}}break e}finally{y=null,w=V,x=!1}O=void 0}}finally{O?be():H=!1}}}var be;if(typeof R=="function")be=function(){R(ce)};else if(typeof MessageChannel<"u"){var Ge=new MessageChannel,ue=Ge.port2;Ge.port1.onmessage=ce,be=function(){ue.postMessage(null)}}else be=function(){U(ce,0)};function q(C,O){J=U(function(){C(r.unstable_now())},O)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(C){C.callback=null},r.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<C?Math.floor(1e3/C):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(C){switch(w){case 1:case 2:case 3:var O=3;break;default:O=w}var V=w;w=O;try{return C()}finally{w=V}},r.unstable_requestPaint=function(){_=!0},r.unstable_runWithPriority=function(C,O){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var V=w;w=C;try{return O()}finally{w=V}},r.unstable_scheduleCallback=function(C,O,V){var ne=r.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ne+V:ne):V=ne,C){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=V+le,C={id:m++,callback:O,priorityLevel:C,startTime:V,expirationTime:le,sortIndex:-1},V>ne?(C.sortIndex=V,e(g,C),t(p)===null&&C===t(g)&&(S?(F(J),J=-1):S=!0,q(K,V-ne))):(C.sortIndex=le,e(p,C),T||x||(T=!0,H||(H=!0,be()))),C},r.unstable_shouldYield=te,r.unstable_wrapCallback=function(C){var O=w;return function(){var V=w;w=O;try{return C.apply(this,arguments)}finally{w=V}}}}(vh)),vh}var n0;function tx(){return n0||(n0=1,wh.exports=ex()),wh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function nx(){if(s0)return fo;s0=1;var r=tx(),e=KE(),t=JE();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function u(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function h(n){if(c(n)!==n)throw Error(i(188))}function p(n){var s=n.alternate;if(!s){if(s=c(n),s===null)throw Error(i(188));return s!==n?null:n}for(var a=n,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return h(f),n;if(d===l)return h(f),s;d=d.sibling}throw Error(i(188))}if(a.return!==l.return)a=f,l=d;else{for(var b=!1,v=f.child;v;){if(v===a){b=!0,a=f,l=d;break}if(v===l){b=!0,l=f,a=d;break}v=v.sibling}if(!b){for(v=d.child;v;){if(v===a){b=!0,a=d,l=f;break}if(v===l){b=!0,l=d,a=f;break}v=v.sibling}if(!b)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?n:s}function g(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=g(n),s!==null)return s;n=n.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),R=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),he=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function be(n){return n===null||typeof n!="object"?null:(n=ce&&n[ce]||n["@@iterator"],typeof n=="function"?n:null)}var Ge=Symbol.for("react.client.reference");function ue(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Ge?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case T:return"Fragment";case _:return"Profiler";case S:return"StrictMode";case K:return"Suspense";case H:return"SuspenseList";case he:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case x:return"Portal";case R:return(n.displayName||"Context")+".Provider";case F:return(n._context.displayName||"Context")+".Consumer";case z:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case J:return s=n.displayName||null,s!==null?s:ue(n.type)||"Memo";case X:s=n._payload,n=n._init;try{return ue(n(s))}catch{}}return null}var q=Array.isArray,C=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},ne=[],le=-1;function Ce(n){return{current:n}}function pe(n){0>le||(n.current=ne[le],ne[le]=null,le--)}function ge(n,s){le++,ne[le]=n.current,n.current=s}var De=Ce(null),ht=Ce(null),Rt=Ce(null),Ut=Ce(null);function Z(n,s){switch(ge(Rt,s),ge(ht,n),ge(De,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?ky(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=ky(s),n=Ry(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}pe(De),ge(De,n)}function Ke(){pe(De),pe(ht),pe(Rt)}function Xt(n){n.memoizedState!==null&&ge(Ut,n);var s=De.current,a=Ry(s,n.type);s!==a&&(ge(ht,n),ge(De,a))}function ci(n){ht.current===n&&(pe(De),pe(ht)),Ut.current===n&&(pe(Ut),ao._currentValue=V)}var Ht=Object.prototype.hasOwnProperty,Dn=r.unstable_scheduleCallback,Es=r.unstable_cancelCallback,qo=r.unstable_shouldYield,Qo=r.unstable_requestPaint,Mn=r.unstable_now,yA=r.unstable_getCurrentPriorityLevel,cp=r.unstable_ImmediatePriority,up=r.unstable_UserBlockingPriority,Vo=r.unstable_NormalPriority,bA=r.unstable_LowPriority,fp=r.unstable_IdlePriority,wA=r.log,vA=r.unstable_setDisableYieldValue,pa=null,Zt=null;function xs(n){if(typeof wA=="function"&&vA(n),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(pa,n)}catch{}}var $t=Math.clz32?Math.clz32:xA,AA=Math.log,EA=Math.LN2;function xA(n){return n>>>=0,n===0?32:31-(AA(n)/EA|0)|0}var Ko=256,Jo=4194304;function ui(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Yo(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,b=n.pingedLanes;n=n.warmLanes;var v=l&134217727;return v!==0?(l=v&~d,l!==0?f=ui(l):(b&=v,b!==0?f=ui(b):a||(a=v&~n,a!==0&&(f=ui(a))))):(v=l&~d,v!==0?f=ui(v):b!==0?f=ui(b):a||(a=l&~n,a!==0&&(f=ui(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function ga(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function SA(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hp(){var n=Ko;return Ko<<=1,(Ko&4194048)===0&&(Ko=256),n}function dp(){var n=Jo;return Jo<<=1,(Jo&62914560)===0&&(Jo=4194304),n}function ru(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function ma(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function TA(n,s,a,l,f,d){var b=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var v=n.entanglements,E=n.expirationTimes,M=n.hiddenUpdates;for(a=b&~a;0<a;){var P=31-$t(a),G=1<<P;v[P]=0,E[P]=-1;var j=M[P];if(j!==null)for(M[P]=null,P=0;P<j.length;P++){var L=j[P];L!==null&&(L.lane&=-536870913)}a&=~G}l!==0&&pp(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(b&~s))}function pp(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-$t(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function gp(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-$t(a),f=1<<l;f&s|n[l]&s&&(n[l]|=s),a&=~f}}function au(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ou(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function mp(){var n=O.p;return n!==0?n:(n=window.event,n===void 0?32:Yy(n.type))}function _A(n,s){var a=O.p;try{return O.p=n,s()}finally{O.p=a}}var Ss=Math.random().toString(36).slice(2),Ct="__reactFiber$"+Ss,Gt="__reactProps$"+Ss,Yi="__reactContainer$"+Ss,lu="__reactEvents$"+Ss,NA="__reactListeners$"+Ss,OA="__reactHandles$"+Ss,yp="__reactResources$"+Ss,ya="__reactMarker$"+Ss;function cu(n){delete n[Ct],delete n[Gt],delete n[lu],delete n[NA],delete n[OA]}function Xi(n){var s=n[Ct];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Yi]||a[Ct]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=Dy(n);n!==null;){if(a=n[Ct])return a;n=Dy(n)}return s}n=a,a=n.parentNode}return null}function Zi(n){if(n=n[Ct]||n[Yi]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function ba(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function $i(n){var s=n[yp];return s||(s=n[yp]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function bt(n){n[ya]=!0}var bp=new Set,wp={};function fi(n,s){Wi(n,s),Wi(n+"Capture",s)}function Wi(n,s){for(wp[n]=s,n=0;n<s.length;n++)bp.add(s[n])}var kA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vp={},Ap={};function RA(n){return Ht.call(Ap,n)?!0:Ht.call(vp,n)?!1:kA.test(n)?Ap[n]=!0:(vp[n]=!0,!1)}function Xo(n,s,a){if(RA(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function Zo(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function Kn(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}var uu,Ep;function er(n){if(uu===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);uu=s&&s[1]||"",Ep=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+uu+n+Ep}var fu=!1;function hu(n,s){if(!n||fu)return"";fu=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(L){var j=L}Reflect.construct(n,[],G)}else{try{G.call()}catch(L){j=L}n.call(G.prototype)}}else{try{throw Error()}catch(L){j=L}(G=n())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(L){if(L&&j&&typeof L.stack=="string")return[L.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),b=d[0],v=d[1];if(b&&v){var E=b.split(`
`),M=v.split(`
`);for(f=l=0;l<E.length&&!E[l].includes("DetermineComponentFrameRoot");)l++;for(;f<M.length&&!M[f].includes("DetermineComponentFrameRoot");)f++;if(l===E.length||f===M.length)for(l=E.length-1,f=M.length-1;1<=l&&0<=f&&E[l]!==M[f];)f--;for(;1<=l&&0<=f;l--,f--)if(E[l]!==M[f]){if(l!==1||f!==1)do if(l--,f--,0>f||E[l]!==M[f]){var P=`
`+E[l].replace(" at new "," at ");return n.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",n.displayName)),P}while(1<=l&&0<=f);break}}}finally{fu=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?er(a):""}function CA(n){switch(n.tag){case 26:case 27:case 5:return er(n.type);case 16:return er("Lazy");case 13:return er("Suspense");case 19:return er("SuspenseList");case 0:case 15:return hu(n.type,!1);case 11:return hu(n.type.render,!1);case 1:return hu(n.type,!0);case 31:return er("Activity");default:return""}}function xp(n){try{var s="";do s+=CA(n),n=n.return;while(n);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function un(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Sp(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function BA(n){var s=Sp(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),l=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(b){l=""+b,d.call(this,b)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function $o(n){n._valueTracker||(n._valueTracker=BA(n))}function Tp(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=Sp(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function Wo(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var UA=/[\n"\\]/g;function fn(n){return n.replace(UA,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function du(n,s,a,l,f,d,b,v){n.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.type=b:n.removeAttribute("type"),s!=null?b==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+un(s)):n.value!==""+un(s)&&(n.value=""+un(s)):b!=="submit"&&b!=="reset"||n.removeAttribute("value"),s!=null?pu(n,b,un(s)):a!=null?pu(n,b,un(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.name=""+un(v):n.removeAttribute("name")}function _p(n,s,a,l,f,d,b,v){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null))return;a=a!=null?""+un(a):"",s=s!=null?""+un(s):a,v||s===n.value||(n.value=s),n.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=v?n.checked:!!l,n.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.name=b)}function pu(n,s,a){s==="number"&&Wo(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function tr(n,s,a,l){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+un(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Np(n,s,a){if(s!=null&&(s=""+un(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+un(a):""}function Op(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(i(92));if(q(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=un(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function nr(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var DA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kp(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||DA.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function Rp(n,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&kp(n,f,l)}else for(var d in s)s.hasOwnProperty(d)&&kp(n,d,s[d])}function gu(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var MA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function el(n){return jA.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var mu=null;function yu(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var sr=null,ir=null;function Cp(n){var s=Zi(n);if(s&&(n=s.stateNode)){var a=n[Gt]||null;e:switch(n=s.stateNode,s.type){case"input":if(du(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+fn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var f=l[Gt]||null;if(!f)throw Error(i(90));du(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&Tp(l)}break e;case"textarea":Np(n,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&tr(n,!!a.multiple,s,!1)}}}var bu=!1;function Bp(n,s,a){if(bu)return n(s,a);bu=!0;try{var l=n(s);return l}finally{if(bu=!1,(sr!==null||ir!==null)&&(Il(),sr&&(s=sr,n=ir,ir=sr=null,Cp(s),n)))for(s=0;s<n.length;s++)Cp(n[s])}}function wa(n,s){var a=n.stateNode;if(a===null)return null;var l=a[Gt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wu=!1;if(Jn)try{var va={};Object.defineProperty(va,"passive",{get:function(){wu=!0}}),window.addEventListener("test",va,va),window.removeEventListener("test",va,va)}catch{wu=!1}var Ts=null,vu=null,tl=null;function Up(){if(tl)return tl;var n,s=vu,a=s.length,l,f="value"in Ts?Ts.value:Ts.textContent,d=f.length;for(n=0;n<a&&s[n]===f[n];n++);var b=a-n;for(l=1;l<=b&&s[a-l]===f[d-l];l++);return tl=f.slice(n,1<l?1-l:void 0)}function nl(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function sl(){return!0}function Dp(){return!1}function Ft(n){function s(a,l,f,d,b){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=b,this.currentTarget=null;for(var v in n)n.hasOwnProperty(v)&&(a=n[v],this[v]=a?a(d):d[v]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?sl:Dp,this.isPropagationStopped=Dp,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=sl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=sl)},persist:function(){},isPersistent:sl}),s}var hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},il=Ft(hi),Aa=m({},hi,{view:0,detail:0}),LA=Ft(Aa),Au,Eu,Ea,rl=m({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Su,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ea&&(Ea&&n.type==="mousemove"?(Au=n.screenX-Ea.screenX,Eu=n.screenY-Ea.screenY):Eu=Au=0,Ea=n),Au)},movementY:function(n){return"movementY"in n?n.movementY:Eu}}),Mp=Ft(rl),PA=m({},rl,{dataTransfer:0}),IA=Ft(PA),zA=m({},Aa,{relatedTarget:0}),xu=Ft(zA),HA=m({},hi,{animationName:0,elapsedTime:0,pseudoElement:0}),GA=Ft(HA),FA=m({},hi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),qA=Ft(FA),QA=m({},hi,{data:0}),jp=Ft(QA),VA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YA(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=JA[n])?!!s[n]:!1}function Su(){return YA}var XA=m({},Aa,{key:function(n){if(n.key){var s=VA[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=nl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?KA[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Su,charCode:function(n){return n.type==="keypress"?nl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?nl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ZA=Ft(XA),$A=m({},rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lp=Ft($A),WA=m({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Su}),e1=Ft(WA),t1=m({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),n1=Ft(t1),s1=m({},rl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),i1=Ft(s1),r1=m({},hi,{newState:0,oldState:0}),a1=Ft(r1),o1=[9,13,27,32],Tu=Jn&&"CompositionEvent"in window,xa=null;Jn&&"documentMode"in document&&(xa=document.documentMode);var l1=Jn&&"TextEvent"in window&&!xa,Pp=Jn&&(!Tu||xa&&8<xa&&11>=xa),Ip=" ",zp=!1;function Hp(n,s){switch(n){case"keyup":return o1.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var rr=!1;function c1(n,s){switch(n){case"compositionend":return Gp(s);case"keypress":return s.which!==32?null:(zp=!0,Ip);case"textInput":return n=s.data,n===Ip&&zp?null:n;default:return null}}function u1(n,s){if(rr)return n==="compositionend"||!Tu&&Hp(n,s)?(n=Up(),tl=vu=Ts=null,rr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Pp&&s.locale!=="ko"?null:s.data;default:return null}}var f1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fp(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!f1[n.type]:s==="textarea"}function qp(n,s,a,l){sr?ir?ir.push(l):ir=[l]:sr=l,s=Ql(s,"onChange"),0<s.length&&(a=new il("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var Sa=null,Ta=null;function h1(n){Sy(n,0)}function al(n){var s=ba(n);if(Tp(s))return n}function Qp(n,s){if(n==="change")return s}var Vp=!1;if(Jn){var _u;if(Jn){var Nu="oninput"in document;if(!Nu){var Kp=document.createElement("div");Kp.setAttribute("oninput","return;"),Nu=typeof Kp.oninput=="function"}_u=Nu}else _u=!1;Vp=_u&&(!document.documentMode||9<document.documentMode)}function Jp(){Sa&&(Sa.detachEvent("onpropertychange",Yp),Ta=Sa=null)}function Yp(n){if(n.propertyName==="value"&&al(Ta)){var s=[];qp(s,Ta,n,yu(n)),Bp(h1,s)}}function d1(n,s,a){n==="focusin"?(Jp(),Sa=s,Ta=a,Sa.attachEvent("onpropertychange",Yp)):n==="focusout"&&Jp()}function p1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return al(Ta)}function g1(n,s){if(n==="click")return al(s)}function m1(n,s){if(n==="input"||n==="change")return al(s)}function y1(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Wt=typeof Object.is=="function"?Object.is:y1;function _a(n,s){if(Wt(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Ht.call(s,f)||!Wt(n[f],s[f]))return!1}return!0}function Xp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Zp(n,s){var a=Xp(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Xp(a)}}function $p(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?$p(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Wp(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Wo(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Wo(n.document)}return s}function Ou(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var b1=Jn&&"documentMode"in document&&11>=document.documentMode,ar=null,ku=null,Na=null,Ru=!1;function eg(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ru||ar==null||ar!==Wo(l)||(l=ar,"selectionStart"in l&&Ou(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Na&&_a(Na,l)||(Na=l,l=Ql(ku,"onSelect"),0<l.length&&(s=new il("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=ar)))}function di(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var or={animationend:di("Animation","AnimationEnd"),animationiteration:di("Animation","AnimationIteration"),animationstart:di("Animation","AnimationStart"),transitionrun:di("Transition","TransitionRun"),transitionstart:di("Transition","TransitionStart"),transitioncancel:di("Transition","TransitionCancel"),transitionend:di("Transition","TransitionEnd")},Cu={},tg={};Jn&&(tg=document.createElement("div").style,"AnimationEvent"in window||(delete or.animationend.animation,delete or.animationiteration.animation,delete or.animationstart.animation),"TransitionEvent"in window||delete or.transitionend.transition);function pi(n){if(Cu[n])return Cu[n];if(!or[n])return n;var s=or[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in tg)return Cu[n]=s[a];return n}var ng=pi("animationend"),sg=pi("animationiteration"),ig=pi("animationstart"),w1=pi("transitionrun"),v1=pi("transitionstart"),A1=pi("transitioncancel"),rg=pi("transitionend"),ag=new Map,Bu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bu.push("scrollEnd");function xn(n,s){ag.set(n,s),fi(s,[n])}var og=new WeakMap;function hn(n,s){if(typeof n=="object"&&n!==null){var a=og.get(n);return a!==void 0?a:(s={value:n,source:s,stack:xp(s)},og.set(n,s),s)}return{value:n,source:s,stack:xp(s)}}var dn=[],lr=0,Uu=0;function ol(){for(var n=lr,s=Uu=lr=0;s<n;){var a=dn[s];dn[s++]=null;var l=dn[s];dn[s++]=null;var f=dn[s];dn[s++]=null;var d=dn[s];if(dn[s++]=null,l!==null&&f!==null){var b=l.pending;b===null?f.next=f:(f.next=b.next,b.next=f),l.pending=f}d!==0&&lg(a,f,d)}}function ll(n,s,a,l){dn[lr++]=n,dn[lr++]=s,dn[lr++]=a,dn[lr++]=l,Uu|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Du(n,s,a,l){return ll(n,s,a,l),cl(n)}function cr(n,s){return ll(n,null,null,s),cl(n)}function lg(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&s!==null&&(f=31-$t(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function cl(n){if(50<$a)throw $a=0,Hf=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var ur={};function E1(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(n,s,a,l){return new E1(n,s,a,l)}function Mu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Yn(n,s){var a=n.alternate;return a===null?(a=en(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function cg(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function ul(n,s,a,l,f,d){var b=0;if(l=n,typeof n=="function")Mu(n)&&(b=1);else if(typeof n=="string")b=SE(n,a,De.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case he:return n=en(31,a,s,f),n.elementType=he,n.lanes=d,n;case T:return gi(a.children,f,d,s);case S:b=8,f|=24;break;case _:return n=en(12,a,s,f|2),n.elementType=_,n.lanes=d,n;case K:return n=en(13,a,s,f),n.elementType=K,n.lanes=d,n;case H:return n=en(19,a,s,f),n.elementType=H,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case U:case R:b=10;break e;case F:b=9;break e;case z:b=11;break e;case J:b=14;break e;case X:b=16,l=null;break e}b=29,a=Error(i(130,n===null?"null":typeof n,"")),l=null}return s=en(b,a,s,f),s.elementType=n,s.type=l,s.lanes=d,s}function gi(n,s,a,l){return n=en(7,n,l,s),n.lanes=a,n}function ju(n,s,a){return n=en(6,n,null,s),n.lanes=a,n}function Lu(n,s,a){return s=en(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var fr=[],hr=0,fl=null,hl=0,pn=[],gn=0,mi=null,Xn=1,Zn="";function yi(n,s){fr[hr++]=hl,fr[hr++]=fl,fl=n,hl=s}function ug(n,s,a){pn[gn++]=Xn,pn[gn++]=Zn,pn[gn++]=mi,mi=n;var l=Xn;n=Zn;var f=32-$t(l)-1;l&=~(1<<f),a+=1;var d=32-$t(s)+f;if(30<d){var b=f-f%5;d=(l&(1<<b)-1).toString(32),l>>=b,f-=b,Xn=1<<32-$t(s)+f|a<<f|l,Zn=d+n}else Xn=1<<d|a<<f|l,Zn=n}function Pu(n){n.return!==null&&(yi(n,1),ug(n,1,0))}function Iu(n){for(;n===fl;)fl=fr[--hr],fr[hr]=null,hl=fr[--hr],fr[hr]=null;for(;n===mi;)mi=pn[--gn],pn[gn]=null,Zn=pn[--gn],pn[gn]=null,Xn=pn[--gn],pn[gn]=null}var Dt=null,$e=null,Be=!1,bi=null,jn=!1,zu=Error(i(519));function wi(n){var s=Error(i(418,""));throw Ra(hn(s,n)),zu}function fg(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[Ct]=n,s[Gt]=l,a){case"dialog":xe("cancel",s),xe("close",s);break;case"iframe":case"object":case"embed":xe("load",s);break;case"video":case"audio":for(a=0;a<eo.length;a++)xe(eo[a],s);break;case"source":xe("error",s);break;case"img":case"image":case"link":xe("error",s),xe("load",s);break;case"details":xe("toggle",s);break;case"input":xe("invalid",s),_p(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),$o(s);break;case"select":xe("invalid",s);break;case"textarea":xe("invalid",s),Op(s,l.value,l.defaultValue,l.children),$o(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||Oy(s.textContent,a)?(l.popover!=null&&(xe("beforetoggle",s),xe("toggle",s)),l.onScroll!=null&&xe("scroll",s),l.onScrollEnd!=null&&xe("scrollend",s),l.onClick!=null&&(s.onclick=Vl),s=!0):s=!1,s||wi(n)}function hg(n){for(Dt=n.return;Dt;)switch(Dt.tag){case 5:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Dt=Dt.return}}function Oa(n){if(n!==Dt)return!1;if(!Be)return hg(n),Be=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||sh(n.type,n.memoizedProps)),a=!a),a&&$e&&wi(n),hg(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(s===0){$e=Tn(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;n=n.nextSibling}$e=null}}else s===27?(s=$e,Hs(n.type)?(n=oh,oh=null,$e=n):$e=s):$e=Dt?Tn(n.stateNode.nextSibling):null;return!0}function ka(){$e=Dt=null,Be=!1}function dg(){var n=bi;return n!==null&&(Vt===null?Vt=n:Vt.push.apply(Vt,n),bi=null),n}function Ra(n){bi===null?bi=[n]:bi.push(n)}var Hu=Ce(null),vi=null,$n=null;function _s(n,s,a){ge(Hu,s._currentValue),s._currentValue=a}function Wn(n){n._currentValue=Hu.current,pe(Hu)}function Gu(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function Fu(n,s,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var b=f.child;d=d.firstContext;e:for(;d!==null;){var v=d;d=f;for(var E=0;E<s.length;E++)if(v.context===s[E]){d.lanes|=a,v=d.alternate,v!==null&&(v.lanes|=a),Gu(d.return,a,n),l||(b=null);break e}d=v.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(i(341));b.lanes|=a,d=b.alternate,d!==null&&(d.lanes|=a),Gu(b,a,n),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===n){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Ca(n,s,a,l){n=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var v=f.type;Wt(f.pendingProps.value,b.value)||(n!==null?n.push(v):n=[v])}}else if(f===Ut.current){if(b=f.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(ao):n=[ao])}f=f.return}n!==null&&Fu(s,n,a,l),s.flags|=262144}function dl(n){for(n=n.firstContext;n!==null;){if(!Wt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ai(n){vi=n,$n=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Bt(n){return pg(vi,n)}function pl(n,s){return vi===null&&Ai(n),pg(n,s)}function pg(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},$n===null){if(n===null)throw Error(i(308));$n=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else $n=$n.next=s;return a}var x1=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},S1=r.unstable_scheduleCallback,T1=r.unstable_NormalPriority,dt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qu(){return{controller:new x1,data:new Map,refCount:0}}function Ba(n){n.refCount--,n.refCount===0&&S1(T1,function(){n.controller.abort()})}var Ua=null,Qu=0,dr=0,pr=null;function _1(n,s){if(Ua===null){var a=Ua=[];Qu=0,dr=Jf(),pr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Qu++,s.then(gg,gg),s}function gg(){if(--Qu===0&&Ua!==null){pr!==null&&(pr.status="fulfilled");var n=Ua;Ua=null,dr=0,pr=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function N1(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var mg=C.S;C.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&_1(n,s),mg!==null&&mg(n,s)};var Ei=Ce(null);function Vu(){var n=Ei.current;return n!==null?n:Fe.pooledCache}function gl(n,s){s===null?ge(Ei,Ei.current):ge(Ei,s.pool)}function yg(){var n=Vu();return n===null?null:{parent:dt._currentValue,pool:n}}var Da=Error(i(460)),bg=Error(i(474)),ml=Error(i(542)),Ku={then:function(){}};function wg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function yl(){}function vg(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(yl,yl),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Eg(n),n;default:if(typeof s.status=="string")s.then(yl,yl);else{if(n=Fe,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Eg(n),n}throw Ma=s,Da}}var Ma=null;function Ag(){if(Ma===null)throw Error(i(459));var n=Ma;return Ma=null,n}function Eg(n){if(n===Da||n===ml)throw Error(i(483))}var Ns=!1;function Ju(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yu(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Os(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ks(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Me&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=cl(n),lg(n,null,a),s}return ll(n,l,s,a),cl(n)}function ja(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,gp(n,a)}}function Xu(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=b:d=d.next=b,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var Zu=!1;function La(){if(Zu){var n=pr;if(n!==null)throw n}}function Pa(n,s,a,l){Zu=!1;var f=n.updateQueue;Ns=!1;var d=f.firstBaseUpdate,b=f.lastBaseUpdate,v=f.shared.pending;if(v!==null){f.shared.pending=null;var E=v,M=E.next;E.next=null,b===null?d=M:b.next=M,b=E;var P=n.alternate;P!==null&&(P=P.updateQueue,v=P.lastBaseUpdate,v!==b&&(v===null?P.firstBaseUpdate=M:v.next=M,P.lastBaseUpdate=E))}if(d!==null){var G=f.baseState;b=0,P=M=E=null,v=d;do{var j=v.lane&-536870913,L=j!==v.lane;if(L?(Oe&j)===j:(l&j)===j){j!==0&&j===dr&&(Zu=!0),P!==null&&(P=P.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var oe=n,ie=v;j=s;var Ie=a;switch(ie.tag){case 1:if(oe=ie.payload,typeof oe=="function"){G=oe.call(Ie,G,j);break e}G=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ie.payload,j=typeof oe=="function"?oe.call(Ie,G,j):oe,j==null)break e;G=m({},G,j);break e;case 2:Ns=!0}}j=v.callback,j!==null&&(n.flags|=64,L&&(n.flags|=8192),L=f.callbacks,L===null?f.callbacks=[j]:L.push(j))}else L={lane:j,tag:v.tag,payload:v.payload,callback:v.callback,next:null},P===null?(M=P=L,E=G):P=P.next=L,b|=j;if(v=v.next,v===null){if(v=f.shared.pending,v===null)break;L=v,v=L.next,L.next=null,f.lastBaseUpdate=L,f.shared.pending=null}}while(!0);P===null&&(E=G),f.baseState=E,f.firstBaseUpdate=M,f.lastBaseUpdate=P,d===null&&(f.shared.lanes=0),Ls|=b,n.lanes=b,n.memoizedState=G}}function xg(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function Sg(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)xg(a[n],s)}var gr=Ce(null),bl=Ce(0);function Tg(n,s){n=as,ge(bl,n),ge(gr,s),as=n|s.baseLanes}function $u(){ge(bl,as),ge(gr,gr.current)}function Wu(){as=bl.current,pe(gr),pe(bl)}var Rs=0,me=null,Le=null,lt=null,wl=!1,mr=!1,xi=!1,vl=0,Ia=0,yr=null,O1=0;function it(){throw Error(i(321))}function ef(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Wt(n[a],s[a]))return!1;return!0}function tf(n,s,a,l,f,d){return Rs=d,me=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,C.H=n===null||n.memoizedState===null?lm:cm,xi=!1,d=a(l,f),xi=!1,mr&&(d=Ng(s,a,l,f)),_g(n),d}function _g(n){C.H=_l;var s=Le!==null&&Le.next!==null;if(Rs=0,lt=Le=me=null,wl=!1,Ia=0,yr=null,s)throw Error(i(300));n===null||wt||(n=n.dependencies,n!==null&&dl(n)&&(wt=!0))}function Ng(n,s,a,l){me=n;var f=0;do{if(mr&&(yr=null),Ia=0,mr=!1,25<=f)throw Error(i(301));if(f+=1,lt=Le=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}C.H=M1,d=s(a,l)}while(mr);return d}function k1(){var n=C.H,s=n.useState()[0];return s=typeof s.then=="function"?za(s):s,n=n.useState()[0],(Le!==null?Le.memoizedState:null)!==n&&(me.flags|=1024),s}function nf(){var n=vl!==0;return vl=0,n}function sf(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function rf(n){if(wl){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}wl=!1}Rs=0,lt=Le=me=null,mr=!1,Ia=vl=0,yr=null}function qt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?me.memoizedState=lt=n:lt=lt.next=n,lt}function ct(){if(Le===null){var n=me.alternate;n=n!==null?n.memoizedState:null}else n=Le.next;var s=lt===null?me.memoizedState:lt.next;if(s!==null)lt=s,Le=n;else{if(n===null)throw me.alternate===null?Error(i(467)):Error(i(310));Le=n,n={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},lt===null?me.memoizedState=lt=n:lt=lt.next=n}return lt}function af(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function za(n){var s=Ia;return Ia+=1,yr===null&&(yr=[]),n=vg(yr,n,s),s=me,(lt===null?s.memoizedState:lt.next)===null&&(s=s.alternate,C.H=s===null||s.memoizedState===null?lm:cm),n}function Al(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return za(n);if(n.$$typeof===R)return Bt(n)}throw Error(i(438,String(n)))}function of(n){var s=null,a=me.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=af(),me.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=te;return s.index++,a}function es(n,s){return typeof s=="function"?s(n):s}function El(n){var s=ct();return lf(s,Le,n)}function lf(n,s,a){var l=n.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var b=f.next;f.next=d.next,d.next=b}s.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{s=f.next;var v=b=null,E=null,M=s,P=!1;do{var G=M.lane&-536870913;if(G!==M.lane?(Oe&G)===G:(Rs&G)===G){var j=M.revertLane;if(j===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),G===dr&&(P=!0);else if((Rs&j)===j){M=M.next,j===dr&&(P=!0);continue}else G={lane:0,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},E===null?(v=E=G,b=d):E=E.next=G,me.lanes|=j,Ls|=j;G=M.action,xi&&a(d,G),d=M.hasEagerState?M.eagerState:a(d,G)}else j={lane:G,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},E===null?(v=E=j,b=d):E=E.next=j,me.lanes|=G,Ls|=G;M=M.next}while(M!==null&&M!==s);if(E===null?b=d:E.next=v,!Wt(d,n.memoizedState)&&(wt=!0,P&&(a=pr,a!==null)))throw a;n.memoizedState=d,n.baseState=b,n.baseQueue=E,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function cf(n){var s=ct(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var b=f=f.next;do d=n(d,b.action),b=b.next;while(b!==f);Wt(d,s.memoizedState)||(wt=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function Og(n,s,a){var l=me,f=ct(),d=Be;if(d){if(a===void 0)throw Error(i(407));a=a()}else a=s();var b=!Wt((Le||f).memoizedState,a);b&&(f.memoizedState=a,wt=!0),f=f.queue;var v=Cg.bind(null,l,f,n);if(Ha(2048,8,v,[n]),f.getSnapshot!==s||b||lt!==null&&lt.memoizedState.tag&1){if(l.flags|=2048,br(9,xl(),Rg.bind(null,l,f,a,s),null),Fe===null)throw Error(i(349));d||(Rs&124)!==0||kg(l,s,a)}return a}function kg(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=me.updateQueue,s===null?(s=af(),me.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Rg(n,s,a,l){s.value=a,s.getSnapshot=l,Bg(s)&&Ug(n)}function Cg(n,s,a){return a(function(){Bg(s)&&Ug(n)})}function Bg(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Wt(n,a)}catch{return!0}}function Ug(n){var s=cr(n,2);s!==null&&an(s,n,2)}function uf(n){var s=qt();if(typeof n=="function"){var a=n;if(n=a(),xi){xs(!0);try{a()}finally{xs(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:n},s}function Dg(n,s,a,l){return n.baseState=a,lf(n,Le,typeof l=="function"?l:es)}function R1(n,s,a,l,f){if(Tl(n))throw Error(i(485));if(n=s.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){d.listeners.push(b)}};C.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,Mg(s,d)):(d.next=a.next,s.pending=a.next=d)}}function Mg(n,s){var a=s.action,l=s.payload,f=n.state;if(s.isTransition){var d=C.T,b={};C.T=b;try{var v=a(f,l),E=C.S;E!==null&&E(b,v),jg(n,s,v)}catch(M){ff(n,s,M)}finally{C.T=d}}else try{d=a(f,l),jg(n,s,d)}catch(M){ff(n,s,M)}}function jg(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Lg(n,s,l)},function(l){return ff(n,s,l)}):Lg(n,s,a)}function Lg(n,s,a){s.status="fulfilled",s.value=a,Pg(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,Mg(n,a)))}function ff(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Pg(s),s=s.next;while(s!==l)}n.action=null}function Pg(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Ig(n,s){return s}function zg(n,s){if(Be){var a=Fe.formState;if(a!==null){e:{var l=me;if(Be){if($e){t:{for(var f=$e,d=jn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Tn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){$e=Tn(f.nextSibling),l=f.data==="F!";break e}}wi(l)}l=!1}l&&(s=a[0])}}return a=qt(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ig,lastRenderedState:s},a.queue=l,a=rm.bind(null,me,l),l.dispatch=a,l=uf(!1),d=mf.bind(null,me,!1,l.queue),l=qt(),f={state:s,dispatch:null,action:n,pending:null},l.queue=f,a=R1.bind(null,me,f,d,a),f.dispatch=a,l.memoizedState=n,[s,a,!1]}function Hg(n){var s=ct();return Gg(s,Le,n)}function Gg(n,s,a){if(s=lf(n,s,Ig)[0],n=El(es)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=za(s)}catch(b){throw b===Da?ml:b}else l=s;s=ct();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(me.flags|=2048,br(9,xl(),C1.bind(null,f,a),null)),[l,d,n]}function C1(n,s){n.action=s}function Fg(n){var s=ct(),a=Le;if(a!==null)return Gg(s,a,n);ct(),s=s.memoizedState,a=ct();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function br(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=me.updateQueue,s===null&&(s=af(),me.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function xl(){return{destroy:void 0,resource:void 0}}function qg(){return ct().memoizedState}function Sl(n,s,a,l){var f=qt();l=l===void 0?null:l,me.flags|=n,f.memoizedState=br(1|s,xl(),a,l)}function Ha(n,s,a,l){var f=ct();l=l===void 0?null:l;var d=f.memoizedState.inst;Le!==null&&l!==null&&ef(l,Le.memoizedState.deps)?f.memoizedState=br(s,d,a,l):(me.flags|=n,f.memoizedState=br(1|s,d,a,l))}function Qg(n,s){Sl(8390656,8,n,s)}function Vg(n,s){Ha(2048,8,n,s)}function Kg(n,s){return Ha(4,2,n,s)}function Jg(n,s){return Ha(4,4,n,s)}function Yg(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Xg(n,s,a){a=a!=null?a.concat([n]):null,Ha(4,4,Yg.bind(null,s,n),a)}function hf(){}function Zg(n,s){var a=ct();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&ef(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function $g(n,s){var a=ct();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&ef(s,l[1]))return l[0];if(l=n(),xi){xs(!0);try{n()}finally{xs(!1)}}return a.memoizedState=[l,s],l}function df(n,s,a){return a===void 0||(Rs&1073741824)!==0?n.memoizedState=s:(n.memoizedState=a,n=ty(),me.lanes|=n,Ls|=n,a)}function Wg(n,s,a,l){return Wt(a,s)?a:gr.current!==null?(n=df(n,a,l),Wt(n,s)||(wt=!0),n):(Rs&42)===0?(wt=!0,n.memoizedState=a):(n=ty(),me.lanes|=n,Ls|=n,s)}function em(n,s,a,l,f){var d=O.p;O.p=d!==0&&8>d?d:8;var b=C.T,v={};C.T=v,mf(n,!1,s,a);try{var E=f(),M=C.S;if(M!==null&&M(v,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var P=N1(E,l);Ga(n,s,P,rn(n))}else Ga(n,s,l,rn(n))}catch(G){Ga(n,s,{then:function(){},status:"rejected",reason:G},rn())}finally{O.p=d,C.T=b}}function B1(){}function pf(n,s,a,l){if(n.tag!==5)throw Error(i(476));var f=tm(n).queue;em(n,f,s,V,a===null?B1:function(){return nm(n),a(l)})}function tm(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:V},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function nm(n){var s=tm(n).next.queue;Ga(n,s,{},rn())}function gf(){return Bt(ao)}function sm(){return ct().memoizedState}function im(){return ct().memoizedState}function U1(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=rn();n=Os(a);var l=ks(s,n,a);l!==null&&(an(l,s,a),ja(l,s,a)),s={cache:qu()},n.payload=s;return}s=s.return}}function D1(n,s,a){var l=rn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Tl(n)?am(s,a):(a=Du(n,s,a,l),a!==null&&(an(a,n,l),om(a,s,l)))}function rm(n,s,a){var l=rn();Ga(n,s,a,l)}function Ga(n,s,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Tl(n))am(s,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var b=s.lastRenderedState,v=d(b,a);if(f.hasEagerState=!0,f.eagerState=v,Wt(v,b))return ll(n,s,f,0),Fe===null&&ol(),!1}catch{}finally{}if(a=Du(n,s,f,l),a!==null)return an(a,n,l),om(a,s,l),!0}return!1}function mf(n,s,a,l){if(l={lane:2,revertLane:Jf(),action:l,hasEagerState:!1,eagerState:null,next:null},Tl(n)){if(s)throw Error(i(479))}else s=Du(n,a,l,2),s!==null&&an(s,n,2)}function Tl(n){var s=n.alternate;return n===me||s!==null&&s===me}function am(n,s){mr=wl=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function om(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,gp(n,a)}}var _l={readContext:Bt,use:Al,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useLayoutEffect:it,useInsertionEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useSyncExternalStore:it,useId:it,useHostTransitionStatus:it,useFormState:it,useActionState:it,useOptimistic:it,useMemoCache:it,useCacheRefresh:it},lm={readContext:Bt,use:Al,useCallback:function(n,s){return qt().memoizedState=[n,s===void 0?null:s],n},useContext:Bt,useEffect:Qg,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,Sl(4194308,4,Yg.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Sl(4194308,4,n,s)},useInsertionEffect:function(n,s){Sl(4,2,n,s)},useMemo:function(n,s){var a=qt();s=s===void 0?null:s;var l=n();if(xi){xs(!0);try{n()}finally{xs(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=qt();if(a!==void 0){var f=a(s);if(xi){xs(!0);try{a(s)}finally{xs(!1)}}}else f=s;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=D1.bind(null,me,n),[l.memoizedState,n]},useRef:function(n){var s=qt();return n={current:n},s.memoizedState=n},useState:function(n){n=uf(n);var s=n.queue,a=rm.bind(null,me,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:hf,useDeferredValue:function(n,s){var a=qt();return df(a,n,s)},useTransition:function(){var n=uf(!1);return n=em.bind(null,me,n.queue,!0,!1),qt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=me,f=qt();if(Be){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),Fe===null)throw Error(i(349));(Oe&124)!==0||kg(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,Qg(Cg.bind(null,l,d,n),[n]),l.flags|=2048,br(9,xl(),Rg.bind(null,l,d,a,s),null),a},useId:function(){var n=qt(),s=Fe.identifierPrefix;if(Be){var a=Zn,l=Xn;a=(l&~(1<<32-$t(l)-1)).toString(32)+a,s="«"+s+"R"+a,a=vl++,0<a&&(s+="H"+a.toString(32)),s+="»"}else a=O1++,s="«"+s+"r"+a.toString(32)+"»";return n.memoizedState=s},useHostTransitionStatus:gf,useFormState:zg,useActionState:zg,useOptimistic:function(n){var s=qt();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=mf.bind(null,me,!0,a),a.dispatch=s,[n,s]},useMemoCache:of,useCacheRefresh:function(){return qt().memoizedState=U1.bind(null,me)}},cm={readContext:Bt,use:Al,useCallback:Zg,useContext:Bt,useEffect:Vg,useImperativeHandle:Xg,useInsertionEffect:Kg,useLayoutEffect:Jg,useMemo:$g,useReducer:El,useRef:qg,useState:function(){return El(es)},useDebugValue:hf,useDeferredValue:function(n,s){var a=ct();return Wg(a,Le.memoizedState,n,s)},useTransition:function(){var n=El(es)[0],s=ct().memoizedState;return[typeof n=="boolean"?n:za(n),s]},useSyncExternalStore:Og,useId:sm,useHostTransitionStatus:gf,useFormState:Hg,useActionState:Hg,useOptimistic:function(n,s){var a=ct();return Dg(a,Le,n,s)},useMemoCache:of,useCacheRefresh:im},M1={readContext:Bt,use:Al,useCallback:Zg,useContext:Bt,useEffect:Vg,useImperativeHandle:Xg,useInsertionEffect:Kg,useLayoutEffect:Jg,useMemo:$g,useReducer:cf,useRef:qg,useState:function(){return cf(es)},useDebugValue:hf,useDeferredValue:function(n,s){var a=ct();return Le===null?df(a,n,s):Wg(a,Le.memoizedState,n,s)},useTransition:function(){var n=cf(es)[0],s=ct().memoizedState;return[typeof n=="boolean"?n:za(n),s]},useSyncExternalStore:Og,useId:sm,useHostTransitionStatus:gf,useFormState:Fg,useActionState:Fg,useOptimistic:function(n,s){var a=ct();return Le!==null?Dg(a,Le,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:of,useCacheRefresh:im},wr=null,Fa=0;function Nl(n){var s=Fa;return Fa+=1,wr===null&&(wr=[]),vg(wr,n,s)}function qa(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Ol(n,s){throw s.$$typeof===y?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function um(n){var s=n._init;return s(n._payload)}function fm(n){function s(B,N){if(n){var D=B.deletions;D===null?(B.deletions=[N],B.flags|=16):D.push(N)}}function a(B,N){if(!n)return null;for(;N!==null;)s(B,N),N=N.sibling;return null}function l(B){for(var N=new Map;B!==null;)B.key!==null?N.set(B.key,B):N.set(B.index,B),B=B.sibling;return N}function f(B,N){return B=Yn(B,N),B.index=0,B.sibling=null,B}function d(B,N,D){return B.index=D,n?(D=B.alternate,D!==null?(D=D.index,D<N?(B.flags|=67108866,N):D):(B.flags|=67108866,N)):(B.flags|=1048576,N)}function b(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function v(B,N,D,I){return N===null||N.tag!==6?(N=ju(D,B.mode,I),N.return=B,N):(N=f(N,D),N.return=B,N)}function E(B,N,D,I){var ee=D.type;return ee===T?P(B,N,D.props.children,I,D.key):N!==null&&(N.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===X&&um(ee)===N.type)?(N=f(N,D.props),qa(N,D),N.return=B,N):(N=ul(D.type,D.key,D.props,null,B.mode,I),qa(N,D),N.return=B,N)}function M(B,N,D,I){return N===null||N.tag!==4||N.stateNode.containerInfo!==D.containerInfo||N.stateNode.implementation!==D.implementation?(N=Lu(D,B.mode,I),N.return=B,N):(N=f(N,D.children||[]),N.return=B,N)}function P(B,N,D,I,ee){return N===null||N.tag!==7?(N=gi(D,B.mode,I,ee),N.return=B,N):(N=f(N,D),N.return=B,N)}function G(B,N,D){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=ju(""+N,B.mode,D),N.return=B,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case w:return D=ul(N.type,N.key,N.props,null,B.mode,D),qa(D,N),D.return=B,D;case x:return N=Lu(N,B.mode,D),N.return=B,N;case X:var I=N._init;return N=I(N._payload),G(B,N,D)}if(q(N)||be(N))return N=gi(N,B.mode,D,null),N.return=B,N;if(typeof N.then=="function")return G(B,Nl(N),D);if(N.$$typeof===R)return G(B,pl(B,N),D);Ol(B,N)}return null}function j(B,N,D,I){var ee=N!==null?N.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return ee!==null?null:v(B,N,""+D,I);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case w:return D.key===ee?E(B,N,D,I):null;case x:return D.key===ee?M(B,N,D,I):null;case X:return ee=D._init,D=ee(D._payload),j(B,N,D,I)}if(q(D)||be(D))return ee!==null?null:P(B,N,D,I,null);if(typeof D.then=="function")return j(B,N,Nl(D),I);if(D.$$typeof===R)return j(B,N,pl(B,D),I);Ol(B,D)}return null}function L(B,N,D,I,ee){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return B=B.get(D)||null,v(N,B,""+I,ee);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case w:return B=B.get(I.key===null?D:I.key)||null,E(N,B,I,ee);case x:return B=B.get(I.key===null?D:I.key)||null,M(N,B,I,ee);case X:var we=I._init;return I=we(I._payload),L(B,N,D,I,ee)}if(q(I)||be(I))return B=B.get(D)||null,P(N,B,I,ee,null);if(typeof I.then=="function")return L(B,N,D,Nl(I),ee);if(I.$$typeof===R)return L(B,N,D,pl(N,I),ee);Ol(N,I)}return null}function oe(B,N,D,I){for(var ee=null,we=null,se=N,re=N=0,At=null;se!==null&&re<D.length;re++){se.index>re?(At=se,se=null):At=se.sibling;var ke=j(B,se,D[re],I);if(ke===null){se===null&&(se=At);break}n&&se&&ke.alternate===null&&s(B,se),N=d(ke,N,re),we===null?ee=ke:we.sibling=ke,we=ke,se=At}if(re===D.length)return a(B,se),Be&&yi(B,re),ee;if(se===null){for(;re<D.length;re++)se=G(B,D[re],I),se!==null&&(N=d(se,N,re),we===null?ee=se:we.sibling=se,we=se);return Be&&yi(B,re),ee}for(se=l(se);re<D.length;re++)At=L(se,B,re,D[re],I),At!==null&&(n&&At.alternate!==null&&se.delete(At.key===null?re:At.key),N=d(At,N,re),we===null?ee=At:we.sibling=At,we=At);return n&&se.forEach(function(Vs){return s(B,Vs)}),Be&&yi(B,re),ee}function ie(B,N,D,I){if(D==null)throw Error(i(151));for(var ee=null,we=null,se=N,re=N=0,At=null,ke=D.next();se!==null&&!ke.done;re++,ke=D.next()){se.index>re?(At=se,se=null):At=se.sibling;var Vs=j(B,se,ke.value,I);if(Vs===null){se===null&&(se=At);break}n&&se&&Vs.alternate===null&&s(B,se),N=d(Vs,N,re),we===null?ee=Vs:we.sibling=Vs,we=Vs,se=At}if(ke.done)return a(B,se),Be&&yi(B,re),ee;if(se===null){for(;!ke.done;re++,ke=D.next())ke=G(B,ke.value,I),ke!==null&&(N=d(ke,N,re),we===null?ee=ke:we.sibling=ke,we=ke);return Be&&yi(B,re),ee}for(se=l(se);!ke.done;re++,ke=D.next())ke=L(se,B,re,ke.value,I),ke!==null&&(n&&ke.alternate!==null&&se.delete(ke.key===null?re:ke.key),N=d(ke,N,re),we===null?ee=ke:we.sibling=ke,we=ke);return n&&se.forEach(function(jE){return s(B,jE)}),Be&&yi(B,re),ee}function Ie(B,N,D,I){if(typeof D=="object"&&D!==null&&D.type===T&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case w:e:{for(var ee=D.key;N!==null;){if(N.key===ee){if(ee=D.type,ee===T){if(N.tag===7){a(B,N.sibling),I=f(N,D.props.children),I.return=B,B=I;break e}}else if(N.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===X&&um(ee)===N.type){a(B,N.sibling),I=f(N,D.props),qa(I,D),I.return=B,B=I;break e}a(B,N);break}else s(B,N);N=N.sibling}D.type===T?(I=gi(D.props.children,B.mode,I,D.key),I.return=B,B=I):(I=ul(D.type,D.key,D.props,null,B.mode,I),qa(I,D),I.return=B,B=I)}return b(B);case x:e:{for(ee=D.key;N!==null;){if(N.key===ee)if(N.tag===4&&N.stateNode.containerInfo===D.containerInfo&&N.stateNode.implementation===D.implementation){a(B,N.sibling),I=f(N,D.children||[]),I.return=B,B=I;break e}else{a(B,N);break}else s(B,N);N=N.sibling}I=Lu(D,B.mode,I),I.return=B,B=I}return b(B);case X:return ee=D._init,D=ee(D._payload),Ie(B,N,D,I)}if(q(D))return oe(B,N,D,I);if(be(D)){if(ee=be(D),typeof ee!="function")throw Error(i(150));return D=ee.call(D),ie(B,N,D,I)}if(typeof D.then=="function")return Ie(B,N,Nl(D),I);if(D.$$typeof===R)return Ie(B,N,pl(B,D),I);Ol(B,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,N!==null&&N.tag===6?(a(B,N.sibling),I=f(N,D),I.return=B,B=I):(a(B,N),I=ju(D,B.mode,I),I.return=B,B=I),b(B)):a(B,N)}return function(B,N,D,I){try{Fa=0;var ee=Ie(B,N,D,I);return wr=null,ee}catch(se){if(se===Da||se===ml)throw se;var we=en(29,se,null,B.mode);return we.lanes=I,we.return=B,we}finally{}}}var vr=fm(!0),hm=fm(!1),mn=Ce(null),Ln=null;function Cs(n){var s=n.alternate;ge(pt,pt.current&1),ge(mn,n),Ln===null&&(s===null||gr.current!==null||s.memoizedState!==null)&&(Ln=n)}function dm(n){if(n.tag===22){if(ge(pt,pt.current),ge(mn,n),Ln===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(Ln=n)}}else Bs()}function Bs(){ge(pt,pt.current),ge(mn,mn.current)}function ts(n){pe(mn),Ln===n&&(Ln=null),pe(pt)}var pt=Ce(0);function kl(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||ah(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function yf(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:m({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var bf={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=rn(),f=Os(l);f.payload=s,a!=null&&(f.callback=a),s=ks(n,f,l),s!==null&&(an(s,n,l),ja(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=rn(),f=Os(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=ks(n,f,l),s!==null&&(an(s,n,l),ja(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=rn(),l=Os(a);l.tag=2,s!=null&&(l.callback=s),s=ks(n,l,a),s!==null&&(an(s,n,a),ja(s,n,a))}};function pm(n,s,a,l,f,d,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,b):s.prototype&&s.prototype.isPureReactComponent?!_a(a,l)||!_a(f,d):!0}function gm(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&bf.enqueueReplaceState(s,s.state,null)}function Si(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=m({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Rl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function mm(n){Rl(n)}function ym(n){console.error(n)}function bm(n){Rl(n)}function Cl(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function wm(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function wf(n,s,a){return a=Os(a),a.tag=3,a.payload={element:null},a.callback=function(){Cl(n,s)},a}function vm(n){return n=Os(n),n.tag=3,n}function Am(n,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){wm(s,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(n.callback=function(){wm(s,a,l),typeof f!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var v=l.stack;this.componentDidCatch(l.value,{componentStack:v!==null?v:""})})}function j1(n,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Ca(s,a,f,!0),a=mn.current,a!==null){switch(a.tag){case 13:return Ln===null?Ff():a.alternate===null&&We===0&&(We=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Ku?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Qf(n,l,f)),!1;case 22:return a.flags|=65536,l===Ku?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Qf(n,l,f)),!1}throw Error(i(435,a.tag))}return Qf(n,l,f),Ff(),!1}if(Be)return s=mn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==zu&&(n=Error(i(422),{cause:l}),Ra(hn(n,a)))):(l!==zu&&(s=Error(i(423),{cause:l}),Ra(hn(s,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=hn(l,a),f=wf(n.stateNode,l,f),Xu(n,f),We!==4&&(We=2)),!1;var d=Error(i(520),{cause:l});if(d=hn(d,a),Za===null?Za=[d]:Za.push(d),We!==4&&(We=2),s===null)return!0;l=hn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=wf(a.stateNode,l,n),Xu(a,n),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ps===null||!Ps.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=vm(f),Am(f,n,a,l),Xu(a,f),!1}a=a.return}while(a!==null);return!1}var Em=Error(i(461)),wt=!1;function Tt(n,s,a,l){s.child=n===null?hm(s,null,a,l):vr(s,n.child,a,l)}function xm(n,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var b={};for(var v in l)v!=="ref"&&(b[v]=l[v])}else b=l;return Ai(s),l=tf(n,s,a,b,d,f),v=nf(),n!==null&&!wt?(sf(n,s,f),ns(n,s,f)):(Be&&v&&Pu(s),s.flags|=1,Tt(n,s,l,f),s.child)}function Sm(n,s,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!Mu(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,Tm(n,s,d,l,f)):(n=ul(a.type,null,l,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(d=n.child,!Nf(n,f)){var b=d.memoizedProps;if(a=a.compare,a=a!==null?a:_a,a(b,l)&&n.ref===s.ref)return ns(n,s,f)}return s.flags|=1,n=Yn(d,l),n.ref=s.ref,n.return=s,s.child=n}function Tm(n,s,a,l,f){if(n!==null){var d=n.memoizedProps;if(_a(d,l)&&n.ref===s.ref)if(wt=!1,s.pendingProps=l=d,Nf(n,f))(n.flags&131072)!==0&&(wt=!0);else return s.lanes=n.lanes,ns(n,s,f)}return vf(n,s,a,l,f)}function _m(n,s,a){var l=s.pendingProps,f=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(f=s.child=n.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;s.childLanes=d&~l}else s.childLanes=0,s.child=null;return Nm(n,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&gl(s,d!==null?d.cachePool:null),d!==null?Tg(s,d):$u(),dm(s);else return s.lanes=s.childLanes=536870912,Nm(n,s,d!==null?d.baseLanes|a:a,a)}else d!==null?(gl(s,d.cachePool),Tg(s,d),Bs(),s.memoizedState=null):(n!==null&&gl(s,null),$u(),Bs());return Tt(n,s,f,a),s.child}function Nm(n,s,a,l){var f=Vu();return f=f===null?null:{parent:dt._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},n!==null&&gl(s,null),$u(),dm(s),n!==null&&Ca(n,s,l,!0),null}function Bl(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function vf(n,s,a,l,f){return Ai(s),a=tf(n,s,a,l,void 0,f),l=nf(),n!==null&&!wt?(sf(n,s,f),ns(n,s,f)):(Be&&l&&Pu(s),s.flags|=1,Tt(n,s,a,f),s.child)}function Om(n,s,a,l,f,d){return Ai(s),s.updateQueue=null,a=Ng(s,l,a,f),_g(n),l=nf(),n!==null&&!wt?(sf(n,s,d),ns(n,s,d)):(Be&&l&&Pu(s),s.flags|=1,Tt(n,s,a,d),s.child)}function km(n,s,a,l,f){if(Ai(s),s.stateNode===null){var d=ur,b=a.contextType;typeof b=="object"&&b!==null&&(d=Bt(b)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=bf,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},Ju(s),b=a.contextType,d.context=typeof b=="object"&&b!==null?Bt(b):ur,d.state=s.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(yf(s,a,b,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(b=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),b!==d.state&&bf.enqueueReplaceState(d,d.state,null),Pa(s,l,d,f),La(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){d=s.stateNode;var v=s.memoizedProps,E=Si(a,v);d.props=E;var M=d.context,P=a.contextType;b=ur,typeof P=="object"&&P!==null&&(b=Bt(P));var G=a.getDerivedStateFromProps;P=typeof G=="function"||typeof d.getSnapshotBeforeUpdate=="function",v=s.pendingProps!==v,P||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v||M!==b)&&gm(s,d,l,b),Ns=!1;var j=s.memoizedState;d.state=j,Pa(s,l,d,f),La(),M=s.memoizedState,v||j!==M||Ns?(typeof G=="function"&&(yf(s,a,G,l),M=s.memoizedState),(E=Ns||pm(s,a,E,l,j,M,b))?(P||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=M),d.props=l,d.state=M,d.context=b,l=E):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,Yu(n,s),b=s.memoizedProps,P=Si(a,b),d.props=P,G=s.pendingProps,j=d.context,M=a.contextType,E=ur,typeof M=="object"&&M!==null&&(E=Bt(M)),v=a.getDerivedStateFromProps,(M=typeof v=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b!==G||j!==E)&&gm(s,d,l,E),Ns=!1,j=s.memoizedState,d.state=j,Pa(s,l,d,f),La();var L=s.memoizedState;b!==G||j!==L||Ns||n!==null&&n.dependencies!==null&&dl(n.dependencies)?(typeof v=="function"&&(yf(s,a,v,l),L=s.memoizedState),(P=Ns||pm(s,a,P,l,j,L,E)||n!==null&&n.dependencies!==null&&dl(n.dependencies))?(M||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,L,E),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,L,E)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||b===n.memoizedProps&&j===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&j===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=L),d.props=l,d.state=L,d.context=E,l=P):(typeof d.componentDidUpdate!="function"||b===n.memoizedProps&&j===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&j===n.memoizedState||(s.flags|=1024),l=!1)}return d=l,Bl(n,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,n!==null&&l?(s.child=vr(s,n.child,null,f),s.child=vr(s,null,a,f)):Tt(n,s,a,f),s.memoizedState=d.state,n=s.child):n=ns(n,s,f),n}function Rm(n,s,a,l){return ka(),s.flags|=256,Tt(n,s,a,l),s.child}var Af={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ef(n){return{baseLanes:n,cachePool:yg()}}function xf(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=yn),n}function Cm(n,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,b;if((b=d)||(b=n!==null&&n.memoizedState===null?!1:(pt.current&2)!==0),b&&(f=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,n===null){if(Be){if(f?Cs(s):Bs(),Be){var v=$e,E;if(E=v){e:{for(E=v,v=jn;E.nodeType!==8;){if(!v){v=null;break e}if(E=Tn(E.nextSibling),E===null){v=null;break e}}v=E}v!==null?(s.memoizedState={dehydrated:v,treeContext:mi!==null?{id:Xn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},E=en(18,null,null,0),E.stateNode=v,E.return=s,s.child=E,Dt=s,$e=null,E=!0):E=!1}E||wi(s)}if(v=s.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return ah(v)?s.lanes=32:s.lanes=536870912,null;ts(s)}return v=l.children,l=l.fallback,f?(Bs(),f=s.mode,v=Ul({mode:"hidden",children:v},f),l=gi(l,f,a,null),v.return=s,l.return=s,v.sibling=l,s.child=v,f=s.child,f.memoizedState=Ef(a),f.childLanes=xf(n,b,a),s.memoizedState=Af,l):(Cs(s),Sf(s,v))}if(E=n.memoizedState,E!==null&&(v=E.dehydrated,v!==null)){if(d)s.flags&256?(Cs(s),s.flags&=-257,s=Tf(n,s,a)):s.memoizedState!==null?(Bs(),s.child=n.child,s.flags|=128,s=null):(Bs(),f=l.fallback,v=s.mode,l=Ul({mode:"visible",children:l.children},v),f=gi(f,v,a,null),f.flags|=2,l.return=s,f.return=s,l.sibling=f,s.child=l,vr(s,n.child,null,a),l=s.child,l.memoizedState=Ef(a),l.childLanes=xf(n,b,a),s.memoizedState=Af,s=f);else if(Cs(s),ah(v)){if(b=v.nextSibling&&v.nextSibling.dataset,b)var M=b.dgst;b=M,l=Error(i(419)),l.stack="",l.digest=b,Ra({value:l,source:null,stack:null}),s=Tf(n,s,a)}else if(wt||Ca(n,s,a,!1),b=(a&n.childLanes)!==0,wt||b){if(b=Fe,b!==null&&(l=a&-a,l=(l&42)!==0?1:au(l),l=(l&(b.suspendedLanes|a))!==0?0:l,l!==0&&l!==E.retryLane))throw E.retryLane=l,cr(n,l),an(b,n,l),Em;v.data==="$?"||Ff(),s=Tf(n,s,a)}else v.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=E.treeContext,$e=Tn(v.nextSibling),Dt=s,Be=!0,bi=null,jn=!1,n!==null&&(pn[gn++]=Xn,pn[gn++]=Zn,pn[gn++]=mi,Xn=n.id,Zn=n.overflow,mi=s),s=Sf(s,l.children),s.flags|=4096);return s}return f?(Bs(),f=l.fallback,v=s.mode,E=n.child,M=E.sibling,l=Yn(E,{mode:"hidden",children:l.children}),l.subtreeFlags=E.subtreeFlags&65011712,M!==null?f=Yn(M,f):(f=gi(f,v,a,null),f.flags|=2),f.return=s,l.return=s,l.sibling=f,s.child=l,l=f,f=s.child,v=n.child.memoizedState,v===null?v=Ef(a):(E=v.cachePool,E!==null?(M=dt._currentValue,E=E.parent!==M?{parent:M,pool:M}:E):E=yg(),v={baseLanes:v.baseLanes|a,cachePool:E}),f.memoizedState=v,f.childLanes=xf(n,b,a),s.memoizedState=Af,l):(Cs(s),a=n.child,n=a.sibling,a=Yn(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(b=s.deletions,b===null?(s.deletions=[n],s.flags|=16):b.push(n)),s.child=a,s.memoizedState=null,a)}function Sf(n,s){return s=Ul({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Ul(n,s){return n=en(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Tf(n,s,a){return vr(s,n.child,null,a),n=Sf(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Bm(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),Gu(n.return,s,a)}function _f(n,s,a,l,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=s,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function Um(n,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;if(Tt(n,s,l.children,a),l=pt.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Bm(n,a,s);else if(n.tag===19)Bm(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(ge(pt,l),f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&kl(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),_f(s,!1,f,a,d);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&kl(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}_f(s,!0,a,null,d);break;case"together":_f(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ns(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),Ls|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(Ca(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,a=Yn(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Yn(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Nf(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&dl(n)))}function L1(n,s,a){switch(s.tag){case 3:Z(s,s.stateNode.containerInfo),_s(s,dt,n.memoizedState.cache),ka();break;case 27:case 5:Xt(s);break;case 4:Z(s,s.stateNode.containerInfo);break;case 10:_s(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Cs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Cm(n,s,a):(Cs(s),n=ns(n,s,a),n!==null?n.sibling:null);Cs(s);break;case 19:var f=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Ca(n,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return Um(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ge(pt,pt.current),l)break;return null;case 22:case 23:return s.lanes=0,_m(n,s,a);case 24:_s(s,dt,n.memoizedState.cache)}return ns(n,s,a)}function Dm(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)wt=!0;else{if(!Nf(n,a)&&(s.flags&128)===0)return wt=!1,L1(n,s,a);wt=(n.flags&131072)!==0}else wt=!1,Be&&(s.flags&1048576)!==0&&ug(s,hl,s.index);switch(s.lanes=0,s.tag){case 16:e:{n=s.pendingProps;var l=s.elementType,f=l._init;if(l=f(l._payload),s.type=l,typeof l=="function")Mu(l)?(n=Si(l,n),s.tag=1,s=km(null,s,l,n,a)):(s.tag=0,s=vf(null,s,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===z){s.tag=11,s=xm(null,s,l,n,a);break e}else if(f===J){s.tag=14,s=Sm(null,s,l,n,a);break e}}throw s=ue(l)||l,Error(i(306,s,""))}}return s;case 0:return vf(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=Si(l,s.pendingProps),km(n,s,l,f,a);case 3:e:{if(Z(s,s.stateNode.containerInfo),n===null)throw Error(i(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,Yu(n,s),Pa(s,l,null,a);var b=s.memoizedState;if(l=b.cache,_s(s,dt,l),l!==d.cache&&Fu(s,[dt],a,!0),La(),l=b.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=Rm(n,s,l,a);break e}else if(l!==f){f=hn(Error(i(424)),s),Ra(f),s=Rm(n,s,l,a);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for($e=Tn(n.firstChild),Dt=s,Be=!0,bi=null,jn=!0,a=hm(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ka(),l===f){s=ns(n,s,a);break e}Tt(n,s,l,a)}s=s.child}return s;case 26:return Bl(n,s),n===null?(a=Py(s.type,null,s.pendingProps,null))?s.memoizedState=a:Be||(a=s.type,n=s.pendingProps,l=Kl(Rt.current).createElement(a),l[Ct]=s,l[Gt]=n,Nt(l,a,n),bt(l),s.stateNode=l):s.memoizedState=Py(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Xt(s),n===null&&Be&&(l=s.stateNode=My(s.type,s.pendingProps,Rt.current),Dt=s,jn=!0,f=$e,Hs(s.type)?(oh=f,$e=Tn(l.firstChild)):$e=f),Tt(n,s,s.pendingProps.children,a),Bl(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Be&&((f=l=$e)&&(l=fE(l,s.type,s.pendingProps,jn),l!==null?(s.stateNode=l,Dt=s,$e=Tn(l.firstChild),jn=!1,f=!0):f=!1),f||wi(s)),Xt(s),f=s.type,d=s.pendingProps,b=n!==null?n.memoizedProps:null,l=d.children,sh(f,d)?l=null:b!==null&&sh(f,b)&&(s.flags|=32),s.memoizedState!==null&&(f=tf(n,s,k1,null,null,a),ao._currentValue=f),Bl(n,s),Tt(n,s,l,a),s.child;case 6:return n===null&&Be&&((n=a=$e)&&(a=hE(a,s.pendingProps,jn),a!==null?(s.stateNode=a,Dt=s,$e=null,n=!0):n=!1),n||wi(s)),null;case 13:return Cm(n,s,a);case 4:return Z(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=vr(s,null,l,a):Tt(n,s,l,a),s.child;case 11:return xm(n,s,s.type,s.pendingProps,a);case 7:return Tt(n,s,s.pendingProps,a),s.child;case 8:return Tt(n,s,s.pendingProps.children,a),s.child;case 12:return Tt(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,_s(s,s.type,l.value),Tt(n,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Ai(s),f=Bt(f),l=l(f),s.flags|=1,Tt(n,s,l,a),s.child;case 14:return Sm(n,s,s.type,s.pendingProps,a);case 15:return Tm(n,s,s.type,s.pendingProps,a);case 19:return Um(n,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},n===null?(a=Ul(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Yn(n.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return _m(n,s,a);case 24:return Ai(s),l=Bt(dt),n===null?(f=Vu(),f===null&&(f=Fe,d=qu(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},Ju(s),_s(s,dt,f)):((n.lanes&a)!==0&&(Yu(n,s),Pa(s,null,null,a),La()),f=n.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),_s(s,dt,l)):(l=d.cache,_s(s,dt,l),l!==f.cache&&Fu(s,[dt],a,!0))),Tt(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ss(n){n.flags|=4}function Mm(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Fy(s)){if(s=mn.current,s!==null&&((Oe&4194048)===Oe?Ln!==null:(Oe&62914560)!==Oe&&(Oe&536870912)===0||s!==Ln))throw Ma=Ku,bg;n.flags|=8192}}function Dl(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?dp():536870912,n.lanes|=s,Sr|=s)}function Qa(n,s){if(!Be)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function Xe(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function P1(n,s,a){var l=s.pendingProps;switch(Iu(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(s),null;case 1:return Xe(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Wn(dt),Ke(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Oa(s)?ss(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,dg())),Xe(s),null;case 26:return a=s.memoizedState,n===null?(ss(s),a!==null?(Xe(s),Mm(s,a)):(Xe(s),s.flags&=-16777217)):a?a!==n.memoizedState?(ss(s),Xe(s),Mm(s,a)):(Xe(s),s.flags&=-16777217):(n.memoizedProps!==l&&ss(s),Xe(s),s.flags&=-16777217),null;case 27:ci(s),a=Rt.current;var f=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==l&&ss(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return Xe(s),null}n=De.current,Oa(s)?fg(s):(n=My(f,l,a),s.stateNode=n,ss(s))}return Xe(s),null;case 5:if(ci(s),a=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&ss(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return Xe(s),null}if(n=De.current,Oa(s))fg(s);else{switch(f=Kl(Rt.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[Ct]=s,n[Gt]=l;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=n;e:switch(Nt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ss(s)}}return Xe(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&ss(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(i(166));if(n=Rt.current,Oa(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,f=Dt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Ct]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Oy(n.nodeValue,a)),n||wi(s)}else n=Kl(n).createTextNode(l),n[Ct]=s,s.stateNode=n}return Xe(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Oa(s),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Ct]=s}else ka(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Xe(s),f=!1}else f=dg(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(ts(s),s):(ts(s),null)}if(ts(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==n&&a&&(s.child.flags|=8192),Dl(s,s.updateQueue),Xe(s),null;case 4:return Ke(),n===null&&$f(s.stateNode.containerInfo),Xe(s),null;case 10:return Wn(s.type),Xe(s),null;case 19:if(pe(pt),f=s.memoizedState,f===null)return Xe(s),null;if(l=(s.flags&128)!==0,d=f.rendering,d===null)if(l)Qa(f,!1);else{if(We!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(d=kl(n),d!==null){for(s.flags|=128,Qa(f,!1),n=d.updateQueue,s.updateQueue=n,Dl(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)cg(a,n),a=a.sibling;return ge(pt,pt.current&1|2),s.child}n=n.sibling}f.tail!==null&&Mn()>Ll&&(s.flags|=128,l=!0,Qa(f,!1),s.lanes=4194304)}else{if(!l)if(n=kl(d),n!==null){if(s.flags|=128,l=!0,n=n.updateQueue,s.updateQueue=n,Dl(s,n),Qa(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Be)return Xe(s),null}else 2*Mn()-f.renderingStartTime>Ll&&a!==536870912&&(s.flags|=128,l=!0,Qa(f,!1),s.lanes=4194304);f.isBackwards?(d.sibling=s.child,s.child=d):(n=f.last,n!==null?n.sibling=d:s.child=d,f.last=d)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Mn(),s.sibling=null,n=pt.current,ge(pt,l?n&1|2:n&1),s):(Xe(s),null);case 22:case 23:return ts(s),Wu(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(Xe(s),s.subtreeFlags&6&&(s.flags|=8192)):Xe(s),a=s.updateQueue,a!==null&&Dl(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&pe(Ei),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Wn(dt),Xe(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function I1(n,s){switch(Iu(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Wn(dt),Ke(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return ci(s),null;case 13:if(ts(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));ka()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return pe(pt),null;case 4:return Ke(),null;case 10:return Wn(s.type),null;case 22:case 23:return ts(s),Wu(),n!==null&&pe(Ei),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Wn(dt),null;case 25:return null;default:return null}}function jm(n,s){switch(Iu(s),s.tag){case 3:Wn(dt),Ke();break;case 26:case 27:case 5:ci(s);break;case 4:Ke();break;case 13:ts(s);break;case 19:pe(pt);break;case 10:Wn(s.type);break;case 22:case 23:ts(s),Wu(),n!==null&&pe(Ei);break;case 24:Wn(dt)}}function Va(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,b=a.inst;l=d(),b.destroy=l}a=a.next}while(a!==f)}}catch(v){He(s,s.return,v)}}function Us(n,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var b=l.inst,v=b.destroy;if(v!==void 0){b.destroy=void 0,f=s;var E=a,M=v;try{M()}catch(P){He(f,E,P)}}}l=l.next}while(l!==d)}}catch(P){He(s,s.return,P)}}function Lm(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{Sg(s,a)}catch(l){He(n,n.return,l)}}}function Pm(n,s,a){a.props=Si(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){He(n,s,l)}}function Ka(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){He(n,s,f)}}function Pn(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){He(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){He(n,s,f)}else a.current=null}function Im(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){He(n,n.return,f)}}function Of(n,s,a){try{var l=n.stateNode;aE(l,n.type,a,s),l[Gt]=s}catch(f){He(n,n.return,f)}}function zm(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Hs(n.type)||n.tag===4}function kf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||zm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Hs(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Rf(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Vl));else if(l!==4&&(l===27&&Hs(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(Rf(n,s,a),n=n.sibling;n!==null;)Rf(n,s,a),n=n.sibling}function Ml(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&Hs(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Ml(n,s,a),n=n.sibling;n!==null;)Ml(n,s,a),n=n.sibling}function Hm(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Nt(s,l,a),s[Ct]=n,s[Gt]=a}catch(d){He(n,n.return,d)}}var is=!1,rt=!1,Cf=!1,Gm=typeof WeakSet=="function"?WeakSet:Set,vt=null;function z1(n,s){if(n=n.containerInfo,th=Wl,n=Wp(n),Ou(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var b=0,v=-1,E=-1,M=0,P=0,G=n,j=null;t:for(;;){for(var L;G!==a||f!==0&&G.nodeType!==3||(v=b+f),G!==d||l!==0&&G.nodeType!==3||(E=b+l),G.nodeType===3&&(b+=G.nodeValue.length),(L=G.firstChild)!==null;)j=G,G=L;for(;;){if(G===n)break t;if(j===a&&++M===f&&(v=b),j===d&&++P===l&&(E=b),(L=G.nextSibling)!==null)break;G=j,j=G.parentNode}G=L}a=v===-1||E===-1?null:{start:v,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(nh={focusedElem:n,selectionRange:a},Wl=!1,vt=s;vt!==null;)if(s=vt,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,vt=n;else for(;vt!==null;){switch(s=vt,d=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var oe=Si(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(oe,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(ie){He(a,a.return,ie)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)rh(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":rh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,vt=n;break}vt=s.return}}function Fm(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ds(n,a),l&4&&Va(5,a);break;case 1:if(Ds(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(b){He(a,a.return,b)}else{var f=Si(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(b){He(a,a.return,b)}}l&64&&Lm(a),l&512&&Ka(a,a.return);break;case 3:if(Ds(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Sg(n,s)}catch(b){He(a,a.return,b)}}break;case 27:s===null&&l&4&&Hm(a);case 26:case 5:Ds(n,a),s===null&&l&4&&Im(a),l&512&&Ka(a,a.return);break;case 12:Ds(n,a);break;case 13:Ds(n,a),l&4&&Vm(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=Y1.bind(null,a),dE(n,a))));break;case 22:if(l=a.memoizedState!==null||is,!l){s=s!==null&&s.memoizedState!==null||rt,f=is;var d=rt;is=l,(rt=s)&&!d?Ms(n,a,(a.subtreeFlags&8772)!==0):Ds(n,a),is=f,rt=d}break;case 30:break;default:Ds(n,a)}}function qm(n){var s=n.alternate;s!==null&&(n.alternate=null,qm(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&cu(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Je=null,Qt=!1;function rs(n,s,a){for(a=a.child;a!==null;)Qm(n,s,a),a=a.sibling}function Qm(n,s,a){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(pa,a)}catch{}switch(a.tag){case 26:rt||Pn(a,s),rs(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:rt||Pn(a,s);var l=Je,f=Qt;Hs(a.type)&&(Je=a.stateNode,Qt=!1),rs(n,s,a),no(a.stateNode),Je=l,Qt=f;break;case 5:rt||Pn(a,s);case 6:if(l=Je,f=Qt,Je=null,rs(n,s,a),Je=l,Qt=f,Je!==null)if(Qt)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(a.stateNode)}catch(d){He(a,s,d)}else try{Je.removeChild(a.stateNode)}catch(d){He(a,s,d)}break;case 18:Je!==null&&(Qt?(n=Je,Uy(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),uo(n)):Uy(Je,a.stateNode));break;case 4:l=Je,f=Qt,Je=a.stateNode.containerInfo,Qt=!0,rs(n,s,a),Je=l,Qt=f;break;case 0:case 11:case 14:case 15:rt||Us(2,a,s),rt||Us(4,a,s),rs(n,s,a);break;case 1:rt||(Pn(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Pm(a,s,l)),rs(n,s,a);break;case 21:rs(n,s,a);break;case 22:rt=(l=rt)||a.memoizedState!==null,rs(n,s,a),rt=l;break;default:rs(n,s,a)}}function Vm(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{uo(n)}catch(a){He(s,s.return,a)}}function H1(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Gm),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Gm),s;default:throw Error(i(435,n.tag))}}function Bf(n,s){var a=H1(n);s.forEach(function(l){var f=X1.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function tn(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,b=s,v=b;e:for(;v!==null;){switch(v.tag){case 27:if(Hs(v.type)){Je=v.stateNode,Qt=!1;break e}break;case 5:Je=v.stateNode,Qt=!1;break e;case 3:case 4:Je=v.stateNode.containerInfo,Qt=!0;break e}v=v.return}if(Je===null)throw Error(i(160));Qm(d,b,f),Je=null,Qt=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Km(s,n),s=s.sibling}var Sn=null;function Km(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:tn(s,n),nn(n),l&4&&(Us(3,n,n.return),Va(3,n),Us(5,n,n.return));break;case 1:tn(s,n),nn(n),l&512&&(rt||a===null||Pn(a,a.return)),l&64&&is&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Sn;if(tn(s,n),nn(n),l&512&&(rt||a===null||Pn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[ya]||d[Ct]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Nt(d,l,a),d[Ct]=n,bt(d),l=d;break e;case"link":var b=Hy("link","href",f).get(l+(a.href||""));if(b){for(var v=0;v<b.length;v++)if(d=b[v],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(v,1);break t}}d=f.createElement(l),Nt(d,l,a),f.head.appendChild(d);break;case"meta":if(b=Hy("meta","content",f).get(l+(a.content||""))){for(v=0;v<b.length;v++)if(d=b[v],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(v,1);break t}}d=f.createElement(l),Nt(d,l,a),f.head.appendChild(d);break;default:throw Error(i(468,l))}d[Ct]=n,bt(d),l=d}n.stateNode=l}else Gy(f,n.type,n.stateNode);else n.stateNode=zy(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Gy(f,n.type,n.stateNode):zy(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Of(n,n.memoizedProps,a.memoizedProps)}break;case 27:tn(s,n),nn(n),l&512&&(rt||a===null||Pn(a,a.return)),a!==null&&l&4&&Of(n,n.memoizedProps,a.memoizedProps);break;case 5:if(tn(s,n),nn(n),l&512&&(rt||a===null||Pn(a,a.return)),n.flags&32){f=n.stateNode;try{nr(f,"")}catch(L){He(n,n.return,L)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Of(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Cf=!0);break;case 6:if(tn(s,n),nn(n),l&4){if(n.stateNode===null)throw Error(i(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(L){He(n,n.return,L)}}break;case 3:if(Xl=null,f=Sn,Sn=Jl(s.containerInfo),tn(s,n),Sn=f,nn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{uo(s.containerInfo)}catch(L){He(n,n.return,L)}Cf&&(Cf=!1,Jm(n));break;case 4:l=Sn,Sn=Jl(n.stateNode.containerInfo),tn(s,n),nn(n),Sn=l;break;case 12:tn(s,n),nn(n);break;case 13:tn(s,n),nn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Pf=Mn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Bf(n,l)));break;case 22:f=n.memoizedState!==null;var E=a!==null&&a.memoizedState!==null,M=is,P=rt;if(is=M||f,rt=P||E,tn(s,n),rt=P,is=M,nn(n),l&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||E||is||rt||Ti(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){E=a=s;try{if(d=E.stateNode,f)b=d.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{v=E.stateNode;var G=E.memoizedProps.style,j=G!=null&&G.hasOwnProperty("display")?G.display:null;v.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(L){He(E,E.return,L)}}}else if(s.tag===6){if(a===null){E=s;try{E.stateNode.nodeValue=f?"":E.memoizedProps}catch(L){He(E,E.return,L)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Bf(n,a))));break;case 19:tn(s,n),nn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Bf(n,l)));break;case 30:break;case 21:break;default:tn(s,n),nn(n)}}function nn(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if(zm(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var f=a.stateNode,d=kf(n);Ml(n,d,f);break;case 5:var b=a.stateNode;a.flags&32&&(nr(b,""),a.flags&=-33);var v=kf(n);Ml(n,v,b);break;case 3:case 4:var E=a.stateNode.containerInfo,M=kf(n);Rf(n,M,E);break;default:throw Error(i(161))}}catch(P){He(n,n.return,P)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Jm(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;Jm(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Ds(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Fm(n,s.alternate,s),s=s.sibling}function Ti(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Us(4,s,s.return),Ti(s);break;case 1:Pn(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Pm(s,s.return,a),Ti(s);break;case 27:no(s.stateNode);case 26:case 5:Pn(s,s.return),Ti(s);break;case 22:s.memoizedState===null&&Ti(s);break;case 30:Ti(s);break;default:Ti(s)}n=n.sibling}}function Ms(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=n,d=s,b=d.flags;switch(d.tag){case 0:case 11:case 15:Ms(f,d,a),Va(4,d);break;case 1:if(Ms(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(M){He(l,l.return,M)}if(l=d,f=l.updateQueue,f!==null){var v=l.stateNode;try{var E=f.shared.hiddenCallbacks;if(E!==null)for(f.shared.hiddenCallbacks=null,f=0;f<E.length;f++)xg(E[f],v)}catch(M){He(l,l.return,M)}}a&&b&64&&Lm(d),Ka(d,d.return);break;case 27:Hm(d);case 26:case 5:Ms(f,d,a),a&&l===null&&b&4&&Im(d),Ka(d,d.return);break;case 12:Ms(f,d,a);break;case 13:Ms(f,d,a),a&&b&4&&Vm(f,d);break;case 22:d.memoizedState===null&&Ms(f,d,a),Ka(d,d.return);break;case 30:break;default:Ms(f,d,a)}s=s.sibling}}function Uf(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Ba(a))}function Df(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Ba(n))}function In(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ym(n,s,a,l),s=s.sibling}function Ym(n,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:In(n,s,a,l),f&2048&&Va(9,s);break;case 1:In(n,s,a,l);break;case 3:In(n,s,a,l),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Ba(n)));break;case 12:if(f&2048){In(n,s,a,l),n=s.stateNode;try{var d=s.memoizedProps,b=d.id,v=d.onPostCommit;typeof v=="function"&&v(b,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(E){He(s,s.return,E)}}else In(n,s,a,l);break;case 13:In(n,s,a,l);break;case 23:break;case 22:d=s.stateNode,b=s.alternate,s.memoizedState!==null?d._visibility&2?In(n,s,a,l):Ja(n,s):d._visibility&2?In(n,s,a,l):(d._visibility|=2,Ar(n,s,a,l,(s.subtreeFlags&10256)!==0)),f&2048&&Uf(b,s);break;case 24:In(n,s,a,l),f&2048&&Df(s.alternate,s);break;default:In(n,s,a,l)}}function Ar(n,s,a,l,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var d=n,b=s,v=a,E=l,M=b.flags;switch(b.tag){case 0:case 11:case 15:Ar(d,b,v,E,f),Va(8,b);break;case 23:break;case 22:var P=b.stateNode;b.memoizedState!==null?P._visibility&2?Ar(d,b,v,E,f):Ja(d,b):(P._visibility|=2,Ar(d,b,v,E,f)),f&&M&2048&&Uf(b.alternate,b);break;case 24:Ar(d,b,v,E,f),f&&M&2048&&Df(b.alternate,b);break;default:Ar(d,b,v,E,f)}s=s.sibling}}function Ja(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,f=l.flags;switch(l.tag){case 22:Ja(a,l),f&2048&&Uf(l.alternate,l);break;case 24:Ja(a,l),f&2048&&Df(l.alternate,l);break;default:Ja(a,l)}s=s.sibling}}var Ya=8192;function Er(n){if(n.subtreeFlags&Ya)for(n=n.child;n!==null;)Xm(n),n=n.sibling}function Xm(n){switch(n.tag){case 26:Er(n),n.flags&Ya&&n.memoizedState!==null&&_E(Sn,n.memoizedState,n.memoizedProps);break;case 5:Er(n);break;case 3:case 4:var s=Sn;Sn=Jl(n.stateNode.containerInfo),Er(n),Sn=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=Ya,Ya=16777216,Er(n),Ya=s):Er(n));break;default:Er(n)}}function Zm(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Xa(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];vt=l,Wm(l,n)}Zm(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)$m(n),n=n.sibling}function $m(n){switch(n.tag){case 0:case 11:case 15:Xa(n),n.flags&2048&&Us(9,n,n.return);break;case 3:Xa(n);break;case 12:Xa(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,jl(n)):Xa(n);break;default:Xa(n)}}function jl(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];vt=l,Wm(l,n)}Zm(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Us(8,s,s.return),jl(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,jl(s));break;default:jl(s)}n=n.sibling}}function Wm(n,s){for(;vt!==null;){var a=vt;switch(a.tag){case 0:case 11:case 15:Us(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ba(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,vt=l;else e:for(a=n;vt!==null;){l=vt;var f=l.sibling,d=l.return;if(qm(l),l===a){vt=null;break e}if(f!==null){f.return=d,vt=f;break e}vt=d}}}var G1={getCacheForType:function(n){var s=Bt(dt),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a}},F1=typeof WeakMap=="function"?WeakMap:Map,Me=0,Fe=null,Ee=null,Oe=0,je=0,sn=null,js=!1,xr=!1,Mf=!1,as=0,We=0,Ls=0,_i=0,jf=0,yn=0,Sr=0,Za=null,Vt=null,Lf=!1,Pf=0,Ll=1/0,Pl=null,Ps=null,_t=0,Is=null,Tr=null,_r=0,If=0,zf=null,ey=null,$a=0,Hf=null;function rn(){if((Me&2)!==0&&Oe!==0)return Oe&-Oe;if(C.T!==null){var n=dr;return n!==0?n:Jf()}return mp()}function ty(){yn===0&&(yn=(Oe&536870912)===0||Be?hp():536870912);var n=mn.current;return n!==null&&(n.flags|=32),yn}function an(n,s,a){(n===Fe&&(je===2||je===9)||n.cancelPendingCommit!==null)&&(Nr(n,0),zs(n,Oe,yn,!1)),ma(n,a),((Me&2)===0||n!==Fe)&&(n===Fe&&((Me&2)===0&&(_i|=a),We===4&&zs(n,Oe,yn,!1)),zn(n))}function ny(n,s,a){if((Me&6)!==0)throw Error(i(327));var l=!a&&(s&124)===0&&(s&n.expiredLanes)===0||ga(n,s),f=l?V1(n,s):qf(n,s,!0),d=l;do{if(f===0){xr&&!l&&zs(n,s,0,!1);break}else{if(a=n.current.alternate,d&&!q1(a)){f=qf(n,s,!1),d=!1;continue}if(f===2){if(d=s,n.errorRecoveryDisabledLanes&d)var b=0;else b=n.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var v=n;f=Za;var E=v.current.memoizedState.isDehydrated;if(E&&(Nr(v,b).flags|=256),b=qf(v,b,!1),b!==2){if(Mf&&!E){v.errorRecoveryDisabledLanes|=d,_i|=d,f=4;break e}d=Vt,Vt=f,d!==null&&(Vt===null?Vt=d:Vt.push.apply(Vt,d))}f=b}if(d=!1,f!==2)continue}}if(f===1){Nr(n,0),zs(n,s,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:zs(l,s,yn,!js);break e;case 2:Vt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=Pf+300-Mn(),10<f)){if(zs(l,s,yn,!js),Yo(l,0,!0)!==0)break e;l.timeoutHandle=Cy(sy.bind(null,l,a,Vt,Pl,Lf,s,yn,_i,Sr,js,d,2,-0,0),f);break e}sy(l,a,Vt,Pl,Lf,s,yn,_i,Sr,js,d,0,-0,0)}}break}while(!0);zn(n)}function sy(n,s,a,l,f,d,b,v,E,M,P,G,j,L){if(n.timeoutHandle=-1,G=s.subtreeFlags,(G&8192||(G&16785408)===16785408)&&(ro={stylesheets:null,count:0,unsuspend:TE},Xm(s),G=NE(),G!==null)){n.cancelPendingCommit=G(uy.bind(null,n,s,d,a,l,f,b,v,E,P,1,j,L)),zs(n,d,b,!M);return}uy(n,s,d,a,l,f,b,v,E)}function q1(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Wt(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function zs(n,s,a,l){s&=~jf,s&=~_i,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var f=s;0<f;){var d=31-$t(f),b=1<<d;l[d]=-1,f&=~b}a!==0&&pp(n,a,s)}function Il(){return(Me&6)===0?(Wa(0),!1):!0}function Gf(){if(Ee!==null){if(je===0)var n=Ee.return;else n=Ee,$n=vi=null,rf(n),wr=null,Fa=0,n=Ee;for(;n!==null;)jm(n.alternate,n),n=n.return;Ee=null}}function Nr(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,lE(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Gf(),Fe=n,Ee=a=Yn(n.current,null),Oe=s,je=0,sn=null,js=!1,xr=ga(n,s),Mf=!1,Sr=yn=jf=_i=Ls=We=0,Vt=Za=null,Lf=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var f=31-$t(l),d=1<<f;s|=n[f],l&=~d}return as=s,ol(),a}function iy(n,s){me=null,C.H=_l,s===Da||s===ml?(s=Ag(),je=3):s===bg?(s=Ag(),je=4):je=s===Em?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,sn=s,Ee===null&&(We=1,Cl(n,hn(s,n.current)))}function ry(){var n=C.H;return C.H=_l,n===null?_l:n}function ay(){var n=C.A;return C.A=G1,n}function Ff(){We=4,js||(Oe&4194048)!==Oe&&mn.current!==null||(xr=!0),(Ls&134217727)===0&&(_i&134217727)===0||Fe===null||zs(Fe,Oe,yn,!1)}function qf(n,s,a){var l=Me;Me|=2;var f=ry(),d=ay();(Fe!==n||Oe!==s)&&(Pl=null,Nr(n,s)),s=!1;var b=We;e:do try{if(je!==0&&Ee!==null){var v=Ee,E=sn;switch(je){case 8:Gf(),b=6;break e;case 3:case 2:case 9:case 6:mn.current===null&&(s=!0);var M=je;if(je=0,sn=null,Or(n,v,E,M),a&&xr){b=0;break e}break;default:M=je,je=0,sn=null,Or(n,v,E,M)}}Q1(),b=We;break}catch(P){iy(n,P)}while(!0);return s&&n.shellSuspendCounter++,$n=vi=null,Me=l,C.H=f,C.A=d,Ee===null&&(Fe=null,Oe=0,ol()),b}function Q1(){for(;Ee!==null;)oy(Ee)}function V1(n,s){var a=Me;Me|=2;var l=ry(),f=ay();Fe!==n||Oe!==s?(Pl=null,Ll=Mn()+500,Nr(n,s)):xr=ga(n,s);e:do try{if(je!==0&&Ee!==null){s=Ee;var d=sn;t:switch(je){case 1:je=0,sn=null,Or(n,s,d,1);break;case 2:case 9:if(wg(d)){je=0,sn=null,ly(s);break}s=function(){je!==2&&je!==9||Fe!==n||(je=7),zn(n)},d.then(s,s);break e;case 3:je=7;break e;case 4:je=5;break e;case 7:wg(d)?(je=0,sn=null,ly(s)):(je=0,sn=null,Or(n,s,d,7));break;case 5:var b=null;switch(Ee.tag){case 26:b=Ee.memoizedState;case 5:case 27:var v=Ee;if(!b||Fy(b)){je=0,sn=null;var E=v.sibling;if(E!==null)Ee=E;else{var M=v.return;M!==null?(Ee=M,zl(M)):Ee=null}break t}}je=0,sn=null,Or(n,s,d,5);break;case 6:je=0,sn=null,Or(n,s,d,6);break;case 8:Gf(),We=6;break e;default:throw Error(i(462))}}K1();break}catch(P){iy(n,P)}while(!0);return $n=vi=null,C.H=l,C.A=f,Me=a,Ee!==null?0:(Fe=null,Oe=0,ol(),We)}function K1(){for(;Ee!==null&&!qo();)oy(Ee)}function oy(n){var s=Dm(n.alternate,n,as);n.memoizedProps=n.pendingProps,s===null?zl(n):Ee=s}function ly(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=Om(a,s,s.pendingProps,s.type,void 0,Oe);break;case 11:s=Om(a,s,s.pendingProps,s.type.render,s.ref,Oe);break;case 5:rf(s);default:jm(a,s),s=Ee=cg(s,as),s=Dm(a,s,as)}n.memoizedProps=n.pendingProps,s===null?zl(n):Ee=s}function Or(n,s,a,l){$n=vi=null,rf(s),wr=null,Fa=0;var f=s.return;try{if(j1(n,f,s,a,Oe)){We=1,Cl(n,hn(a,n.current)),Ee=null;return}}catch(d){if(f!==null)throw Ee=f,d;We=1,Cl(n,hn(a,n.current)),Ee=null;return}s.flags&32768?(Be||l===1?n=!0:xr||(Oe&536870912)!==0?n=!1:(js=n=!0,(l===2||l===9||l===3||l===6)&&(l=mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),cy(s,n)):zl(s)}function zl(n){var s=n;do{if((s.flags&32768)!==0){cy(s,js);return}n=s.return;var a=P1(s.alternate,s,as);if(a!==null){Ee=a;return}if(s=s.sibling,s!==null){Ee=s;return}Ee=s=n}while(s!==null);We===0&&(We=5)}function cy(n,s){do{var a=I1(n.alternate,n);if(a!==null){a.flags&=32767,Ee=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Ee=n;return}Ee=n=a}while(n!==null);We=6,Ee=null}function uy(n,s,a,l,f,d,b,v,E){n.cancelPendingCommit=null;do Hl();while(_t!==0);if((Me&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(d=s.lanes|s.childLanes,d|=Uu,TA(n,a,d,b,v,E),n===Fe&&(Ee=Fe=null,Oe=0),Tr=s,Is=n,_r=a,If=d,zf=f,ey=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Z1(Vo,function(){return gy(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=C.T,C.T=null,f=O.p,O.p=2,b=Me,Me|=4;try{z1(n,s,a)}finally{Me=b,O.p=f,C.T=l}}_t=1,fy(),hy(),dy()}}function fy(){if(_t===1){_t=0;var n=Is,s=Tr,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=C.T,C.T=null;var l=O.p;O.p=2;var f=Me;Me|=4;try{Km(s,n);var d=nh,b=Wp(n.containerInfo),v=d.focusedElem,E=d.selectionRange;if(b!==v&&v&&v.ownerDocument&&$p(v.ownerDocument.documentElement,v)){if(E!==null&&Ou(v)){var M=E.start,P=E.end;if(P===void 0&&(P=M),"selectionStart"in v)v.selectionStart=M,v.selectionEnd=Math.min(P,v.value.length);else{var G=v.ownerDocument||document,j=G&&G.defaultView||window;if(j.getSelection){var L=j.getSelection(),oe=v.textContent.length,ie=Math.min(E.start,oe),Ie=E.end===void 0?ie:Math.min(E.end,oe);!L.extend&&ie>Ie&&(b=Ie,Ie=ie,ie=b);var B=Zp(v,ie),N=Zp(v,Ie);if(B&&N&&(L.rangeCount!==1||L.anchorNode!==B.node||L.anchorOffset!==B.offset||L.focusNode!==N.node||L.focusOffset!==N.offset)){var D=G.createRange();D.setStart(B.node,B.offset),L.removeAllRanges(),ie>Ie?(L.addRange(D),L.extend(N.node,N.offset)):(D.setEnd(N.node,N.offset),L.addRange(D))}}}}for(G=[],L=v;L=L.parentNode;)L.nodeType===1&&G.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<G.length;v++){var I=G[v];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}Wl=!!th,nh=th=null}finally{Me=f,O.p=l,C.T=a}}n.current=s,_t=2}}function hy(){if(_t===2){_t=0;var n=Is,s=Tr,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=C.T,C.T=null;var l=O.p;O.p=2;var f=Me;Me|=4;try{Fm(n,s.alternate,s)}finally{Me=f,O.p=l,C.T=a}}_t=3}}function dy(){if(_t===4||_t===3){_t=0,Qo();var n=Is,s=Tr,a=_r,l=ey;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?_t=5:(_t=0,Tr=Is=null,py(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Ps=null),ou(a),s=s.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(pa,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=C.T,f=O.p,O.p=2,C.T=null;try{for(var d=n.onRecoverableError,b=0;b<l.length;b++){var v=l[b];d(v.value,{componentStack:v.stack})}}finally{C.T=s,O.p=f}}(_r&3)!==0&&Hl(),zn(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===Hf?$a++:($a=0,Hf=n):$a=0,Wa(0)}}function py(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Ba(s)))}function Hl(n){return fy(),hy(),dy(),gy()}function gy(){if(_t!==5)return!1;var n=Is,s=If;If=0;var a=ou(_r),l=C.T,f=O.p;try{O.p=32>a?32:a,C.T=null,a=zf,zf=null;var d=Is,b=_r;if(_t=0,Tr=Is=null,_r=0,(Me&6)!==0)throw Error(i(331));var v=Me;if(Me|=4,$m(d.current),Ym(d,d.current,b,a),Me=v,Wa(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(pa,d)}catch{}return!0}finally{O.p=f,C.T=l,py(n,s)}}function my(n,s,a){s=hn(a,s),s=wf(n.stateNode,s,2),n=ks(n,s,2),n!==null&&(ma(n,2),zn(n))}function He(n,s,a){if(n.tag===3)my(n,n,a);else for(;s!==null;){if(s.tag===3){my(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ps===null||!Ps.has(l))){n=hn(a,n),a=vm(2),l=ks(s,a,2),l!==null&&(Am(a,l,s,n),ma(l,2),zn(l));break}}s=s.return}}function Qf(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new F1;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(Mf=!0,f.add(a),n=J1.bind(null,n,s,a),s.then(n,n))}function J1(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Fe===n&&(Oe&a)===a&&(We===4||We===3&&(Oe&62914560)===Oe&&300>Mn()-Pf?(Me&2)===0&&Nr(n,0):jf|=a,Sr===Oe&&(Sr=0)),zn(n)}function yy(n,s){s===0&&(s=dp()),n=cr(n,s),n!==null&&(ma(n,s),zn(n))}function Y1(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),yy(n,a)}function X1(n,s){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(s),yy(n,a)}function Z1(n,s){return Dn(n,s)}var Gl=null,kr=null,Vf=!1,Fl=!1,Kf=!1,Ni=0;function zn(n){n!==kr&&n.next===null&&(kr===null?Gl=kr=n:kr=kr.next=n),Fl=!0,Vf||(Vf=!0,W1())}function Wa(n,s){if(!Kf&&Fl){Kf=!0;do for(var a=!1,l=Gl;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var b=l.suspendedLanes,v=l.pingedLanes;d=(1<<31-$t(42|n)+1)-1,d&=f&~(b&~v),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Ay(l,d))}else d=Oe,d=Yo(l,l===Fe?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ga(l,d)||(a=!0,Ay(l,d));l=l.next}while(a);Kf=!1}}function $1(){by()}function by(){Fl=Vf=!1;var n=0;Ni!==0&&(oE()&&(n=Ni),Ni=0);for(var s=Mn(),a=null,l=Gl;l!==null;){var f=l.next,d=wy(l,s);d===0?(l.next=null,a===null?Gl=f:a.next=f,f===null&&(kr=a)):(a=l,(n!==0||(d&3)!==0)&&(Fl=!0)),l=f}Wa(n)}function wy(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var b=31-$t(d),v=1<<b,E=f[b];E===-1?((v&a)===0||(v&l)!==0)&&(f[b]=SA(v,s)):E<=s&&(n.expiredLanes|=v),d&=~v}if(s=Fe,a=Oe,a=Yo(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&(je===2||je===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Es(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ga(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&Es(l),ou(a)){case 2:case 8:a=up;break;case 32:a=Vo;break;case 268435456:a=fp;break;default:a=Vo}return l=vy.bind(null,n),a=Dn(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&Es(l),n.callbackPriority=2,n.callbackNode=null,2}function vy(n,s){if(_t!==0&&_t!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Hl()&&n.callbackNode!==a)return null;var l=Oe;return l=Yo(n,n===Fe?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(ny(n,l,s),wy(n,Mn()),n.callbackNode!=null&&n.callbackNode===a?vy.bind(null,n):null)}function Ay(n,s){if(Hl())return null;ny(n,s,!0)}function W1(){cE(function(){(Me&6)!==0?Dn(cp,$1):by()})}function Jf(){return Ni===0&&(Ni=hp()),Ni}function Ey(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:el(""+n)}function xy(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function eE(n,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=Ey((f[Gt]||null).action),b=l.submitter;b&&(s=(s=b[Gt]||null)?Ey(s.formAction):b.getAttribute("formAction"),s!==null&&(d=s,b=null));var v=new il("action","action",null,l,f);n.push({event:v,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ni!==0){var E=b?xy(f,b):new FormData(f);pf(a,{pending:!0,data:E,method:f.method,action:d},null,E)}}else typeof d=="function"&&(v.preventDefault(),E=b?xy(f,b):new FormData(f),pf(a,{pending:!0,data:E,method:f.method,action:d},d,E))},currentTarget:f}]})}}for(var Yf=0;Yf<Bu.length;Yf++){var Xf=Bu[Yf],tE=Xf.toLowerCase(),nE=Xf[0].toUpperCase()+Xf.slice(1);xn(tE,"on"+nE)}xn(ng,"onAnimationEnd"),xn(sg,"onAnimationIteration"),xn(ig,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(w1,"onTransitionRun"),xn(v1,"onTransitionStart"),xn(A1,"onTransitionCancel"),xn(rg,"onTransitionEnd"),Wi("onMouseEnter",["mouseout","mouseover"]),Wi("onMouseLeave",["mouseout","mouseover"]),Wi("onPointerEnter",["pointerout","pointerover"]),Wi("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eo));function Sy(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(s)for(var b=l.length-1;0<=b;b--){var v=l[b],E=v.instance,M=v.currentTarget;if(v=v.listener,E!==d&&f.isPropagationStopped())break e;d=v,f.currentTarget=M;try{d(f)}catch(P){Rl(P)}f.currentTarget=null,d=E}else for(b=0;b<l.length;b++){if(v=l[b],E=v.instance,M=v.currentTarget,v=v.listener,E!==d&&f.isPropagationStopped())break e;d=v,f.currentTarget=M;try{d(f)}catch(P){Rl(P)}f.currentTarget=null,d=E}}}}function xe(n,s){var a=s[lu];a===void 0&&(a=s[lu]=new Set);var l=n+"__bubble";a.has(l)||(Ty(s,n,2,!1),a.add(l))}function Zf(n,s,a){var l=0;s&&(l|=4),Ty(a,n,l,s)}var ql="_reactListening"+Math.random().toString(36).slice(2);function $f(n){if(!n[ql]){n[ql]=!0,bp.forEach(function(a){a!=="selectionchange"&&(sE.has(a)||Zf(a,!1,n),Zf(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[ql]||(s[ql]=!0,Zf("selectionchange",!1,s))}}function Ty(n,s,a,l){switch(Yy(s)){case 2:var f=RE;break;case 8:f=CE;break;default:f=hh}a=f.bind(null,s,a,n),f=void 0,!wu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function Wf(n,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var v=l.stateNode.containerInfo;if(v===f)break;if(b===4)for(b=l.return;b!==null;){var E=b.tag;if((E===3||E===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;v!==null;){if(b=Xi(v),b===null)return;if(E=b.tag,E===5||E===6||E===26||E===27){l=d=b;continue e}v=v.parentNode}}l=l.return}Bp(function(){var M=d,P=yu(a),G=[];e:{var j=ag.get(n);if(j!==void 0){var L=il,oe=n;switch(n){case"keypress":if(nl(a)===0)break e;case"keydown":case"keyup":L=ZA;break;case"focusin":oe="focus",L=xu;break;case"focusout":oe="blur",L=xu;break;case"beforeblur":case"afterblur":L=xu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Mp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=IA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=e1;break;case ng:case sg:case ig:L=GA;break;case rg:L=n1;break;case"scroll":case"scrollend":L=LA;break;case"wheel":L=i1;break;case"copy":case"cut":case"paste":L=qA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Lp;break;case"toggle":case"beforetoggle":L=a1}var ie=(s&4)!==0,Ie=!ie&&(n==="scroll"||n==="scrollend"),B=ie?j!==null?j+"Capture":null:j;ie=[];for(var N=M,D;N!==null;){var I=N;if(D=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||D===null||B===null||(I=wa(N,B),I!=null&&ie.push(to(N,I,D))),Ie)break;N=N.return}0<ie.length&&(j=new L(j,oe,null,a,P),G.push({event:j,listeners:ie}))}}if((s&7)===0){e:{if(j=n==="mouseover"||n==="pointerover",L=n==="mouseout"||n==="pointerout",j&&a!==mu&&(oe=a.relatedTarget||a.fromElement)&&(Xi(oe)||oe[Yi]))break e;if((L||j)&&(j=P.window===P?P:(j=P.ownerDocument)?j.defaultView||j.parentWindow:window,L?(oe=a.relatedTarget||a.toElement,L=M,oe=oe?Xi(oe):null,oe!==null&&(Ie=c(oe),ie=oe.tag,oe!==Ie||ie!==5&&ie!==27&&ie!==6)&&(oe=null)):(L=null,oe=M),L!==oe)){if(ie=Mp,I="onMouseLeave",B="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(ie=Lp,I="onPointerLeave",B="onPointerEnter",N="pointer"),Ie=L==null?j:ba(L),D=oe==null?j:ba(oe),j=new ie(I,N+"leave",L,a,P),j.target=Ie,j.relatedTarget=D,I=null,Xi(P)===M&&(ie=new ie(B,N+"enter",oe,a,P),ie.target=D,ie.relatedTarget=Ie,I=ie),Ie=I,L&&oe)t:{for(ie=L,B=oe,N=0,D=ie;D;D=Rr(D))N++;for(D=0,I=B;I;I=Rr(I))D++;for(;0<N-D;)ie=Rr(ie),N--;for(;0<D-N;)B=Rr(B),D--;for(;N--;){if(ie===B||B!==null&&ie===B.alternate)break t;ie=Rr(ie),B=Rr(B)}ie=null}else ie=null;L!==null&&_y(G,j,L,ie,!1),oe!==null&&Ie!==null&&_y(G,Ie,oe,ie,!0)}}e:{if(j=M?ba(M):window,L=j.nodeName&&j.nodeName.toLowerCase(),L==="select"||L==="input"&&j.type==="file")var ee=Qp;else if(Fp(j))if(Vp)ee=m1;else{ee=p1;var we=d1}else L=j.nodeName,!L||L.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?M&&gu(M.elementType)&&(ee=Qp):ee=g1;if(ee&&(ee=ee(n,M))){qp(G,ee,a,P);break e}we&&we(n,j,M),n==="focusout"&&M&&j.type==="number"&&M.memoizedProps.value!=null&&pu(j,"number",j.value)}switch(we=M?ba(M):window,n){case"focusin":(Fp(we)||we.contentEditable==="true")&&(ar=we,ku=M,Na=null);break;case"focusout":Na=ku=ar=null;break;case"mousedown":Ru=!0;break;case"contextmenu":case"mouseup":case"dragend":Ru=!1,eg(G,a,P);break;case"selectionchange":if(b1)break;case"keydown":case"keyup":eg(G,a,P)}var se;if(Tu)e:{switch(n){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else rr?Hp(n,a)&&(re="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(re="onCompositionStart");re&&(Pp&&a.locale!=="ko"&&(rr||re!=="onCompositionStart"?re==="onCompositionEnd"&&rr&&(se=Up()):(Ts=P,vu="value"in Ts?Ts.value:Ts.textContent,rr=!0)),we=Ql(M,re),0<we.length&&(re=new jp(re,n,null,a,P),G.push({event:re,listeners:we}),se?re.data=se:(se=Gp(a),se!==null&&(re.data=se)))),(se=l1?c1(n,a):u1(n,a))&&(re=Ql(M,"onBeforeInput"),0<re.length&&(we=new jp("onBeforeInput","beforeinput",null,a,P),G.push({event:we,listeners:re}),we.data=se)),eE(G,n,M,a,P)}Sy(G,s)})}function to(n,s,a){return{instance:n,listener:s,currentTarget:a}}function Ql(n,s){for(var a=s+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=wa(n,a),f!=null&&l.unshift(to(n,f,d)),f=wa(n,s),f!=null&&l.push(to(n,f,d))),n.tag===3)return l;n=n.return}return[]}function Rr(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function _y(n,s,a,l,f){for(var d=s._reactName,b=[];a!==null&&a!==l;){var v=a,E=v.alternate,M=v.stateNode;if(v=v.tag,E!==null&&E===l)break;v!==5&&v!==26&&v!==27||M===null||(E=M,f?(M=wa(a,d),M!=null&&b.unshift(to(a,M,E))):f||(M=wa(a,d),M!=null&&b.push(to(a,M,E)))),a=a.return}b.length!==0&&n.push({event:s,listeners:b})}var iE=/\r\n?/g,rE=/\u0000|\uFFFD/g;function Ny(n){return(typeof n=="string"?n:""+n).replace(iE,`
`).replace(rE,"")}function Oy(n,s){return s=Ny(s),Ny(n)===s}function Vl(){}function Pe(n,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||nr(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&nr(n,""+l);break;case"className":Zo(n,"class",l);break;case"tabIndex":Zo(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Zo(n,a,l);break;case"style":Rp(n,l,d);break;case"data":if(s!=="object"){Zo(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=el(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&Pe(n,s,"name",f.name,f,null),Pe(n,s,"formEncType",f.formEncType,f,null),Pe(n,s,"formMethod",f.formMethod,f,null),Pe(n,s,"formTarget",f.formTarget,f,null)):(Pe(n,s,"encType",f.encType,f,null),Pe(n,s,"method",f.method,f,null),Pe(n,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=el(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Vl);break;case"onScroll":l!=null&&xe("scroll",n);break;case"onScrollEnd":l!=null&&xe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=el(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":xe("beforetoggle",n),xe("toggle",n),Xo(n,"popover",l);break;case"xlinkActuate":Kn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Kn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Kn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Kn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Kn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Kn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Kn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Kn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Kn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Xo(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=MA.get(a)||a,Xo(n,a,l))}}function eh(n,s,a,l,f,d){switch(a){case"style":Rp(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=a}}break;case"children":typeof l=="string"?nr(n,l):(typeof l=="number"||typeof l=="bigint")&&nr(n,""+l);break;case"onScroll":l!=null&&xe("scroll",n);break;case"onScrollEnd":l!=null&&xe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Vl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wp.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=n[Gt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Xo(n,a,l)}}}function Nt(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",n),xe("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var b=a[d];if(b!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Pe(n,s,d,b,a,null)}}f&&Pe(n,s,"srcSet",a.srcSet,a,null),l&&Pe(n,s,"src",a.src,a,null);return;case"input":xe("invalid",n);var v=d=b=f=null,E=null,M=null;for(l in a)if(a.hasOwnProperty(l)){var P=a[l];if(P!=null)switch(l){case"name":f=P;break;case"type":b=P;break;case"checked":E=P;break;case"defaultChecked":M=P;break;case"value":d=P;break;case"defaultValue":v=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(i(137,s));break;default:Pe(n,s,l,P,a,null)}}_p(n,d,v,E,M,b,f,!1),$o(n);return;case"select":xe("invalid",n),l=b=d=null;for(f in a)if(a.hasOwnProperty(f)&&(v=a[f],v!=null))switch(f){case"value":d=v;break;case"defaultValue":b=v;break;case"multiple":l=v;default:Pe(n,s,f,v,a,null)}s=d,a=b,n.multiple=!!l,s!=null?tr(n,!!l,s,!1):a!=null&&tr(n,!!l,a,!0);return;case"textarea":xe("invalid",n),d=f=l=null;for(b in a)if(a.hasOwnProperty(b)&&(v=a[b],v!=null))switch(b){case"value":l=v;break;case"defaultValue":f=v;break;case"children":d=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:Pe(n,s,b,v,a,null)}Op(n,l,f,d),$o(n);return;case"option":for(E in a)if(a.hasOwnProperty(E)&&(l=a[E],l!=null))switch(E){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Pe(n,s,E,l,a,null)}return;case"dialog":xe("beforetoggle",n),xe("toggle",n),xe("cancel",n),xe("close",n);break;case"iframe":case"object":xe("load",n);break;case"video":case"audio":for(l=0;l<eo.length;l++)xe(eo[l],n);break;case"image":xe("error",n),xe("load",n);break;case"details":xe("toggle",n);break;case"embed":case"source":case"link":xe("error",n),xe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in a)if(a.hasOwnProperty(M)&&(l=a[M],l!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Pe(n,s,M,l,a,null)}return;default:if(gu(s)){for(P in a)a.hasOwnProperty(P)&&(l=a[P],l!==void 0&&eh(n,s,P,l,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(l=a[v],l!=null&&Pe(n,s,v,l,a,null))}function aE(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,b=null,v=null,E=null,M=null,P=null;for(L in a){var G=a[L];if(a.hasOwnProperty(L)&&G!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":E=G;default:l.hasOwnProperty(L)||Pe(n,s,L,null,l,G)}}for(var j in l){var L=l[j];if(G=a[j],l.hasOwnProperty(j)&&(L!=null||G!=null))switch(j){case"type":d=L;break;case"name":f=L;break;case"checked":M=L;break;case"defaultChecked":P=L;break;case"value":b=L;break;case"defaultValue":v=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(i(137,s));break;default:L!==G&&Pe(n,s,j,L,l,G)}}du(n,b,v,E,M,P,d,f);return;case"select":L=b=v=j=null;for(d in a)if(E=a[d],a.hasOwnProperty(d)&&E!=null)switch(d){case"value":break;case"multiple":L=E;default:l.hasOwnProperty(d)||Pe(n,s,d,null,l,E)}for(f in l)if(d=l[f],E=a[f],l.hasOwnProperty(f)&&(d!=null||E!=null))switch(f){case"value":j=d;break;case"defaultValue":v=d;break;case"multiple":b=d;default:d!==E&&Pe(n,s,f,d,l,E)}s=v,a=b,l=L,j!=null?tr(n,!!a,j,!1):!!l!=!!a&&(s!=null?tr(n,!!a,s,!0):tr(n,!!a,a?[]:"",!1));return;case"textarea":L=j=null;for(v in a)if(f=a[v],a.hasOwnProperty(v)&&f!=null&&!l.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Pe(n,s,v,null,l,f)}for(b in l)if(f=l[b],d=a[b],l.hasOwnProperty(b)&&(f!=null||d!=null))switch(b){case"value":j=f;break;case"defaultValue":L=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==d&&Pe(n,s,b,f,l,d)}Np(n,j,L);return;case"option":for(var oe in a)if(j=a[oe],a.hasOwnProperty(oe)&&j!=null&&!l.hasOwnProperty(oe))switch(oe){case"selected":n.selected=!1;break;default:Pe(n,s,oe,null,l,j)}for(E in l)if(j=l[E],L=a[E],l.hasOwnProperty(E)&&j!==L&&(j!=null||L!=null))switch(E){case"selected":n.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Pe(n,s,E,j,l,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in a)j=a[ie],a.hasOwnProperty(ie)&&j!=null&&!l.hasOwnProperty(ie)&&Pe(n,s,ie,null,l,j);for(M in l)if(j=l[M],L=a[M],l.hasOwnProperty(M)&&j!==L&&(j!=null||L!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(i(137,s));break;default:Pe(n,s,M,j,l,L)}return;default:if(gu(s)){for(var Ie in a)j=a[Ie],a.hasOwnProperty(Ie)&&j!==void 0&&!l.hasOwnProperty(Ie)&&eh(n,s,Ie,void 0,l,j);for(P in l)j=l[P],L=a[P],!l.hasOwnProperty(P)||j===L||j===void 0&&L===void 0||eh(n,s,P,j,l,L);return}}for(var B in a)j=a[B],a.hasOwnProperty(B)&&j!=null&&!l.hasOwnProperty(B)&&Pe(n,s,B,null,l,j);for(G in l)j=l[G],L=a[G],!l.hasOwnProperty(G)||j===L||j==null&&L==null||Pe(n,s,G,j,l,L)}var th=null,nh=null;function Kl(n){return n.nodeType===9?n:n.ownerDocument}function ky(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ry(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function sh(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ih=null;function oE(){var n=window.event;return n&&n.type==="popstate"?n===ih?!1:(ih=n,!0):(ih=null,!1)}var Cy=typeof setTimeout=="function"?setTimeout:void 0,lE=typeof clearTimeout=="function"?clearTimeout:void 0,By=typeof Promise=="function"?Promise:void 0,cE=typeof queueMicrotask=="function"?queueMicrotask:typeof By<"u"?function(n){return By.resolve(null).then(n).catch(uE)}:Cy;function uE(n){setTimeout(function(){throw n})}function Hs(n){return n==="head"}function Uy(n,s){var a=s,l=0,f=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var b=n.ownerDocument;if(a&1&&no(b.documentElement),a&2&&no(b.body),a&4)for(a=b.head,no(a),b=a.firstChild;b;){var v=b.nextSibling,E=b.nodeName;b[ya]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=v}}if(f===0){n.removeChild(d),uo(s);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);uo(s)}function rh(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":rh(a),cu(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function fE(n,s,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[ya])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Tn(n.nextSibling),n===null)break}return null}function hE(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Tn(n.nextSibling),n===null))return null;return n}function ah(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function dE(n,s){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Tn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var oh=null;function Dy(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}function My(n,s,a){switch(s=Kl(a),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function no(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);cu(n)}var bn=new Map,jy=new Set;function Jl(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var os=O.d;O.d={f:pE,r:gE,D:mE,C:yE,L:bE,m:wE,X:AE,S:vE,M:EE};function pE(){var n=os.f(),s=Il();return n||s}function gE(n){var s=Zi(n);s!==null&&s.tag===5&&s.type==="form"?nm(s):os.r(n)}var Cr=typeof document>"u"?null:document;function Ly(n,s,a){var l=Cr;if(l&&typeof s=="string"&&s){var f=fn(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),jy.has(f)||(jy.add(f),n={rel:n,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Nt(s,"link",n),bt(s),l.head.appendChild(s)))}}function mE(n){os.D(n),Ly("dns-prefetch",n,null)}function yE(n,s){os.C(n,s),Ly("preconnect",n,s)}function bE(n,s,a){os.L(n,s,a);var l=Cr;if(l&&n&&s){var f='link[rel="preload"][as="'+fn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+fn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+fn(a.imageSizes)+'"]')):f+='[href="'+fn(n)+'"]';var d=f;switch(s){case"style":d=Br(n);break;case"script":d=Ur(n)}bn.has(d)||(n=m({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),bn.set(d,n),l.querySelector(f)!==null||s==="style"&&l.querySelector(so(d))||s==="script"&&l.querySelector(io(d))||(s=l.createElement("link"),Nt(s,"link",n),bt(s),l.head.appendChild(s)))}}function wE(n,s){os.m(n,s);var a=Cr;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+fn(l)+'"][href="'+fn(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ur(n)}if(!bn.has(d)&&(n=m({rel:"modulepreload",href:n},s),bn.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(io(d)))return}l=a.createElement("link"),Nt(l,"link",n),bt(l),a.head.appendChild(l)}}}function vE(n,s,a){os.S(n,s,a);var l=Cr;if(l&&n){var f=$i(l).hoistableStyles,d=Br(n);s=s||"default";var b=f.get(d);if(!b){var v={loading:0,preload:null};if(b=l.querySelector(so(d)))v.loading=5;else{n=m({rel:"stylesheet",href:n,"data-precedence":s},a),(a=bn.get(d))&&lh(n,a);var E=b=l.createElement("link");bt(E),Nt(E,"link",n),E._p=new Promise(function(M,P){E.onload=M,E.onerror=P}),E.addEventListener("load",function(){v.loading|=1}),E.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Yl(b,s,l)}b={type:"stylesheet",instance:b,count:1,state:v},f.set(d,b)}}}function AE(n,s){os.X(n,s);var a=Cr;if(a&&n){var l=$i(a).hoistableScripts,f=Ur(n),d=l.get(f);d||(d=a.querySelector(io(f)),d||(n=m({src:n,async:!0},s),(s=bn.get(f))&&ch(n,s),d=a.createElement("script"),bt(d),Nt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function EE(n,s){os.M(n,s);var a=Cr;if(a&&n){var l=$i(a).hoistableScripts,f=Ur(n),d=l.get(f);d||(d=a.querySelector(io(f)),d||(n=m({src:n,async:!0,type:"module"},s),(s=bn.get(f))&&ch(n,s),d=a.createElement("script"),bt(d),Nt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Py(n,s,a,l){var f=(f=Rt.current)?Jl(f):null;if(!f)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Br(a.href),a=$i(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Br(a.href);var d=$i(f).hoistableStyles,b=d.get(n);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,b),(d=f.querySelector(so(n)))&&!d._p&&(b.instance=d,b.state.loading=5),bn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},bn.set(n,a),d||xE(f,n,a,b.state))),s&&l===null)throw Error(i(528,""));return b}if(s&&l!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ur(a),a=$i(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Br(n){return'href="'+fn(n)+'"'}function so(n){return'link[rel="stylesheet"]['+n+"]"}function Iy(n){return m({},n,{"data-precedence":n.precedence,precedence:null})}function xE(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Nt(s,"link",a),bt(s),n.head.appendChild(s))}function Ur(n){return'[src="'+fn(n)+'"]'}function io(n){return"script[async]"+n}function zy(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+fn(a.href)+'"]');if(l)return s.instance=l,bt(l),l;var f=m({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),bt(l),Nt(l,"style",f),Yl(l,a.precedence,n),s.instance=l;case"stylesheet":f=Br(a.href);var d=n.querySelector(so(f));if(d)return s.state.loading|=4,s.instance=d,bt(d),d;l=Iy(a),(f=bn.get(f))&&lh(l,f),d=(n.ownerDocument||n).createElement("link"),bt(d);var b=d;return b._p=new Promise(function(v,E){b.onload=v,b.onerror=E}),Nt(d,"link",l),s.state.loading|=4,Yl(d,a.precedence,n),s.instance=d;case"script":return d=Ur(a.src),(f=n.querySelector(io(d)))?(s.instance=f,bt(f),f):(l=a,(f=bn.get(d))&&(l=m({},a),ch(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),bt(f),Nt(f,"link",l),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Yl(l,a.precedence,n));return s.instance}function Yl(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,b=0;b<l.length;b++){var v=l[b];if(v.dataset.precedence===s)d=v;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function lh(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function ch(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Xl=null;function Hy(n,s,a){if(Xl===null){var l=new Map,f=Xl=new Map;f.set(a,l)}else f=Xl,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[ya]||d[Ct]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var b=d.getAttribute(s)||"";b=n+b;var v=l.get(b);v?v.push(d):l.set(b,[d])}}return l}function Gy(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function SE(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Fy(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var ro=null;function TE(){}function _E(n,s,a){if(ro===null)throw Error(i(475));var l=ro;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Br(a.href),d=n.querySelector(so(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Zl.bind(l),n.then(l,l)),s.state.loading|=4,s.instance=d,bt(d);return}d=n.ownerDocument||n,a=Iy(a),(f=bn.get(f))&&lh(a,f),d=d.createElement("link"),bt(d);var b=d;b._p=new Promise(function(v,E){b.onload=v,b.onerror=E}),Nt(d,"link",a),s.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=Zl.bind(l),n.addEventListener("load",s),n.addEventListener("error",s))}}function NE(){if(ro===null)throw Error(i(475));var n=ro;return n.stylesheets&&n.count===0&&uh(n,n.stylesheets),0<n.count?function(s){var a=setTimeout(function(){if(n.stylesheets&&uh(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Zl(){if(this.count--,this.count===0){if(this.stylesheets)uh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var $l=null;function uh(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,$l=new Map,s.forEach(OE,n),$l=null,Zl.call(n))}function OE(n,s){if(!(s.state.loading&4)){var a=$l.get(n);if(a)var l=a.get(null);else{a=new Map,$l.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var b=f[d];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}f=s.instance,b=f.getAttribute("data-precedence"),d=a.get(b)||l,d===l&&a.set(null,f),a.set(b,f),this.count++,l=Zl.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var ao={$$typeof:R,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function kE(n,s,a,l,f,d,b,v){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ru(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ru(0),this.hiddenUpdates=ru(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function qy(n,s,a,l,f,d,b,v,E,M,P,G){return n=new kE(n,s,a,b,v,E,M,G),s=1,d===!0&&(s|=24),d=en(3,null,null,s),n.current=d,d.stateNode=n,s=qu(),s.refCount++,n.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},Ju(d),n}function Qy(n){return n?(n=ur,n):ur}function Vy(n,s,a,l,f,d){f=Qy(f),l.context===null?l.context=f:l.pendingContext=f,l=Os(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ks(n,l,s),a!==null&&(an(a,n,s),ja(a,n,s))}function Ky(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function fh(n,s){Ky(n,s),(n=n.alternate)&&Ky(n,s)}function Jy(n){if(n.tag===13){var s=cr(n,67108864);s!==null&&an(s,n,67108864),fh(n,67108864)}}var Wl=!0;function RE(n,s,a,l){var f=C.T;C.T=null;var d=O.p;try{O.p=2,hh(n,s,a,l)}finally{O.p=d,C.T=f}}function CE(n,s,a,l){var f=C.T;C.T=null;var d=O.p;try{O.p=8,hh(n,s,a,l)}finally{O.p=d,C.T=f}}function hh(n,s,a,l){if(Wl){var f=dh(l);if(f===null)Wf(n,s,l,ec,a),Xy(n,l);else if(UE(f,n,s,a,l))l.stopPropagation();else if(Xy(n,l),s&4&&-1<BE.indexOf(n)){for(;f!==null;){var d=Zi(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var b=ui(d.pendingLanes);if(b!==0){var v=d;for(v.pendingLanes|=2,v.entangledLanes|=2;b;){var E=1<<31-$t(b);v.entanglements[1]|=E,b&=~E}zn(d),(Me&6)===0&&(Ll=Mn()+500,Wa(0))}}break;case 13:v=cr(d,2),v!==null&&an(v,d,2),Il(),fh(d,2)}if(d=dh(l),d===null&&Wf(n,s,l,ec,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Wf(n,s,l,null,a)}}function dh(n){return n=yu(n),ph(n)}var ec=null;function ph(n){if(ec=null,n=Xi(n),n!==null){var s=c(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=u(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return ec=n,null}function Yy(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yA()){case cp:return 2;case up:return 8;case Vo:case bA:return 32;case fp:return 268435456;default:return 32}default:return 32}}var gh=!1,Gs=null,Fs=null,qs=null,oo=new Map,lo=new Map,Qs=[],BE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xy(n,s){switch(n){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":oo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":lo.delete(s.pointerId)}}function co(n,s,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=Zi(s),s!==null&&Jy(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function UE(n,s,a,l,f){switch(s){case"focusin":return Gs=co(Gs,n,s,a,l,f),!0;case"dragenter":return Fs=co(Fs,n,s,a,l,f),!0;case"mouseover":return qs=co(qs,n,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return oo.set(d,co(oo.get(d)||null,n,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,lo.set(d,co(lo.get(d)||null,n,s,a,l,f)),!0}return!1}function Zy(n){var s=Xi(n.target);if(s!==null){var a=c(s);if(a!==null){if(s=a.tag,s===13){if(s=u(a),s!==null){n.blockedOn=s,_A(n.priority,function(){if(a.tag===13){var l=rn();l=au(l);var f=cr(a,l);f!==null&&an(f,a,l),fh(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function tc(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=dh(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);mu=l,a.target.dispatchEvent(l),mu=null}else return s=Zi(a),s!==null&&Jy(s),n.blockedOn=a,!1;s.shift()}return!0}function $y(n,s,a){tc(n)&&a.delete(s)}function DE(){gh=!1,Gs!==null&&tc(Gs)&&(Gs=null),Fs!==null&&tc(Fs)&&(Fs=null),qs!==null&&tc(qs)&&(qs=null),oo.forEach($y),lo.forEach($y)}function nc(n,s){n.blockedOn===s&&(n.blockedOn=null,gh||(gh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,DE)))}var sc=null;function Wy(n){sc!==n&&(sc=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){sc===n&&(sc=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],f=n[s+2];if(typeof l!="function"){if(ph(l||a)===null)continue;break}var d=Zi(a);d!==null&&(n.splice(s,3),s-=3,pf(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function uo(n){function s(E){return nc(E,n)}Gs!==null&&nc(Gs,n),Fs!==null&&nc(Fs,n),qs!==null&&nc(qs,n),oo.forEach(s),lo.forEach(s);for(var a=0;a<Qs.length;a++){var l=Qs[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Qs.length&&(a=Qs[0],a.blockedOn===null);)Zy(a),a.blockedOn===null&&Qs.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],b=f[Gt]||null;if(typeof d=="function")b||Wy(a);else if(b){var v=null;if(d&&d.hasAttribute("formAction")){if(f=d,b=d[Gt]||null)v=b.formAction;else if(ph(f)!==null)continue}else v=b.action;typeof v=="function"?a[l+1]=v:(a.splice(l,3),l-=3),Wy(a)}}}function mh(n){this._internalRoot=n}ic.prototype.render=mh.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,l=rn();Vy(a,l,n,s,null,null)},ic.prototype.unmount=mh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Vy(n.current,2,null,n,null,null),Il(),s[Yi]=null}};function ic(n){this._internalRoot=n}ic.prototype.unstable_scheduleHydration=function(n){if(n){var s=mp();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Qs.length&&s!==0&&s<Qs[a].priority;a++);Qs.splice(a,0,n),a===0&&Zy(n)}};var e0=e.version;if(e0!=="19.1.0")throw Error(i(527,e0,"19.1.0"));O.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=p(s),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var ME={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{pa=rc.inject(ME),Zt=rc}catch{}}return fo.createRoot=function(n,s){if(!o(n))throw Error(i(299));var a=!1,l="",f=mm,d=ym,b=bm,v=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(v=s.unstable_transitionCallbacks)),s=qy(n,1,!1,null,null,a,l,f,d,b,v,null),n[Yi]=s.current,$f(n),new mh(s)},fo.hydrateRoot=function(n,s,a){if(!o(n))throw Error(i(299));var l=!1,f="",d=mm,b=ym,v=bm,E=null,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(E=a.unstable_transitionCallbacks),a.formState!==void 0&&(M=a.formState)),s=qy(n,1,!0,s,a??null,l,f,d,b,v,E,M),s.context=Qy(null),a=s.current,l=rn(),l=au(l),f=Os(l),f.callback=null,ks(a,f,l),a=l,s.current.lanes=a,ma(s,a),zn(s),n[Yi]=s.current,$f(n),new ic(s)},fo.version="19.1.0",fo}var i0;function sx(){if(i0)return bh.exports;i0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),bh.exports=nx(),bh.exports}var ix=sx();const rx=Xb(ix),ax=()=>{const{address:r,isConnected:e}=Mo(),t=XE(),i=[{path:"/",label:"홈"},{path:"/simpledex",label:"SimpleDEX"},{path:"/nftmarket",label:"NFTmarket"}];return A.jsxs("div",{className:"sidebar animate-slide-in-left",children:[A.jsx("div",{className:"sidebar-header",children:A.jsx("h1",{className:"animate-fade-in-scale animate-delay-200",children:"🚀 Web3 블로그"})}),A.jsx("nav",{children:A.jsx("ul",{className:"nav-menu stagger-children",children:i.map((o,c)=>A.jsx("li",{children:A.jsx(ZE,{to:o.path,className:`hover-lift ${t.pathname===o.path?"active":""}`,children:o.label})},o.path))})}),A.jsxs("div",{className:"user-info animate-fade-in-up animate-delay-500",children:[A.jsx("h4",{children:"지갑 상태"}),e?A.jsxs(A.Fragment,{children:[A.jsxs("div",{style:{marginBottom:"12px",fontSize:"0.85rem",color:"var(--success-color)",fontWeight:"600"},children:[A.jsx("span",{className:"animate-pulse",children:"✅"})," 연결됨"]}),A.jsxs("div",{className:"user-address hover-scale",children:[r?.slice(0,6),"...",r?.slice(-4)]})]}):A.jsxs("div",{style:{color:"var(--warning-color)",fontSize:"0.9rem",fontWeight:"600"},children:[A.jsx("span",{className:"animate-pulse",children:"⚠️"})," 지갑이 연결되지 않았습니다"]})]})]})},ox=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>jo(async()=>{const{default:i}=await Promise.resolve().then(()=>ua);return{default:i}},void 0,import.meta.url).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)};class Bd extends Error{constructor(e,t="FunctionsError",i){super(e),this.name=t,this.context=i}}class lx extends Bd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class r0 extends Bd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class a0 extends Bd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Jh;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Jh||(Jh={}));var cx=function(r,e,t,i){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(m){try{g(i.next(m))}catch(y){u(y)}}function p(m){try{g(i.throw(m))}catch(y){u(y)}}function g(m){m.done?c(m.value):o(m.value).then(h,p)}g((i=i.apply(r,e||[])).next())})};class ux{constructor(e,{headers:t={},customFetch:i,region:o=Jh.Any}={}){this.url=e,this.headers=t,this.region=o,this.fetch=ox(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var i;return cx(this,void 0,void 0,function*(){try{const{headers:o,method:c,body:u}=t;let h={},{region:p}=t;p||(p=this.region);const g=new URL(`${this.url}/${e}`);p&&p!=="any"&&(h["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let m;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(h["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(h["Content-Type"]="application/json",m=JSON.stringify(u)));const y=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:m}).catch(S=>{throw new lx(S)}),w=y.headers.get("x-relay-error");if(w&&w==="true")throw new r0(y);if(!y.ok)throw new a0(y);let x=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),T;return x==="application/json"?T=yield y.json():x==="application/octet-stream"?T=yield y.blob():x==="text/event-stream"?T=y:x==="multipart/form-data"?T=yield y.formData():T=yield y.text(),{data:T,error:null,response:y}}catch(o){return{data:null,error:o,response:o instanceof a0||o instanceof r0?o.context:void 0}}})}}var Et={},Dr={},Mr={},jr={},Lr={},Pr={},fx=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ta=fx();const hx=ta.fetch,Zb=ta.fetch.bind(ta),$b=ta.Headers,dx=ta.Request,px=ta.Response,ua=Object.freeze(Object.defineProperty({__proto__:null,Headers:$b,Request:dx,Response:px,default:Zb,fetch:hx},Symbol.toStringTag,{value:"Module"})),gx=YE(ua);var ac={},o0;function Wb(){if(o0)return ac;o0=1,Object.defineProperty(ac,"__esModule",{value:!0});class r extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return ac.default=r,ac}var l0;function ew(){if(l0)return Pr;l0=1;var r=Pr&&Pr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Pr,"__esModule",{value:!0});const e=r(gx),t=r(Wb());class i{constructor(c){var u,h;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(u=c.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=c.signal,this.isMaybeSingle=(h=c.isMaybeSingle)!==null&&h!==void 0?h:!1,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,u){return this.headers=new Headers(this.headers),this.headers.set(c,u),this}then(c,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let p=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var m,y,w,x;let T=null,S=null,_=null,U=g.status,F=g.statusText;if(g.ok){if(this.method!=="HEAD"){const H=await g.text();H===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?S=H:S=JSON.parse(H))}const z=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),K=(w=g.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");z&&K&&K.length>1&&(_=parseInt(K[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(T={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,_=null,U=406,F="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const z=await g.text();try{T=JSON.parse(z),Array.isArray(T)&&g.status===404&&(S=[],T=null,U=200,F="OK")}catch{g.status===404&&z===""?(U=204,F="No Content"):T={message:z}}if(T&&this.isMaybeSingle&&(!((x=T?.details)===null||x===void 0)&&x.includes("0 rows"))&&(T=null,U=200,F="OK"),T&&this.shouldThrowOnError)throw new t.default(T)}return{error:T,data:S,count:_,status:U,statusText:F}});return this.shouldThrowOnError||(p=p.catch(g=>{var m,y,w;return{error:{message:`${(m=g?.name)!==null&&m!==void 0?m:"FetchError"}: ${g?.message}`,details:`${(y=g?.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(w=g?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),p.then(c,u)}returns(){return this}overrideTypes(){return this}}return Pr.default=i,Pr}var c0;function tw(){if(c0)return Lr;c0=1;var r=Lr&&Lr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Lr,"__esModule",{value:!0});const e=r(ew());class t extends e.default{select(o){let c=!1;const u=(o??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:c=!0,nullsFirst:u,foreignTable:h,referencedTable:p=h}={}){const g=p?`${p}.order`:"order",m=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${m?`${m},`:""}${o}.${c?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:c,referencedTable:u=c}={}){const h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${o}`),this}range(o,c,{foreignTable:u,referencedTable:h=u}={}){const p=typeof h>"u"?"offset":`${h}.offset`,g=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${o}`),this.url.searchParams.set(g,`${c-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:c=!1,settings:u=!1,buffers:h=!1,wal:p=!1,format:g="text"}={}){var m;const y=[o?"analyze":null,c?"verbose":null,u?"settings":null,h?"buffers":null,p?"wal":null].filter(Boolean).join("|"),w=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${w}"; options=${y};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Lr.default=t,Lr}var u0;function Ud(){if(u0)return jr;u0=1;var r=jr&&jr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(jr,"__esModule",{value:!0});const e=r(tw());class t extends e.default{eq(o,c){return this.url.searchParams.append(o,`eq.${c}`),this}neq(o,c){return this.url.searchParams.append(o,`neq.${c}`),this}gt(o,c){return this.url.searchParams.append(o,`gt.${c}`),this}gte(o,c){return this.url.searchParams.append(o,`gte.${c}`),this}lt(o,c){return this.url.searchParams.append(o,`lt.${c}`),this}lte(o,c){return this.url.searchParams.append(o,`lte.${c}`),this}like(o,c){return this.url.searchParams.append(o,`like.${c}`),this}likeAllOf(o,c){return this.url.searchParams.append(o,`like(all).{${c.join(",")}}`),this}likeAnyOf(o,c){return this.url.searchParams.append(o,`like(any).{${c.join(",")}}`),this}ilike(o,c){return this.url.searchParams.append(o,`ilike.${c}`),this}ilikeAllOf(o,c){return this.url.searchParams.append(o,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(o,c){return this.url.searchParams.append(o,`ilike(any).{${c.join(",")}}`),this}is(o,c){return this.url.searchParams.append(o,`is.${c}`),this}in(o,c){const u=Array.from(new Set(c)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(o,`in.(${u})`),this}contains(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cs.{${c.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(c)}`),this}containedBy(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cd.{${c.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(c)}`),this}rangeGt(o,c){return this.url.searchParams.append(o,`sr.${c}`),this}rangeGte(o,c){return this.url.searchParams.append(o,`nxl.${c}`),this}rangeLt(o,c){return this.url.searchParams.append(o,`sl.${c}`),this}rangeLte(o,c){return this.url.searchParams.append(o,`nxr.${c}`),this}rangeAdjacent(o,c){return this.url.searchParams.append(o,`adj.${c}`),this}overlaps(o,c){return typeof c=="string"?this.url.searchParams.append(o,`ov.${c}`):this.url.searchParams.append(o,`ov.{${c.join(",")}}`),this}textSearch(o,c,{config:u,type:h}={}){let p="";h==="plain"?p="pl":h==="phrase"?p="ph":h==="websearch"&&(p="w");const g=u===void 0?"":`(${u})`;return this.url.searchParams.append(o,`${p}fts${g}.${c}`),this}match(o){return Object.entries(o).forEach(([c,u])=>{this.url.searchParams.append(c,`eq.${u}`)}),this}not(o,c,u){return this.url.searchParams.append(o,`not.${c}.${u}`),this}or(o,{foreignTable:c,referencedTable:u=c}={}){const h=u?`${u}.or`:"or";return this.url.searchParams.append(h,`(${o})`),this}filter(o,c,u){return this.url.searchParams.append(o,`${c}.${u}`),this}}return jr.default=t,jr}var f0;function nw(){if(f0)return Mr;f0=1;var r=Mr&&Mr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Mr,"__esModule",{value:!0});const e=r(Ud());class t{constructor(o,{headers:c={},schema:u,fetch:h}){this.url=o,this.headers=new Headers(c),this.schema=u,this.fetch=h}select(o,{head:c=!1,count:u}={}){const h=c?"HEAD":"GET";let p=!1;const g=(o??"*").split("").map(m=>/\s/.test(m)&&!p?"":(m==='"'&&(p=!p),m)).join("");return this.url.searchParams.set("select",g),u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:c,defaultToNull:u=!0}={}){var h;const p="POST";if(c&&this.headers.append("Prefer",`count=${c}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const g=o.reduce((m,y)=>m.concat(Object.keys(y)),[]);if(g.length>0){const m=[...new Set(g)].map(y=>`"${y}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(o,{onConflict:c,ignoreDuplicates:u=!1,count:h,defaultToNull:p=!0}={}){var g;const m="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),h&&this.headers.append("Prefer",`count=${h}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const y=o.reduce((w,x)=>w.concat(Object.keys(x)),[]);if(y.length>0){const w=[...new Set(y)].map(x=>`"${x}"`);this.url.searchParams.set("columns",w.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(o,{count:c}={}){var u;const h="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:o}={}){var c;const u="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return Mr.default=t,Mr}var h0;function mx(){if(h0)return Dr;h0=1;var r=Dr&&Dr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Dr,"__esModule",{value:!0});const e=r(nw()),t=r(Ud());class i{constructor(c,{headers:u={},schema:h,fetch:p}={}){this.url=c,this.headers=new Headers(u),this.schemaName=h,this.fetch=p}from(c){const u=new URL(`${this.url}/${c}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new i(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,u={},{head:h=!1,get:p=!1,count:g}={}){var m;let y;const w=new URL(`${this.url}/rpc/${c}`);let x;h||p?(y=h?"HEAD":"GET",Object.entries(u).filter(([S,_])=>_!==void 0).map(([S,_])=>[S,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([S,_])=>{w.searchParams.append(S,_)})):(y="POST",x=u);const T=new Headers(this.headers);return g&&T.set("Prefer",`count=${g}`),new t.default({method:y,url:w,headers:T,schema:this.schemaName,body:x,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return Dr.default=i,Dr}var d0;function yx(){if(d0)return Et;d0=1;var r=Et&&Et.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(Et,"__esModule",{value:!0}),Et.PostgrestError=Et.PostgrestBuilder=Et.PostgrestTransformBuilder=Et.PostgrestFilterBuilder=Et.PostgrestQueryBuilder=Et.PostgrestClient=void 0;const e=r(mx());Et.PostgrestClient=e.default;const t=r(nw());Et.PostgrestQueryBuilder=t.default;const i=r(Ud());Et.PostgrestFilterBuilder=i.default;const o=r(tw());Et.PostgrestTransformBuilder=o.default;const c=r(ew());Et.PostgrestBuilder=c.default;const u=r(Wb());return Et.PostgrestError=u.default,Et.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:c.default,PostgrestError:u.default},Et}var bx=yx();const wx=Xb(bx),{PostgrestClient:vx,PostgrestQueryBuilder:Zk,PostgrestFilterBuilder:$k,PostgrestTransformBuilder:Wk,PostgrestBuilder:eR,PostgrestError:tR}=wx;class Ax{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const t=parseInt(process.versions.node.split(".")[0]);return t>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${t} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${t} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const i=this.getWebSocketConstructor();return new i(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Ex="2.15.1",xx=`realtime-js/${Ex}`,Sx="1.0.0",Yh=1e4,Tx=1e3,_x=100;var Ao;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Ao||(Ao={}));var gt;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(gt||(gt={}));var kn;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(kn||(kn={}));var Xh;(function(r){r.websocket="websocket"})(Xh||(Xh={}));var Ui;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Ui||(Ui={}));class Nx{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,t,i)}_decodeBroadcast(e,t,i){const o=t.getUint8(1),c=t.getUint8(2);let u=this.HEADER_LENGTH+2;const h=i.decode(e.slice(u,u+o));u=u+o;const p=i.decode(e.slice(u,u+c));u=u+c;const g=JSON.parse(i.decode(e.slice(u,e.byteLength)));return{ref:null,topic:h,event:p,payload:g}}}class sw{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qe;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(qe||(qe={}));const p0=(r,e,t={})=>{var i;const o=(i=t.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((c,u)=>(c[u]=Ox(u,r,e,o),c),{})},Ox=(r,e,t,i)=>{const o=e.find(h=>h.name===r),c=o?.type,u=t[r];return c&&!i.includes(c)?iw(c,u):Zh(u)},iw=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return Bx(e,t)}switch(r){case qe.bool:return kx(e);case qe.float4:case qe.float8:case qe.int2:case qe.int4:case qe.int8:case qe.numeric:case qe.oid:return Rx(e);case qe.json:case qe.jsonb:return Cx(e);case qe.timestamp:return Ux(e);case qe.abstime:case qe.date:case qe.daterange:case qe.int4range:case qe.int8range:case qe.money:case qe.reltime:case qe.text:case qe.time:case qe.timestamptz:case qe.timetz:case qe.tsrange:case qe.tstzrange:return Zh(e);default:return Zh(e)}},Zh=r=>r,kx=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Rx=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},Cx=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},Bx=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,i=r[t];if(r[0]==="{"&&i==="}"){let c;const u=r.slice(1,t);try{c=JSON.parse("["+u+"]")}catch{c=u?u.split(","):[]}return c.map(h=>iw(e,h))}return r},Ux=r=>typeof r=="string"?r.replace(" ","T"):r,rw=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Ah{constructor(e,t,i={},o=Yh){this.channel=e,this.event=t,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var g0;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(g0||(g0={}));class Eo{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:c,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Eo.syncState(this.state,o,c,u),this.pendingDiffs.forEach(p=>{this.state=Eo.syncDiff(this.state,p,c,u)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},o=>{const{onJoin:c,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Eo.syncDiff(this.state,o,c,u),h())}),this.onJoin((o,c,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:u})}),this.onLeave((o,c,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,o){const c=this.cloneDeep(e),u=this.transformState(t),h={},p={};return this.map(c,(g,m)=>{u[g]||(p[g]=m)}),this.map(u,(g,m)=>{const y=c[g];if(y){const w=m.map(_=>_.presence_ref),x=y.map(_=>_.presence_ref),T=m.filter(_=>x.indexOf(_.presence_ref)<0),S=y.filter(_=>w.indexOf(_.presence_ref)<0);T.length>0&&(h[g]=T),S.length>0&&(p[g]=S)}else h[g]=m}),this.syncDiff(c,{joins:h,leaves:p},i,o)}static syncDiff(e,t,i,o){const{joins:c,leaves:u}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(c,(h,p)=>{var g;const m=(g=e[h])!==null&&g!==void 0?g:[];if(e[h]=this.cloneDeep(p),m.length>0){const y=e[h].map(x=>x.presence_ref),w=m.filter(x=>y.indexOf(x.presence_ref)<0);e[h].unshift(...w)}i(h,m,p)}),this.map(u,(h,p)=>{let g=e[h];if(!g)return;const m=p.map(y=>y.presence_ref);g=g.filter(y=>m.indexOf(y.presence_ref)<0),e[h]=g,o(h,g,p),g.length===0&&delete e[h]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,i)=>{const o=e[i];return"metas"in o?t[i]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):t[i]=o,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var m0;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(m0||(m0={}));var xo;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(xo||(xo={}));var cs;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(cs||(cs={}));class Dd{constructor(e,t={config:{}},i){this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=gt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Ah(this,kn.join,this.params,this.timeout),this.rejoinTimer=new sw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(kn.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new Eo(this),this.broadcastEndpointURL=rw(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==gt.closed){const{config:{broadcast:c,presence:u,private:h}}=this.params,p=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(w=>w.filter))!==null&&o!==void 0?o:[],g=!!this.bindings[xo.PRESENCE]&&this.bindings[xo.PRESENCE].length>0,m={},y={broadcast:c,presence:Object.assign(Object.assign({},u),{enabled:g}),postgres_changes:p,private:h};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(w=>e?.(cs.CHANNEL_ERROR,w)),this._onClose(()=>e?.(cs.CLOSED)),this.updateJoinPayload(Object.assign({config:y},m)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:w})=>{var x;if(this.socket.setAuth(),w===void 0){e?.(cs.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,S=(x=T?.length)!==null&&x!==void 0?x:0,_=[];for(let U=0;U<S;U++){const F=T[U],{filter:{event:R,schema:z,table:K,filter:H}}=F,J=w&&w[U];if(J&&J.event===R&&J.schema===z&&J.table===K&&J.filter===H)_.push(Object.assign(Object.assign({},F),{id:J.id}));else{this.unsubscribe(),this.state=gt.errored,e?.(cs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(cs.SUBSCRIBED);return}}).receive("error",w=>{this.state=gt.errored,e?.(cs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e?.(cs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,i){return this.state===gt.joined&&e===xo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,i)}async send(e,t={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){const{event:c,payload:u}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:u,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var u,h,p;const g=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=gt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(kn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new Ah(this,kn.leave,{},e),i.receive("ok",()=>{t(),o("ok")}).receive("timeout",()=>{t(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=gt.closed,this.bindings={}}async _fetchWithTimeout(e,t,i){const o=new AbortController,c=setTimeout(()=>o.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(c),u}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Ah(this,e,t,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>_x){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var o,c;const u=e.toLocaleLowerCase(),{close:h,error:p,leave:g,join:m}=kn;if(i&&[h,p,g,m].indexOf(u)>=0&&i!==this._joinRef())return;let w=this._onMessage(u,t,i);if(t&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(x=>{var T,S,_;return((T=x.filter)===null||T===void 0?void 0:T.event)==="*"||((_=(S=x.filter)===null||S===void 0?void 0:S.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===u}).map(x=>x.callback(w,i)):(c=this.bindings[u])===null||c===void 0||c.filter(x=>{var T,S,_,U,F,R;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in x){const z=x.id,K=(T=x.filter)===null||T===void 0?void 0:T.event;return z&&((S=t.ids)===null||S===void 0?void 0:S.includes(z))&&(K==="*"||K?.toLocaleLowerCase()===((_=t.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const z=(F=(U=x?.filter)===null||U===void 0?void 0:U.event)===null||F===void 0?void 0:F.toLocaleLowerCase();return z==="*"||z===((R=t?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===u}).map(x=>{if(typeof w=="object"&&"ids"in w){const T=w.data,{schema:S,table:_,commit_timestamp:U,type:F,errors:R}=T;w=Object.assign(Object.assign({},{schema:S,table:_,commit_timestamp:U,eventType:F,new:{},old:{},errors:R}),this._getPayloadRecords(T))}x.callback(w,i)})}_isClosed(){return this.state===gt.closed}_isJoined(){return this.state===gt.joined}_isJoining(){return this.state===gt.joining}_isLeaving(){return this.state===gt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){const o=e.toLocaleLowerCase(),c={type:o,filter:t,callback:i};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(e,t){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===i&&Dd.isEqual(o.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(kn.close,{},e)}_onError(e){this._on(kn.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=p0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=p0(e.columns,e.old_record)),t}}const y0=()=>{},oc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Dx=[1e3,2e3,5e3,1e4],Mx=1e4,jx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Lx{constructor(e,t){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yh,this.transport=null,this.heartbeatIntervalMs=oc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=y0,this.ref=0,this.reconnectTimer=null,this.logger=y0,this.conn=null,this.sendBuffer=[],this.serializer=new Nx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let c;return o?c=o:typeof fetch>"u"?c=(...u)=>jo(async()=>{const{default:h}=await Promise.resolve().then(()=>ua);return{default:h}},void 0,import.meta.url).then(({default:h})=>h(...u)).catch(h=>{throw new Error(`Failed to load @supabase/node-fetch: ${h.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):c=fetch,(...u)=>c(...u)},!(!((i=t?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Xh.websocket}`,this.httpEndpoint=rw(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ax.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Sx}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Ao.connecting:return Ui.Connecting;case Ao.open:return Ui.Open;case Ao.closing:return Ui.Closing;default:return Ui.Closed}}isConnected(){return this.connectionState()===Ui.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const i=`realtime:${e}`,o=this.getChannels().find(c=>c.topic===i);if(o)return o;{const c=new Dd(`realtime:${e}`,t,this);return this.channels.push(c),c}}push(e){const{topic:t,event:i,payload:o,ref:c}=e,u=()=>{this.encode(e,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${t} ${i} (${c})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Tx,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},oc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{t.topic==="phoenix"&&t.event==="phx_reply"&&this.heartbeatCallback(t.payload.status==="ok"?"ok":"error"),t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:o,payload:c,ref:u}=t,h=u?`(${u})`:"",p=c.status||"";this.log("receive",`${p} ${i} ${o} ${h}`.trim(),c),this.channels.filter(g=>g._isMember(i)).forEach(g=>g._trigger(o,c,u)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(kn.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(t);return`${e}${i}${o}`}_workerObjectUrl(e){let t;if(e)t=e;else{const i=new Blob([jx],{type:"application/javascript"});t=URL.createObjectURL(i)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(i=>{const o={access_token:t,version:xx};t&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(kn.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(t)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new sw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},oc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,i,o,c,u,h,p,g;if(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:Yh,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:oc.HEARTBEAT_INTERVAL,this.worker=(c=e?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:m=>Dx[m-1]||Mx,this.encode=(p=e?.encode)!==null&&p!==void 0?p:(m,y)=>y(JSON.stringify(m)),this.decode=(g=e?.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Md extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function mt(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class Px extends Md{constructor(e,t,i){super(e),this.name="StorageApiError",this.status=t,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $h extends Md{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Ix=function(r,e,t,i){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(m){try{g(i.next(m))}catch(y){u(y)}}function p(m){try{g(i.throw(m))}catch(y){u(y)}}function g(m){m.done?c(m.value):o(m.value).then(h,p)}g((i=i.apply(r,e||[])).next())})};const aw=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>jo(async()=>{const{default:i}=await Promise.resolve().then(()=>ua);return{default:i}},void 0,import.meta.url).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},zx=()=>Ix(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield jo(()=>Promise.resolve().then(()=>ua),void 0,import.meta.url)).Response:Response}),Wh=r=>{if(Array.isArray(r))return r.map(t=>Wh(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,i])=>{const o=t.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));e[o]=Wh(i)}),e},Hx=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)};var Vi=function(r,e,t,i){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(m){try{g(i.next(m))}catch(y){u(y)}}function p(m){try{g(i.throw(m))}catch(y){u(y)}}function g(m){m.done?c(m.value):o(m.value).then(h,p)}g((i=i.apply(r,e||[])).next())})};const Eh=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Gx=(r,e,t)=>Vi(void 0,void 0,void 0,function*(){const i=yield zx();r instanceof i&&!t?.noResolveJson?r.json().then(o=>{const c=r.status||500,u=o?.statusCode||c+"";e(new Px(Eh(o),c,u))}).catch(o=>{e(new $h(Eh(o),o))}):e(new $h(Eh(r),r))}),Fx=(r,e,t,i)=>{const o={method:r,headers:e?.headers||{}};return r==="GET"||!i?o:(Hx(i)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(i)):o.body=i,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),t))};function Lo(r,e,t,i,o,c){return Vi(this,void 0,void 0,function*(){return new Promise((u,h)=>{r(t,Fx(e,i,o,c)).then(p=>{if(!p.ok)throw p;return i?.noResolveJson?p:p.json()}).then(p=>u(p)).catch(p=>Gx(p,h,i))})})}function Rc(r,e,t,i){return Vi(this,void 0,void 0,function*(){return Lo(r,"GET",e,t,i)})}function Gn(r,e,t,i,o){return Vi(this,void 0,void 0,function*(){return Lo(r,"POST",e,i,o,t)})}function ed(r,e,t,i,o){return Vi(this,void 0,void 0,function*(){return Lo(r,"PUT",e,i,o,t)})}function qx(r,e,t,i){return Vi(this,void 0,void 0,function*(){return Lo(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),i)})}function ow(r,e,t,i,o){return Vi(this,void 0,void 0,function*(){return Lo(r,"DELETE",e,i,o,t)})}var Mt=function(r,e,t,i){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(m){try{g(i.next(m))}catch(y){u(y)}}function p(m){try{g(i.throw(m))}catch(y){u(y)}}function g(m){m.done?c(m.value):o(m.value).then(h,p)}g((i=i.apply(r,e||[])).next())})};const Qx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},b0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Vx{constructor(e,t={},i,o){this.url=e,this.headers=t,this.bucketId=i,this.fetch=aw(o)}uploadOrUpdate(e,t,i,o){return Mt(this,void 0,void 0,function*(){try{let c;const u=Object.assign(Object.assign({},b0),o);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const p=u.metadata;typeof Blob<"u"&&i instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),p&&c.append("metadata",this.encodeMetadata(p)),c.append("",i)):typeof FormData<"u"&&i instanceof FormData?(c=i,c.append("cacheControl",u.cacheControl),p&&c.append("metadata",this.encodeMetadata(p))):(c=i,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,p&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),o?.headers&&(h=Object.assign(Object.assign({},h),o.headers));const g=this._removeEmptyFolders(t),m=this._getFinalPath(g),y=yield(e=="PUT"?ed:Gn)(this.fetch,`${this.url}/object/${m}`,c,Object.assign({headers:h},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:g,id:y.Id,fullPath:y.Key},error:null}}catch(c){if(mt(c))return{data:null,error:c};throw c}})}upload(e,t,i){return Mt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,i)})}uploadToSignedUrl(e,t,i,o){return Mt(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(e),u=this._getFinalPath(c),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",t);try{let p;const g=Object.assign({upsert:b0.upsert},o),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",g.cacheControl)):(p=i,m["cache-control"]=`max-age=${g.cacheControl}`,m["content-type"]=g.contentType);const y=yield ed(this.fetch,h.toString(),p,{headers:m});return{data:{path:c,fullPath:y.Key},error:null}}catch(p){if(mt(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(e,t){return Mt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const o=Object.assign({},this.headers);t?.upsert&&(o["x-upsert"]="true");const c=yield Gn(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),u=new URL(this.url+c.url),h=u.searchParams.get("token");if(!h)throw new Md("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:h},error:null}}catch(i){if(mt(i))return{data:null,error:i};throw i}})}update(e,t,i){return Mt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,i)})}move(e,t,i){return Mt(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(mt(o))return{data:null,error:o};throw o}})}copy(e,t,i){return Mt(this,void 0,void 0,function*(){try{return{data:{path:(yield Gn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(mt(o))return{data:null,error:o};throw o}})}createSignedUrl(e,t,i){return Mt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),c=yield Gn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:t},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${u}`)},{data:c,error:null}}catch(o){if(mt(o))return{data:null,error:o};throw o}})}createSignedUrls(e,t,i){return Mt(this,void 0,void 0,function*(){try{const o=yield Gn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),c=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${c}`):null})),error:null}}catch(o){if(mt(o))return{data:null,error:o};throw o}})}download(e,t){return Mt(this,void 0,void 0,function*(){const o=typeof t?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(t?.transform||{}),u=c?`?${c}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield Rc(this.fetch,`${this.url}/${o}/${h}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(mt(h))return{data:null,error:h};throw h}})}info(e){return Mt(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const i=yield Rc(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Wh(i),error:null}}catch(i){if(mt(i))return{data:null,error:i};throw i}})}exists(e){return Mt(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield qx(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(mt(i)&&i instanceof $h){const o=i.originalError;if([400,404].includes(o?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,t){const i=this._getFinalPath(e),o=[],c=t?.download?`download=${t.download===!0?"":t.download}`:"";c!==""&&o.push(c);const h=typeof t?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(t?.transform||{});p!==""&&o.push(p);let g=o.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${g}`)}}}remove(e){return Mt(this,void 0,void 0,function*(){try{return{data:yield ow(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(mt(t))return{data:null,error:t};throw t}})}list(e,t,i){return Mt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},Qx),t),{prefix:e||""});return{data:yield Gn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(mt(o))return{data:null,error:o};throw o}})}listV2(e,t){return Mt(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield Gn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},t),error:null}}catch(i){if(mt(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Kx="2.11.0",Jx={"X-Client-Info":`storage-js/${Kx}`};var Ir=function(r,e,t,i){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(m){try{g(i.next(m))}catch(y){u(y)}}function p(m){try{g(i.throw(m))}catch(y){u(y)}}function g(m){m.done?c(m.value):o(m.value).then(h,p)}g((i=i.apply(r,e||[])).next())})};class Yx{constructor(e,t={},i,o){const c=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href,this.headers=Object.assign(Object.assign({},Jx),t),this.fetch=aw(i)}listBuckets(){return Ir(this,void 0,void 0,function*(){try{return{data:yield Rc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(mt(e))return{data:null,error:e};throw e}})}getBucket(e){return Ir(this,void 0,void 0,function*(){try{return{data:yield Rc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(mt(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Ir(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(mt(i))return{data:null,error:i};throw i}})}updateBucket(e,t){return Ir(this,void 0,void 0,function*(){try{return{data:yield ed(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(mt(i))return{data:null,error:i};throw i}})}emptyBucket(e){return Ir(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(mt(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Ir(this,void 0,void 0,function*(){try{return{data:yield ow(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(mt(t))return{data:null,error:t};throw t}})}}class Xx extends Yx{constructor(e,t={},i,o){super(e,t,i,o)}from(e){return new Vx(this.url,this.headers,e,this.fetch)}}const Zx="2.56.0";let mo="";typeof Deno<"u"?mo="deno":typeof document<"u"?mo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?mo="react-native":mo="node";const $x={"X-Client-Info":`supabase-js-${mo}/${Zx}`},Wx={headers:$x},eS={schema:"public"},tS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},nS={};var sS=function(r,e,t,i){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(m){try{g(i.next(m))}catch(y){u(y)}}function p(m){try{g(i.throw(m))}catch(y){u(y)}}function g(m){m.done?c(m.value):o(m.value).then(h,p)}g((i=i.apply(r,e||[])).next())})};const iS=r=>{let e;return r?e=r:typeof fetch>"u"?e=Zb:e=fetch,(...t)=>e(...t)},rS=()=>typeof Headers>"u"?$b:Headers,aS=(r,e,t)=>{const i=iS(t),o=rS();return(c,u)=>sS(void 0,void 0,void 0,function*(){var h;const p=(h=yield e())!==null&&h!==void 0?h:r;let g=new o(u?.headers);return g.has("apikey")||g.set("apikey",r),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),i(c,Object.assign(Object.assign({},u),{headers:g}))})};var oS=function(r,e,t,i){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(m){try{g(i.next(m))}catch(y){u(y)}}function p(m){try{g(i.throw(m))}catch(y){u(y)}}function g(m){m.done?c(m.value):o(m.value).then(h,p)}g((i=i.apply(r,e||[])).next())})};function lS(r){return r.endsWith("/")?r:r+"/"}function cS(r,e){var t,i;const{db:o,auth:c,realtime:u,global:h}=r,{db:p,auth:g,realtime:m,global:y}=e,w={db:Object.assign(Object.assign({},p),o),auth:Object.assign(Object.assign({},g),c),realtime:Object.assign(Object.assign({},m),u),storage:{},global:Object.assign(Object.assign(Object.assign({},y),h),{headers:Object.assign(Object.assign({},(t=y?.headers)!==null&&t!==void 0?t:{}),(i=h?.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>oS(this,void 0,void 0,function*(){return""})};return r.accessToken?w.accessToken=r.accessToken:delete w.accessToken,w}const lw="2.71.1",Vr=30*1e3,td=3,xh=td*Vr,uS="http://localhost:9999",fS="supabase.auth.token",hS={"X-Client-Info":`gotrue-js/${lw}`},nd="X-Supabase-Api-Version",cw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},dS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,pS=600*1e3;class jd extends Error{constructor(e,t,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=i}}function fe(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class gS extends jd{constructor(e,t,i){super(e,t,i),this.name="AuthApiError",this.status=t,this.code=i}}function mS(r){return fe(r)&&r.name==="AuthApiError"}class uw extends jd{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class oi extends jd{constructor(e,t,i,o){super(e,i,o),this.name=t,this.status=i}}class $s extends oi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function yS(r){return fe(r)&&r.name==="AuthSessionMissingError"}class lc extends oi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class cc extends oi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class uc extends oi{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function bS(r){return fe(r)&&r.name==="AuthImplicitGrantRedirectError"}class w0 extends oi{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sd extends oi{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Sh(r){return fe(r)&&r.name==="AuthRetryableFetchError"}class v0 extends oi{constructor(e,t,i){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=i}}class id extends oi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Cc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),A0=` 	
\r=`.split(""),wS=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<A0.length;e+=1)r[A0[e].charCodeAt(0)]=-2;for(let e=0;e<Cc.length;e+=1)r[Cc[e].charCodeAt(0)]=e;return r})();function E0(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(Cc[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(Cc[i]),e.queuedBits-=6}}function fw(r,e,t){const i=wS[r];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function x0(r){const e=[],t=u=>{e.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=u=>{ES(u,i,t)};for(let u=0;u<r.length;u+=1)fw(r.charCodeAt(u),o,c);return e.join("")}function vS(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function AS(r,e){for(let t=0;t<r.length;t+=1){let i=r.charCodeAt(t);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(r.charCodeAt(t+1)-56320&65535|o)+65536,t+=1}vS(i,e)}}function ES(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let i=1;i<6;i+=1)if((r>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function xS(r){const e=[],t={queue:0,queuedBits:0},i=o=>{e.push(o)};for(let o=0;o<r.length;o+=1)fw(r.charCodeAt(o),t,i);return new Uint8Array(e)}function SS(r){const e=[];return AS(r,t=>e.push(t)),new Uint8Array(e)}function TS(r){const e=[],t={queue:0,queuedBits:0},i=o=>{e.push(o)};return r.forEach(o=>E0(o,t,i)),E0(null,t,i),e.join("")}function _S(r){return Math.round(Date.now()/1e3)+r}function NS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const _n=()=>typeof window<"u"&&typeof document<"u",Oi={tested:!1,writable:!1},hw=()=>{if(!_n())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Oi.tested)return Oi.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Oi.tested=!0,Oi.writable=!0}catch{Oi.tested=!0,Oi.writable=!1}return Oi.writable};function OS(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((o,c)=>{e[c]=o})}catch{}return t.searchParams.forEach((i,o)=>{e[o]=i}),e}const dw=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>jo(async()=>{const{default:i}=await Promise.resolve().then(()=>ua);return{default:i}},void 0,import.meta.url).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},kS=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Kr=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},ki=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Ks=async(r,e)=>{await r.removeItem(e)};class Hc{constructor(){this.promise=new Hc.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Hc.promiseConstructor=Promise;function Th(r){const e=r.split(".");if(e.length!==3)throw new id("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!dS.test(e[i]))throw new id("JWT not in base64url format");return{header:JSON.parse(x0(e[0])),payload:JSON.parse(x0(e[1])),signature:xS(e[2]),raw:{header:e[0],payload:e[1]}}}async function RS(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function CS(r,e){return new Promise((i,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const u=await r(c);if(!e(c,null,u)){i(u);return}}catch(u){if(!e(c,u)){o(u);return}}})()})}function BS(r){return("0"+r.toString(16)).substr(-2)}function US(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=t.length;let o="";for(let c=0;c<56;c++)o+=t.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,BS).join("")}async function DS(r){const t=new TextEncoder().encode(r),i=await crypto.subtle.digest("SHA-256",t),o=new Uint8Array(i);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function MS(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await DS(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zr(r,e,t=!1){const i=US();let o=i;t&&(o+="/PASSWORD_RECOVERY"),await Kr(r,`${e}-code-verifier`,o);const c=await MS(i);return[c,i===c?"plain":"s256"]}const jS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function LS(r){const e=r.headers.get(nd);if(!e||!e.match(jS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function PS(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function IS(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const zS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Hr(r){if(!zS.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function _h(){const r={};return new Proxy(r,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const i=t.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function S0(r){return JSON.parse(JSON.stringify(r))}var HS=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(r);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(t[i[o]]=r[i[o]]);return t};const Ci=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),GS=[502,503,504];async function T0(r){var e;if(!kS(r))throw new sd(Ci(r),0);if(GS.includes(r.status))throw new sd(Ci(r),r.status);let t;try{t=await r.json()}catch(c){throw new uw(Ci(c),c)}let i;const o=LS(r);if(o&&o.getTime()>=cw["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?i=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(i=t.error_code),i){if(i==="weak_password")throw new v0(Ci(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new $s}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((c,u)=>c&&typeof u=="string",!0))throw new v0(Ci(t),r.status,t.weak_password.reasons);throw new gS(Ci(t),r.status||500,i)}const FS=(r,e,t,i)=>{const o={method:r,headers:e?.headers||{}};return r==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),t))};async function Se(r,e,t,i){var o;const c=Object.assign({},i?.headers);c[nd]||(c[nd]=cw["2024-01-01"].name),i?.jwt&&(c.Authorization=`Bearer ${i.jwt}`);const u=(o=i?.query)!==null&&o!==void 0?o:{};i?.redirectTo&&(u.redirect_to=i.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",p=await qS(r,e,t+h,{headers:c,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(p):{data:Object.assign({},p),error:null}}async function qS(r,e,t,i,o,c){const u=FS(e,i,o,c);let h;try{h=await r(t,Object.assign({},u))}catch(p){throw console.error(p),new sd(Ci(p),0)}if(h.ok||await T0(h),i?.noResolveJson)return h;try{return await h.json()}catch(p){await T0(p)}}function ls(r){var e;let t=null;JS(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=_S(r.expires_in)));const i=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:i},error:null}}function _0(r){const e=ls(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,i)=>t&&typeof i=="string",!0)&&(e.data.weak_password=r.weak_password),e}function ei(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function QS(r){return{data:r,error:null}}function VS(r){const{action_link:e,email_otp:t,hashed_token:i,redirect_to:o,verification_type:c}=r,u=HS(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:t,hashed_token:i,redirect_to:o,verification_type:c},p=Object.assign({},u);return{data:{properties:h,user:p},error:null}}function KS(r){return r}function JS(r){return r.access_token&&r.refresh_token&&r.expires_in}const Nh=["global","local","others"];var YS=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(r);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(t[i[o]]=r[i[o]]);return t};class XS{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=dw(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=Nh[0]){if(Nh.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Nh.join(", ")}`);try{return await Se(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(fe(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,t={}){try{return await Se(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ei})}catch(i){if(fe(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:t}=e,i=YS(e,["options"]),o=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),await Se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:VS,redirectTo:t?.redirectTo})}catch(t){if(fe(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Se(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ei})}catch(t){if(fe(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,i,o,c,u,h,p;try{const g={nextPage:null,lastPage:0,total:0},m=await Se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(c=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:KS});if(m.error)throw m.error;const y=await m.json(),w=(u=m.headers.get("x-total-count"))!==null&&u!==void 0?u:0,x=(p=(h=m.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return x.length>0&&(x.forEach(T=>{const S=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(T.split(";")[1].split("=")[1]);g[`${_}Page`]=S}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(fe(g))return{data:{users:[]},error:g};throw g}}async getUserById(e){Hr(e);try{return await Se(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ei})}catch(t){if(fe(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Hr(e);try{return await Se(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:ei})}catch(i){if(fe(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,t=!1){Hr(e);try{return await Se(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:ei})}catch(i){if(fe(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Hr(e.userId);try{const{data:t,error:i}=await Se(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:t,error:i}}catch(t){if(fe(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Hr(e.userId),Hr(e.id);try{return{data:await Se(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(fe(t))return{data:null,error:t};throw t}}}function N0(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function ZS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Gr={debug:!!(globalThis&&hw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pw extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class $S extends pw{}async function WS(r,e,t){Gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Gr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){Gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,o.name);try{return await t()}finally{Gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,o.name)}}else{if(e===0)throw Gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new $S(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Gr.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}ZS();const eT={url:uS,storageKey:fS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function O0(r,e,t){return await t()}const Fr={};class _o{constructor(e){var t,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=_o.nextInstanceID,_o.nextInstanceID+=1,this.instanceID>0&&_n()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},eT),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new XS({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=dw(o.fetch),this.lock=o.lock||O0,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:_n()&&(!((t=globalThis?.navigator)===null||t===void 0)&&t.locks)?this.lock=WS:this.lock=O0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:hw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=N0(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=N0(this.memoryStorage)),_n()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}get jwks(){var e,t;return(t=(e=Fr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Fr[this.storageKey]=Object.assign(Object.assign({},Fr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Fr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Fr[this.storageKey]=Object.assign(Object.assign({},Fr[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${lw}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=OS(window.location.href);let i="none";if(this._isImplicitGrantCallback(t)?i="implicit":await this._isPKCECallback(t)&&(i="pkce"),_n()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:c}=await this._getSessionFromURL(t,i);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),bS(c)){const p=(e=c.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:u,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return fe(t)?{error:t}:{error:new uw("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,i,o;try{const c=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:ls}),{data:u,error:h}=c;if(h||!u)return{data:{user:null,session:null},error:h};const p=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(c){if(fe(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(e){var t,i,o;try{let c;if("email"in e){const{email:m,password:y,options:w}=e;let x=null,T=null;this.flowType==="pkce"&&([x,T]=await zr(this.storage,this.storageKey)),c=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:m,password:y,data:(t=w?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:x,code_challenge_method:T},xform:ls})}else if("phone"in e){const{phone:m,password:y,options:w}=e;c=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:y,data:(i=w?.data)!==null&&i!==void 0?i:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:ls})}else throw new cc("You must provide either an email or phone number and a password");const{data:u,error:h}=c;if(h||!u)return{data:{user:null,session:null},error:h};const p=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(c){if(fe(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(e){try{let t;if("email"in e){const{email:c,password:u,options:h}=e;t=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:_0})}else if("phone"in e){const{phone:c,password:u,options:h}=e;t=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:_0})}else throw new cc("You must provide either an email or phone number and a password");const{data:i,error:o}=t;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new lc}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(t){if(fe(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,i,o,c;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=e.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,i,o,c,u,h,p,g,m,y,w,x;let T,S;if("message"in e)T=e.message,S=e.signature;else{const{chain:_,wallet:U,statement:F,options:R}=e;let z;if(_n())if(typeof U=="object")z=U;else{const H=window;if("solana"in H&&typeof H.solana=="object"&&("signIn"in H.solana&&typeof H.solana.signIn=="function"||"signMessage"in H.solana&&typeof H.solana.signMessage=="function"))z=H.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=U}const K=new URL((t=R?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in z&&z.signIn){const H=await z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R?.signInWithSolana),{version:"1",domain:K.host,uri:K.href}),F?{statement:F}:null));let J;if(Array.isArray(H)&&H[0]&&typeof H[0]=="object")J=H[0];else if(H&&typeof H=="object"&&"signedMessage"in H&&"signature"in H)J=H;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)T=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),S=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${K.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...F?["",F,""]:[""],"Version: 1",`URI: ${K.href}`,`Issued At: ${(o=(i=R?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=R?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((u=R?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((h=R?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((p=R?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((g=R?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((y=(m=R?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||y===void 0)&&y.length?["Resources",...R.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);const H=await z.signMessage(new TextEncoder().encode(T),"utf8");if(!H||!(H instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=H}}try{const{data:_,error:U}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:TS(S)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:ls});if(U)throw U;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new lc}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:U})}catch(_){if(fe(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const t=await ki(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(t??"").split("/");try{const{data:c,error:u}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:ls});if(await Ks(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new lc}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:u})}catch(c){if(fe(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(e){try{const{options:t,provider:i,token:o,access_token:c,nonce:u}=e,h=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:c,nonce:u,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:ls}),{data:p,error:g}=h;return g?{data:{user:null,session:null},error:g}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new lc}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:g})}catch(t){if(fe(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,i,o,c,u;try{if("email"in e){const{email:h,options:p}=e;let g=null,m=null;this.flowType==="pkce"&&([g,m]=await zr(this.storage,this.storageKey));const{error:y}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(t=p?.data)!==null&&t!==void 0?t:{},create_user:(i=p?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:m},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in e){const{phone:h,options:p}=e,{data:g,error:m}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=p?.data)!==null&&o!==void 0?o:{},create_user:(c=p?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(u=p?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:g?.message_id},error:m}}throw new cc("You must provide either an email or phone number.")}catch(h){if(fe(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var t,i;try{let o,c;"options"in e&&(o=(t=e.options)===null||t===void 0?void 0:t.redirectTo,c=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:h}=await Se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:ls});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const p=u.session,g=u.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(o){if(fe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var t,i,o;try{let c=null,u=null;return this.flowType==="pkce"&&([c,u]=await zr(this.storage,this.storageKey)),await Se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:QS})}catch(c){if(fe(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;if(i)throw i;if(!t)throw new $s;const{error:o}=await Se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(fe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:i,type:o,options:c}=e,{error:u}=await Se(this.fetch,"POST",t,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:i,type:o,options:c}=e,{data:u,error:h}=await Se(this.fetch,"POST",t,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:h}}throw new cc("You must provide either an email or phone number and a type")}catch(t){if(fe(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await t()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=t();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await ki(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<xh:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const u=await ki(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=_h()}if(this.storage.isServer&&e.user){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(p,g,m)=>(!u&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,g,m))})}return{data:{session:e},error:null}}const{session:o,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{session:null},error:c}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ei}):await this._useSession(async t=>{var i,o,c;const{data:u,error:h}=t;if(h)throw h;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $s}:await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:ei})})}catch(t){if(fe(t))return yS(t)&&(await this._removeSession(),await Ks(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async i=>{const{data:o,error:c}=i;if(c)throw c;if(!o.session)throw new $s;const u=o.session;let h=null,p=null;this.flowType==="pkce"&&e.email!=null&&([h,p]=await zr(this.storage,this.storageKey));const{data:g,error:m}=await Se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:p}),jwt:u.access_token,xform:ei});if(m)throw m;return u.user=g.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(i){if(fe(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new $s;const t=Date.now()/1e3;let i=t,o=!0,c=null;const{payload:u}=Th(e.access_token);if(u.exp&&(i=u.exp,o=i<=t),o){const{session:h,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!h)return{data:{user:null,session:null},error:null};c=h}else{const{data:h,error:p}=await this._getUser(e.access_token);if(p)throw p;c={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:i-t,expires_at:i},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(t){if(fe(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var i;if(!e){const{data:u,error:h}=t;if(h)throw h;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new $s;const{session:o,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{user:null,session:null},error:c}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(fe(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!_n())throw new uc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new uc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new w0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new uc("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new w0("No code detected.");const{data:F,error:R}=await this._exchangeCodeForSession(e.code);if(R)throw R;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:F.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:c,refresh_token:u,expires_in:h,expires_at:p,token_type:g}=e;if(!c||!h||!u||!g)throw new uc("No session defined in URL");const m=Math.round(Date.now()/1e3),y=parseInt(h);let w=m+y;p&&(w=parseInt(p));const x=w-m;x*1e3<=Vr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${y}s`);const T=w-y;m-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,w,m):m-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,w,m);const{data:S,error:_}=await this._getUser(c);if(_)throw _;const U={provider_token:i,provider_refresh_token:o,access_token:c,expires_in:y,expires_at:w,refresh_token:u,token_type:g,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:U,redirectType:e.type},error:null}}catch(i){if(fe(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await ki(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var i;const{data:o,error:c}=t;if(c)return{error:c};const u=(i=o.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(mS(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await Ks(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=NS(),i={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async t=>{var i,o;try{const{data:{session:c},error:u}=t;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",e,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",c),console.error(c)}})}async resetPasswordForEmail(e,t={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await zr(this.storage,this.storageKey,!0));try{return await Se(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(c){if(fe(c))return{data:null,error:c};throw c}}async getUserIdentities(){var e;try{const{data:t,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(fe(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:i,error:o}=await this._useSession(async c=>{var u,h,p,g,m;const{data:y,error:w}=c;if(w)throw w;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Se(this.fetch,"GET",x,{headers:this.headers,jwt:(m=(g=y.session)===null||g===void 0?void 0:g.access_token)!==null&&m!==void 0?m:void 0})});if(o)throw o;return _n()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(fe(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var i,o;const{data:c,error:u}=t;if(u)throw u;return await Se(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(t){if(fe(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await CS(async o=>(o>0&&await RS(200*Math.pow(2,o-1)),this._debug(t,"refreshing attempt",o),await Se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ls})),(o,c)=>{const u=200*Math.pow(2,o);return c&&Sh(c)&&Date.now()+u-i<Vr})}catch(i){if(this._debug(t,"error",i),fe(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",i),_n()&&!t.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,t;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await ki(this.storage,this.storageKey);if(o&&this.userStorage){let u=await ki(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await Kr(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u?.user)!==null&&e!==void 0?e:_h()}else if(o&&!o.user&&!o.user){const u=await ki(this.storage,this.storageKey+"-user");u&&u?.user?(o.user=u.user,await Ks(this.storage,this.storageKey+"-user"),await Kr(this.storage,this.storageKey,o)):o.user=_h()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const c=((t=o.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<xh;if(this._debug(i,`session has${c?"":" not"} expired with margin of ${xh}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),Sh(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(o.access_token);!h&&u?.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var t,i;if(!e)throw new $s;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Hc;const{data:c,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!c.session)throw new $s;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const h={session:c.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(c){if(this._debug(o,"error",c),fe(c)){const u={session:null,error:c};return Sh(c)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,t,i=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",t,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:t});const c=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,t)}catch(p){c.push(p)}});if(await Promise.all(u),c.length>0){for(let h=0;h<c.length;h+=1)console.error(c[h]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),i=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&t.user&&await Kr(this.userStorage,this.storageKey+"-user",{user:t.user});const o=Object.assign({},t);delete o.user;const c=S0(o);await Kr(this.storage,this.storageKey,c)}else{const o=S0(t);await Kr(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Ks(this.storage,this.storageKey),await Ks(this.storage,this.storageKey+"-code-verifier"),await Ks(this.storage,this.storageKey+"-user"),this.userStorage&&await Ks(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&_n()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Vr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:i}}=t;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/Vr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Vr}ms, refresh threshold is ${td} ticks`),o<=td&&await this._callRefreshToken(i.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof pw)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_n()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,i){const o=[`provider=${encodeURIComponent(t)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[c,u]=await zr(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(h.toString())}if(i?.queryParams){const c=new URLSearchParams(i.queryParams);o.push(c.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var i;const{data:o,error:c}=t;return c?{data:null,error:c}:await Se(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(fe(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var i,o;const{data:c,error:u}=t;if(u)return{data:null,error:u};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:p,error:g}=await Se(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});return g?{data:null,error:g}:(e.factorType==="totp"&&(!((o=p?.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(t){if(fe(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:o,error:c}=t;if(c)return{data:null,error:c};const{data:u,error:h}=await Se(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:h})})}catch(t){if(fe(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:o,error:c}=t;return c?{data:null,error:c}:await Se(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(fe(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const i=e?.factors||[],o=i.filter(u=>u.factor_type==="totp"&&u.status==="verified"),c=i.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:i,totp:o,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,i;const{data:{session:o},error:c}=e;if(c)return{data:null,error:c};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Th(o.access_token);let h=null;u.aal&&(h=u.aal);let p=h;((i=(t=o.user.factors)===null||t===void 0?void 0:t.filter(y=>y.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(p="aal2");const m=u.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(e,t={keys:[]}){let i=t.keys.find(h=>h.kid===e);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(h=>h.kid===e),i&&this.jwks_cached_at+pS>o)return i;const{data:c,error:u}=await Se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,i=c.keys.find(h=>h.kid===e),!i)?null:i}async getClaims(e,t={}){try{let i=e;if(!i){const{data:x,error:T}=await this.getSession();if(T||!x.session)return{data:null,error:T};i=x.session.access_token}const{header:o,payload:c,signature:u,raw:{header:h,payload:p}}=Th(i);t?.allowExpired||PS(c.exp);const g=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!g){const{error:x}=await this.getUser(i);if(x)throw x;return{data:{claims:c,header:o,signature:u},error:null}}const m=IS(o.alg),y=await crypto.subtle.importKey("jwk",g,m,!0,["verify"]);if(!await crypto.subtle.verify(m,y,u,SS(`${h}.${p}`)))throw new id("Invalid JWT signature");return{data:{claims:c,header:o,signature:u},error:null}}catch(i){if(fe(i))return{data:null,error:i};throw i}}}_o.nextInstanceID=0;const tT=_o;class nT extends tT{constructor(e){super(e)}}var sT=function(r,e,t,i){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(m){try{g(i.next(m))}catch(y){u(y)}}function p(m){try{g(i.throw(m))}catch(y){u(y)}}function g(m){m.done?c(m.value):o(m.value).then(h,p)}g((i=i.apply(r,e||[])).next())})};class iT{constructor(e,t,i){var o,c,u;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const h=lS(e),p=new URL(h);this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const g=`sb-${p.hostname.split(".")[0]}-auth-token`,m={db:eS,realtime:nS,auth:Object.assign(Object.assign({},tS),{storageKey:g}),global:Wx},y=cS(i??{},m);this.storageKey=(o=y.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(w,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=y.auth)!==null&&u!==void 0?u:{},this.headers,y.global.fetch),this.fetch=aS(t,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new vx(new URL("rest/v1",p).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new Xx(this.storageUrl.href,this.headers,this.fetch,i?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new ux(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},i={}){return this.rest.rpc(e,t,i)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return sT(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(t=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:o,storageKey:c,flowType:u,lock:h,debug:p},g,m){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new nT({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),g),storageKey:c,autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:o,flowType:u,lock:h,debug:p,fetch:m,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Lx(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,i)=>{this._handleTokenChanged(t,"CLIENT",i?.access_token)})}_handleTokenChanged(e,t,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const rT=(r,e,t)=>new iT(r,e,t);function aT(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}aT()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const oT="https://kioagchqxghozubrtqbh.supabase.co",lT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtpb2FnY2hxeGdob3p1YnJ0cWJoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYzNTk1OTYsImV4cCI6MjA3MTkzNTU5Nn0.LYZqpeTrVEKaEiiOqcbf742wiNVNHKp58CwxB8Ess9c",fc=rT(oT,lT),cT=r=>{try{const e=new Date(r);return`${e.toLocaleDateString()} ${e.toLocaleTimeString()}`}catch{return""}},uT=()=>{const{address:r,isConnected:e}=Mo(),[t,i]=ye.useState(""),[o,c]=ye.useState([]),[u,h]=ye.useState(!1),[p,g]=ye.useState("");ye.useEffect(()=>{(async()=>{h(!0),g("");const{data:T,error:S}=await fc.from("comments").select("id,address,content,created_at").order("created_at",{ascending:!1});S?g("댓글을 불러오는 중 오류가 발생했습니다."):c(Array.isArray(T)?T:[]),h(!1)})();const x=fc.channel("public:comments").on("postgres_changes",{event:"INSERT",schema:"public",table:"comments"},T=>{const S=T.new;c(_=>_.find(U=>U.id===S.id)?_:[S,..._])}).subscribe();return()=>{fc.removeChannel(x)}},[]);const m=ye.useMemo(()=>t.trim().length>0,[t]),y=async w=>{if(w.preventDefault(),!m||!e)return;g("");const{data:x,error:T}=await fc.from("comments").insert({address:r,content:t.trim()}).select("id,address,content,created_at").single();if(T){g("댓글 등록에 실패했습니다.");return}x&&(c(S=>[x,...S]),i(""))};return A.jsxs("div",{className:"comments-container animate-fade-in-up",children:[A.jsx("h3",{className:"comments-title",children:"💬 댓글"}),e?A.jsxs("form",{className:"comments-form animate-fade-in-scale animate-delay-200",onSubmit:y,children:[A.jsx("div",{className:"comments-form-row",children:A.jsx("textarea",{value:t,onChange:w=>i(w.target.value),placeholder:"댓글을 입력하세요... 📝",rows:3,className:"comments-textarea focus-ring"})}),A.jsx("div",{className:"comments-actions",children:A.jsx("button",{type:"submit",className:"comments-submit hover-lift",disabled:!m,children:u?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"loading-spinner"}),"등록 중..."]}):A.jsx(A.Fragment,{children:"🚀 등록"})})})]}):A.jsxs("div",{className:"comments-guard animate-fade-in-scale animate-delay-200",children:[A.jsx("span",{className:"animate-pulse",children:"🔒"})," 지갑을 연결해야 댓글을 작성할 수 있어요."]}),A.jsx("div",{className:"comments-list animate-fade-in-up animate-delay-300",children:u?A.jsxs("div",{className:"comments-empty",children:[A.jsxs("div",{className:"loading-dots",children:[A.jsx("span",{}),A.jsx("span",{}),A.jsx("span",{})]}),A.jsx("span",{style:{marginLeft:"12px"},children:"댓글을 불러오는 중..."})]}):p?A.jsxs("p",{className:"comments-empty",children:[A.jsx("span",{className:"animate-pulse",children:"⚠️"})," ",p]}):o.length===0?A.jsxs("p",{className:"comments-empty",children:[A.jsx("span",{className:"animate-float",children:"🎆"})," 첫 댓글을 남겨보세요!"]}):A.jsx("div",{className:"stagger-children",children:o.map((w,x)=>A.jsxs("div",{className:"comment-item hover-lift",style:{animationDelay:`${x*.1}s`},children:[A.jsxs("div",{className:"comment-header",children:[A.jsxs("span",{className:"comment-address hover-scale",children:["👤 ",w.address?.slice(0,6),"...",w.address?.slice(-4)]}),A.jsxs("span",{className:"comment-date",children:["🕰️ ",cT(w.created_at)]})]}),A.jsx("p",{className:"comment-text",children:w.content})]},w.id))})}),A.jsx("style",{children:`
        .comments-container { 
          margin-top: 32px; 
          background: var(--glass-bg); 
          backdrop-filter: blur(20px);
          border: 1px solid var(--glass-border); 
          border-radius: var(--radius-lg); 
          padding: 24px; 
          color: var(--text-primary);
          transition: all 0.3s ease;
        }
        .comments-container:hover {
          border-color: var(--primary-color);
          box-shadow: var(--shadow-light);
        }
        .comments-title { 
          margin: 0 0 20px 0; 
          font-size: 1.4rem; 
          font-weight: 700; 
          color: var(--text-primary);
          background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }
        .comments-form-row { margin-bottom: 16px; }
        .comments-textarea { 
          width: 100%; 
          padding: 16px; 
          border: 1px solid var(--border-color); 
          border-radius: var(--radius-md); 
          outline: none; 
          font-size: 1rem; 
          color: var(--text-primary); 
          background: var(--glass-bg);
          backdrop-filter: blur(10px);
          transition: all 0.3s ease;
          resize: vertical;
          min-height: 120px;
          font-family: inherit;
        }
        .comments-textarea::placeholder { 
          color: var(--text-muted); 
        }
        .comments-textarea:focus { 
          border-color: var(--primary-color); 
          box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
          background: var(--surface-hover);
        }
        .comments-actions { 
          display: flex; 
          justify-content: flex-end; 
        }
        .comments-submit { 
          background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
          color: white;
          border: none; 
          border-radius: var(--radius-md); 
          padding: 12px 24px; 
          cursor: pointer; 
          font-size: 1rem; 
          font-weight: 600;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          position: relative;
          overflow: hidden;
          display: flex;
          align-items: center;
          gap: 8px;
        }
        .comments-submit::before {
          content: '';
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
          transition: left 0.5s;
        }
        .comments-submit:hover::before {
          left: 100%;
        }
        .comments-submit:hover {
          background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
          transform: translateY(-2px);
          box-shadow: var(--shadow-medium);
        }
        .comments-submit[disabled] { 
          background: var(--surface-color);
          cursor: not-allowed; 
          opacity: 0.5;
          transform: none;
        }
        .comments-submit[disabled]::before { display: none; }
        .comments-list { 
          margin-top: 24px; 
          display: flex; 
          flex-direction: column; 
          gap: 16px; 
        }
        .comments-empty { 
          color: var(--text-secondary); 
          margin: 0; 
          font-size: 1rem;
          text-align: center;
          padding: 24px;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
        }
        .comment-item { 
          border: 1px solid var(--glass-border); 
          border-radius: var(--radius-md); 
          padding: 20px; 
          background: var(--glass-bg);
          backdrop-filter: blur(10px);
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          cursor: default;
        }
        .comment-item:hover {
          border-color: var(--primary-color);
          background: var(--surface-hover);
        }
        .comment-header { 
          display: flex; 
          gap: 12px; 
          align-items: center; 
          margin-bottom: 12px; 
          flex-wrap: wrap; 
        }
        .comment-address { 
          font-weight: 600; 
          color: var(--accent-color); 
          font-size: 0.85rem; 
          font-family: 'JetBrains Mono', 'Fira Code', 'Courier New', monospace; 
          background: rgba(6, 182, 212, 0.1);
          padding: 6px 12px; 
          border-radius: var(--radius-sm);
          border: 1px solid rgba(6, 182, 212, 0.2);
          transition: all 0.3s ease;
          cursor: pointer;
        }
        .comment-address:hover {
          background: rgba(6, 182, 212, 0.15);
          border-color: var(--accent-color);
        }
        .comment-date { 
          color: var(--text-muted); 
          font-size: 0.8rem;
          font-weight: 500;
        }
        .comment-text { 
          margin: 0; 
          white-space: pre-wrap; 
          color: var(--text-primary); 
          font-size: 1rem; 
          line-height: 1.7;
          word-break: break-word;
        }
        .comments-guard { 
          color: var(--text-secondary); 
          font-size: 1rem; 
          background: var(--surface-color);
          border: 1px dashed var(--border-color); 
          padding: 20px; 
          border-radius: var(--radius-md);
          text-align: center;
          font-weight: 500;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
        }

        @media (max-width: 768px) {
          .comments-container { 
            padding: 20px; 
            margin-top: 24px;
          }
          .comments-title { 
            font-size: 1.3rem; 
          }
          .comments-textarea { 
            font-size: 16px;
            padding: 14px;
            min-height: 100px;
          }
          .comments-submit {
            padding: 14px 20px;
            font-size: 0.95rem;
            width: 100%;
          }
          .comment-text { 
            font-size: 1rem; 
          }
          .comment-header {
            flex-direction: column;
            align-items: flex-start;
            gap: 8px;
          }
        }
        
        @media (max-width: 480px) {
          .comments-container {
            padding: 16px;
          }
          .comments-title { 
            font-size: 1.2rem; 
          }
          .comments-textarea { 
            font-size: 16px;
            padding: 12px;
          }
          .comment-text { 
            font-size: 0.95rem; 
          }
        }
      `})]})},fT=()=>{const{address:r,isConnected:e}=Mo(),{connect:t,connectors:i,isPending:o}=LE(),{disconnect:c}=PE();return console.log("Connectors:",i),console.log("First connector:",i[0]),A.jsxs("div",{className:"animate-fade-in",children:[A.jsx("div",{className:"page-header animate-fade-in-scale",children:A.jsx("h2",{children:"홈 🏠"})}),A.jsxs("div",{className:"home-welcome-card animate-fade-in-up animate-delay-200",children:[A.jsx("h3",{className:"home-welcome-title",children:"Web3 블로그에 오신 것을 환영합니다! 🚀"}),A.jsx("p",{className:"home-welcome-text",children:"블록체인 기술과 Web3 생태계에 대한 최신 정보를 확인하고, 다양한 DeFi 서비스를 경험해보세요."}),e?A.jsx("div",{className:"wallet-connected animate-fade-in-scale animate-delay-300",children:A.jsxs("div",{className:"wallet-connected-content",children:[A.jsxs("div",{children:[A.jsxs("p",{className:"wallet-connected-info",children:[A.jsx("span",{className:"animate-pulse",children:"✅"})," 지갑이 연결되었습니다"]}),A.jsx("p",{className:"wallet-address",children:r})]}),A.jsx("button",{onClick:()=>c(),className:"disconnect-button hover-lift",children:"연결 해제"})]})}):A.jsxs("div",{className:"wallet-not-connected animate-fade-in-scale animate-delay-300",children:[A.jsxs("p",{className:"wallet-not-connected-text",children:[A.jsx("span",{className:"animate-pulse",children:"⚠️"})," 지갑을 연결하여 모든 기능을 이용해보세요."]}),A.jsx("div",{className:"connect-buttons",children:i.length>0?i.map(u=>A.jsx("button",{onClick:()=>t({connector:u}),disabled:o,className:"connect-button hover-lift",children:o?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"loading-spinner"}),"연결 중..."]}):`🔗 연결 ${u.name}`},u.uid)):A.jsx("p",{children:"사용 가능한 지갑이 없습니다."})})]})]}),A.jsx("div",{className:"animate-fade-in-up animate-delay-500",children:A.jsx(uT,{})})]})},hT="6.15.0";function dT(r,e,t){const i=e.split("|").map(c=>c.trim());for(let c=0;c<i.length;c++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof r===e)return}const o=new Error(`invalid value for type ${e}`);throw o.code="INVALID_ARGUMENT",o.argument=`value.${t}`,o.value=r,o}async function jt(r){const e=Object.keys(r);return(await Promise.all(e.map(i=>Promise.resolve(r[i])))).reduce((i,o,c)=>(i[e[c]]=o,i),{})}function ae(r,e,t){for(let i in e){let o=e[i];const c=t?t[i]:null;c&&dT(o,c,i),Object.defineProperty(r,i,{enumerable:!0,value:o,writable:!1})}}function Yr(r,e){if(r==null)return"null";if(e==null&&(e=new Set),typeof r=="object"){if(e.has(r))return"[Circular]";e.add(r)}if(Array.isArray(r))return"[ "+r.map(t=>Yr(t,e)).join(", ")+" ]";if(r instanceof Uint8Array){const t="0123456789abcdef";let i="0x";for(let o=0;o<r.length;o++)i+=t[r[o]>>4],i+=t[r[o]&15];return i}if(typeof r=="object"&&typeof r.toJSON=="function")return Yr(r.toJSON(),e);switch(typeof r){case"boolean":case"number":case"symbol":return r.toString();case"bigint":return BigInt(r).toString();case"string":return JSON.stringify(r);case"object":{const t=Object.keys(r);return t.sort(),"{ "+t.map(i=>`${Yr(i,e)}: ${Yr(r[i],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function kt(r,e){return r&&r.code===e}function Ld(r){return kt(r,"CALL_EXCEPTION")}function Ye(r,e,t){let i=r;{const c=[];if(t){if("message"in t||"code"in t||"name"in t)throw new Error(`value will overwrite populated values: ${Yr(t)}`);for(const u in t){if(u==="shortMessage")continue;const h=t[u];c.push(u+"="+Yr(h))}}c.push(`code=${e}`),c.push(`version=${hT}`),c.length&&(r+=" ("+c.join(", ")+")")}let o;switch(e){case"INVALID_ARGUMENT":o=new TypeError(r);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":o=new RangeError(r);break;default:o=new Error(r)}return ae(o,{code:e}),t&&Object.assign(o,t),o.shortMessage==null&&ae(o,{shortMessage:i}),o}function Q(r,e,t,i){if(!r)throw Ye(e,t,i)}function k(r,e,t,i){Q(r,e,"INVALID_ARGUMENT",{argument:t,value:i})}function gw(r,e,t){t==null&&(t=""),t&&(t=": "+t),Q(r>=e,"missing argument"+t,"MISSING_ARGUMENT",{count:r,expectedCount:e}),Q(r<=e,"too many arguments"+t,"UNEXPECTED_ARGUMENT",{count:r,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((r,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");r.push(e)}catch{}return r},[]);function Gc(r,e,t){if(t==null&&(t=""),r!==e){let i=t,o="new";t&&(i+=".",o+=" "+t),Q(!1,`private constructor; use ${i}from* methods`,"UNSUPPORTED_OPERATION",{operation:o})}}function mw(r,e,t){if(r instanceof Uint8Array)return t?new Uint8Array(r):r;if(typeof r=="string"&&r.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const i=new Uint8Array((r.length-2)/2);let o=2;for(let c=0;c<i.length;c++)i[c]=parseInt(r.substring(o,o+2),16),o+=2;return i}k(!1,"invalid BytesLike value",e||"value",r)}function ve(r,e){return mw(r,e,!1)}function Lt(r,e){return mw(r,e,!0)}function Ve(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&r.length!==2+2*e||e===!0&&r.length%2!==0)}function Pd(r){return Ve(r,!0)||r instanceof Uint8Array}const k0="0123456789abcdef";function Y(r){const e=ve(r);let t="0x";for(let i=0;i<e.length;i++){const o=e[i];t+=k0[(o&240)>>4]+k0[o&15]}return t}function st(r){return"0x"+r.map(e=>Y(e).substring(2)).join("")}function Zr(r){return Ve(r,!0)?(r.length-2)/2:ve(r).length}function et(r,e,t){const i=ve(r);return t!=null&&t>i.length&&Q(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:i,length:i.length,offset:t}),Y(i.slice(e??0,t??i.length))}function yw(r,e,t){const i=ve(r);Q(e>=i.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(i),length:e,offset:e+1});const o=new Uint8Array(e);return o.fill(0),t?o.set(i,e-i.length):o.set(i,0),Y(o)}function bs(r,e){return yw(r,e,!0)}function pT(r,e){return yw(r,e,!1)}const Fc=BigInt(0),Bn=BigInt(1),Xr=9007199254740991;function gT(r,e){const t=qc(r,"value"),i=BigInt(Ae(e,"width"));if(Q(t>>i===Fc,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:r}),t>>i-Bn){const o=(Bn<<i)-Bn;return-((~t&o)+Bn)}return t}function bw(r,e){let t=W(r,"value");const i=BigInt(Ae(e,"width")),o=Bn<<i-Bn;if(t<Fc){t=-t,Q(t<=o,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});const c=(Bn<<i)-Bn;return(~t&c)+Bn}else Q(t<o,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});return t}function yo(r,e){const t=qc(r,"value"),i=BigInt(Ae(e,"bits"));return t&(Bn<<i)-Bn}function W(r,e){switch(typeof r){case"bigint":return r;case"number":return k(Number.isInteger(r),"underflow",e||"value",r),k(r>=-Xr&&r<=Xr,"overflow",e||"value",r),BigInt(r);case"string":try{if(r==="")throw new Error("empty string");return r[0]==="-"&&r[1]!=="-"?-BigInt(r.substring(1)):BigInt(r)}catch(t){k(!1,`invalid BigNumberish string: ${t.message}`,e||"value",r)}}k(!1,"invalid BigNumberish value",e||"value",r)}function qc(r,e){const t=W(r,e);return Q(t>=Fc,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:r}),t}const R0="0123456789abcdef";function Id(r){if(r instanceof Uint8Array){let e="0x0";for(const t of r)e+=R0[t>>4],e+=R0[t&15];return BigInt(e)}return W(r)}function Ae(r,e){switch(typeof r){case"bigint":return k(r>=-Xr&&r<=Xr,"overflow",e||"value",r),Number(r);case"number":return k(Number.isInteger(r),"underflow",e||"value",r),k(r>=-Xr&&r<=Xr,"overflow",e||"value",r),r;case"string":try{if(r==="")throw new Error("empty string");return Ae(BigInt(r),e)}catch(t){k(!1,`invalid numeric string: ${t.message}`,e||"value",r)}}k(!1,"invalid numeric value",e||"value",r)}function mT(r){return Ae(Id(r))}function ri(r,e){let i=qc(r,"value").toString(16);if(e==null)i.length%2&&(i="0"+i);else{const o=Ae(e,"width");for(Q(o*2>=i.length,`value exceeds width (${o} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:r});i.length<o*2;)i="0"+i}return"0x"+i}function yt(r){const e=qc(r,"value");if(e===Fc)return new Uint8Array([]);let t=e.toString(16);t.length%2&&(t="0"+t);const i=new Uint8Array(t.length/2);for(let o=0;o<i.length;o++){const c=o*2;i[o]=parseInt(t.substring(c,c+2),16)}return i}function Cn(r){let e=Y(Pd(r)?r:yt(r)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const C0="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const B0=BigInt(58);function yT(r){const e=ve(r);let t=Id(e),i="";for(;t;)i=C0[Number(t%B0)]+i,t/=B0;for(let o=0;o<e.length&&!e[o];o++)i=C0[0]+i;return i}function bT(r){r=atob(r);const e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return ve(e)}function wT(r){const e=ve(r);let t="";for(let i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return btoa(t)}class ww{filter;emitter;#e;constructor(e,t,i){this.#e=t,ae(this,{emitter:e,filter:i})}async removeListener(){this.#e!=null&&await this.emitter.off(this.filter,this.#e)}}function vT(r,e,t,i,o){k(!1,`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function vw(r,e,t,i,o){if(r==="BAD_PREFIX"||r==="UNEXPECTED_CONTINUE"){let c=0;for(let u=e+1;u<t.length&&t[u]>>6===2;u++)c++;return c}return r==="OVERRUN"?t.length-e-1:0}function AT(r,e,t,i,o){return r==="OVERLONG"?(k(typeof o=="number","invalid bad code point for replacement","badCodepoint",o),i.push(o),0):(i.push(65533),vw(r,e,t))}const ET=Object.freeze({error:vT,ignore:vw,replace:AT});function xT(r,e){e==null&&(e=ET.error);const t=ve(r,"bytes"),i=[];let o=0;for(;o<t.length;){const c=t[o++];if(c>>7===0){i.push(c);continue}let u=null,h=null;if((c&224)===192)u=1,h=127;else if((c&240)===224)u=2,h=2047;else if((c&248)===240)u=3,h=65535;else{(c&192)===128?o+=e("UNEXPECTED_CONTINUE",o-1,t,i):o+=e("BAD_PREFIX",o-1,t,i);continue}if(o-1+u>=t.length){o+=e("OVERRUN",o-1,t,i);continue}let p=c&(1<<8-u-1)-1;for(let g=0;g<u;g++){let m=t[o];if((m&192)!=128){o+=e("MISSING_CONTINUE",o,t,i),p=null;break}p=p<<6|m&63,o++}if(p!==null){if(p>1114111){o+=e("OUT_OF_RANGE",o-1-u,t,i,p);continue}if(p>=55296&&p<=57343){o+=e("UTF16_SURROGATE",o-1-u,t,i,p);continue}if(p<=h){o+=e("OVERLONG",o-1-u,t,i,p);continue}i.push(p)}}return i}function ms(r,e){k(typeof r=="string","invalid string value","str",r);let t=[];for(let i=0;i<r.length;i++){const o=r.charCodeAt(i);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192),t.push(o&63|128);else if((o&64512)==55296){i++;const c=r.charCodeAt(i);k(i<r.length&&(c&64512)===56320,"invalid surrogate pair","str",r);const u=65536+((o&1023)<<10)+(c&1023);t.push(u>>18|240),t.push(u>>12&63|128),t.push(u>>6&63|128),t.push(u&63|128)}else t.push(o>>12|224),t.push(o>>6&63|128),t.push(o&63|128)}return new Uint8Array(t)}function ST(r){return r.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Bc(r,e){return ST(xT(r,e))}function Aw(r){async function e(t,i){Q(i==null||!i.cancelled,"request cancelled before sending","CANCELLED");const o=t.url.split(":")[0].toLowerCase();Q(o==="http"||o==="https",`unsupported protocol ${o}`,"UNSUPPORTED_OPERATION",{info:{protocol:o},operation:"request"}),Q(o==="https"||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let c=null;const u=new AbortController,h=setTimeout(()=>{c=Ye("request timeout","TIMEOUT"),u.abort()},t.timeout);i&&i.addListener(()=>{c=Ye("request cancelled","CANCELLED"),u.abort()});const p=Object.assign({},r,{method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:u.signal});let g;try{g=await fetch(t.url,p)}catch(x){throw clearTimeout(h),c||x}clearTimeout(h);const m={};g.headers.forEach((x,T)=>{m[T.toLowerCase()]=x});const y=await g.arrayBuffer(),w=y==null?null:new Uint8Array(y);return{statusCode:g.status,statusMessage:g.statusText,headers:m,body:w}}return e}const TT=12,_T=250;let U0=Aw();const NT=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),OT=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Oh=!1;async function Ew(r,e){try{const t=r.match(NT);if(!t)throw new Error("invalid data");return new ni(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?bT(t[3]):RT(t[3]))}catch{return new ni(599,"BAD REQUEST (invalid data: URI)",{},null,new ws(r))}}function xw(r){async function e(t,i){try{const o=t.match(OT);if(!o)throw new Error("invalid link");return new ws(`${r}${o[2]}`)}catch{return new ni(599,"BAD REQUEST (invalid IPFS URI)",{},null,new ws(t))}}return e}const hc={data:Ew,ipfs:xw("https://gateway.ipfs.io/ipfs/")},Sw=new WeakMap;class kT{#e;#t;constructor(e){this.#e=[],this.#t=!1,Sw.set(e,()=>{if(!this.#t){this.#t=!0;for(const t of this.#e)setTimeout(()=>{t()},0);this.#e=[]}})}addListener(e){Q(!this.#t,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#e.push(e)}get cancelled(){return this.#t}checkSignal(){Q(!this.cancelled,"cancelled","CANCELLED",{})}}function dc(r){if(r==null)throw new Error("missing signal; should not happen");return r.checkSignal(),r}class ws{#e;#t;#n;#s;#i;#a;#r;#o;#d;#c;#p;#g;#l;#u;#f;get url(){return this.#a}set url(e){this.#a=String(e)}get body(){return this.#r==null?null:new Uint8Array(this.#r)}set body(e){if(e==null)this.#r=void 0,this.#o=void 0;else if(typeof e=="string")this.#r=ms(e),this.#o="text/plain";else if(e instanceof Uint8Array)this.#r=e,this.#o="application/octet-stream";else if(typeof e=="object")this.#r=ms(JSON.stringify(e)),this.#o="application/json";else throw new Error("invalid body")}hasBody(){return this.#r!=null}get method(){return this.#s?this.#s:this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),this.#s=String(e).toUpperCase()}get headers(){const e=Object.assign({},this.#n);return this.#d&&(e.authorization=`Basic ${wT(ms(this.#d))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&this.#o&&(e["content-type"]=this.#o),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){this.#n[String(e).toLowerCase()]=String(t)}clearHeaders(){this.#n={}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let i=0;return{next:()=>{if(i<t.length){const o=t[i++];return{value:[o,e[o]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#d||null}setCredentials(e,t){k(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#d=`${e}:${t}`}get allowGzip(){return this.#t}set allowGzip(e){this.#t=!!e}get allowInsecureAuthentication(){return!!this.#e}set allowInsecureAuthentication(e){this.#e=!!e}get timeout(){return this.#i}set timeout(e){k(e>=0,"timeout must be non-zero","timeout",e),this.#i=e}get preflightFunc(){return this.#c||null}set preflightFunc(e){this.#c=e}get processFunc(){return this.#p||null}set processFunc(e){this.#p=e}get retryFunc(){return this.#g||null}set retryFunc(e){this.#g=e}get getUrlFunc(){return this.#f||U0}set getUrlFunc(e){this.#f=e}constructor(e){this.#a=String(e),this.#e=!1,this.#t=!0,this.#n={},this.#s="",this.#i=3e5,this.#u={slotInterval:_T,maxAttempts:TT},this.#f=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#r?Y(this.#r):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(this.#u.slotInterval=e.slotInterval),e.maxAttempts!=null&&(this.#u.maxAttempts=e.maxAttempts)}async#h(e,t,i,o,c){if(e>=this.#u.maxAttempts)return c.makeServerError("exceeded maximum retry limit");Q(D0()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:o}),i>0&&await CT(i);let u=this.clone();const h=(u.url.split(":")[0]||"").toLowerCase();if(h in hc){const m=await hc[h](u.url,dc(o.#l));if(m instanceof ni){let y=m;if(this.processFunc){dc(o.#l);try{y=await this.processFunc(u,y)}catch(w){(w.throttle==null||typeof w.stall!="number")&&y.makeServerError("error in post-processing function",w).assertOk()}}return y}u=m}this.preflightFunc&&(u=await this.preflightFunc(u));const p=await this.getUrlFunc(u,dc(o.#l));let g=new ni(p.statusCode,p.statusMessage,p.headers,p.body,o);if(g.statusCode===301||g.statusCode===302){try{const m=g.headers.location||"";return u.redirect(m).#h(e+1,t,0,o,g)}catch{}return g}else if(g.statusCode===429&&(this.retryFunc==null||await this.retryFunc(u,g,e))){const m=g.headers["retry-after"];let y=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof m=="string"&&m.match(/^[1-9][0-9]*$/)&&(y=parseInt(m)),u.clone().#h(e+1,t,y,o,g)}if(this.processFunc){dc(o.#l);try{g=await this.processFunc(u,g)}catch(m){(m.throttle==null||typeof m.stall!="number")&&g.makeServerError("error in post-processing function",m).assertOk();let y=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return m.stall>=0&&(y=m.stall),u.clone().#h(e+1,t,y,o,g)}}return g}send(){return Q(this.#l==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#l=new kT(this),this.#h(0,D0()+this.timeout,0,this,new ni(0,"",{},null,this))}cancel(){Q(this.#l!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=Sw.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),i=e.split(":")[0].toLowerCase();Q(this.method==="GET"&&(t!=="https"||i!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const o=new ws(e);return o.method="GET",o.allowGzip=this.allowGzip,o.timeout=this.timeout,o.#n=Object.assign({},this.#n),this.#r&&(o.#r=new Uint8Array(this.#r)),o.#o=this.#o,o}clone(){const e=new ws(this.url);return e.#s=this.#s,this.#r&&(e.#r=this.#r),e.#o=this.#o,e.#n=Object.assign({},this.#n),e.#d=this.#d,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#c=this.#c,e.#p=this.#p,e.#g=this.#g,e.#u=Object.assign({},this.#u),e.#f=this.#f,e}static lockConfig(){Oh=!0}static getGateway(e){return hc[e.toLowerCase()]||null}static registerGateway(e,t){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(Oh)throw new Error("gateways locked");hc[e]=t}static registerGetUrl(e){if(Oh)throw new Error("gateways locked");U0=e}static createGetUrlFunc(e){return Aw(e)}static createDataGateway(){return Ew}static createIpfsGatewayFunc(e){return xw(e)}}class ni{#e;#t;#n;#s;#i;#a;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#s?Y(this.#s):"null"}>`}get statusCode(){return this.#e}get statusMessage(){return this.#t}get headers(){return Object.assign({},this.#n)}get body(){return this.#s==null?null:new Uint8Array(this.#s)}get bodyText(){try{return this.#s==null?"":Bc(this.#s)}catch{Q(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{Q(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let i=0;return{next:()=>{if(i<t.length){const o=t[i++];return{value:[o,e[o]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,i,o,c){this.#e=e,this.#t=t,this.#n=Object.keys(i).reduce((u,h)=>(u[h.toLowerCase()]=String(i[h]),u),{}),this.#s=o==null?null:new Uint8Array(o),this.#i=c||null,this.#a={message:""}}makeServerError(e,t){let i;e?i=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,i=`CLIENT ESCALATED SERVER ERROR (${e})`);const o=new ni(599,i,this.headers,this.body,this.#i||void 0);return o.#a={message:e,error:t},o}throwThrottleError(e,t){t==null?t=-1:k(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const i=new Error(e||"throttling requests");throw ae(i,{stall:t,throttle:!0}),i}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return this.#s!=null}get request(){return this.#i}ok(){return this.#a.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=this.#a;e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let i=null;this.request&&(i=this.request.url);let o=null;try{this.#s&&(o=Bc(this.#s))}catch{}Q(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:i,responseBody:o,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function D0(){return new Date().getTime()}function RT(r){return ms(r.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function CT(r){return new Promise(e=>setTimeout(e,r))}function BT(r){let e=r.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function M0(r,e,t){let i=0;for(let o=0;o<t;o++)i=i*256+r[e+o];return i}function j0(r,e,t,i){const o=[];for(;t<e+1+i;){const c=Tw(r,t);o.push(c.result),t+=c.consumed,Q(t<=e+1+i,"child data too short","BUFFER_OVERRUN",{buffer:r,length:i,offset:e})}return{consumed:1+i,result:o}}function Tw(r,e){Q(r.length!==0,"data too short","BUFFER_OVERRUN",{buffer:r,length:0,offset:1});const t=i=>{Q(i<=r.length,"data short segment too short","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:i})};if(r[e]>=248){const i=r[e]-247;t(e+1+i);const o=M0(r,e+1,i);return t(e+1+i+o),j0(r,e,e+1+i,i+o)}else if(r[e]>=192){const i=r[e]-192;return t(e+1+i),j0(r,e,e+1,i)}else if(r[e]>=184){const i=r[e]-183;t(e+1+i);const o=M0(r,e+1,i);t(e+1+i+o);const c=Y(r.slice(e+1+i,e+1+i+o));return{consumed:1+i+o,result:c}}else if(r[e]>=128){const i=r[e]-128;t(e+1+i);const o=Y(r.slice(e+1,e+1+i));return{consumed:1+i,result:o}}return{consumed:1,result:BT(r[e])}}function Po(r){const e=ve(r,"data"),t=Tw(e,0);return k(t.consumed===e.length,"unexpected junk after rlp payload","data",r),t.result}function L0(r){const e=[];for(;r;)e.unshift(r&255),r>>=8;return e}function _w(r){if(Array.isArray(r)){let i=[];if(r.forEach(function(c){i=i.concat(_w(c))}),i.length<=55)return i.unshift(192+i.length),i;const o=L0(i.length);return o.unshift(247+o.length),o.concat(i)}const e=Array.prototype.slice.call(ve(r,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=L0(e.length);return t.unshift(183+t.length),t.concat(e)}const P0="0123456789abcdef";function ai(r){let e="0x";for(const t of _w(r))e+=P0[t>>4],e+=P0[t&15];return e}const Pt=32,rd=new Uint8Array(Pt),UT=["then"],pc={},Nw=new WeakMap;function Di(r){return Nw.get(r)}function I0(r,e){Nw.set(r,e)}function ho(r,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${r}`);throw t.error=e,t}function ad(r,e,t){return r.indexOf(null)>=0?e.map((i,o)=>i instanceof ps?ad(Di(i),i,t):i):r.reduce((i,o,c)=>{let u=e.getValue(o);return o in i||(t&&u instanceof ps&&(u=ad(Di(u),u,t)),i[o]=u),i},{})}class ps extends Array{#e;constructor(...e){const t=e[0];let i=e[1],o=(e[2]||[]).slice(),c=!0;t!==pc&&(i=e,o=[],c=!1),super(i.length),i.forEach((p,g)=>{this[g]=p});const u=o.reduce((p,g)=>(typeof g=="string"&&p.set(g,(p.get(g)||0)+1),p),new Map);if(I0(this,Object.freeze(i.map((p,g)=>{const m=o[g];return m!=null&&u.get(m)===1?m:null}))),this.#e=[],this.#e==null&&this.#e,!c)return;Object.freeze(this);const h=new Proxy(this,{get:(p,g,m)=>{if(typeof g=="string"){if(g.match(/^[0-9]+$/)){const w=Ae(g,"%index");if(w<0||w>=this.length)throw new RangeError("out of result range");const x=p[w];return x instanceof Error&&ho(`index ${w}`,x),x}if(UT.indexOf(g)>=0)return Reflect.get(p,g,m);const y=p[g];if(y instanceof Function)return function(...w){return y.apply(this===m?p:this,w)};if(!(g in p))return p.getValue.apply(this===m?p:this,[g])}return Reflect.get(p,g,m)}});return I0(h,Di(this)),h}toArray(e){const t=[];return this.forEach((i,o)=>{i instanceof Error&&ho(`index ${o}`,i),e&&i instanceof ps&&(i=i.toArray(e)),t.push(i)}),t}toObject(e){const t=Di(this);return t.reduce((i,o,c)=>(Q(o!=null,`value at index ${c} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),ad(t,this,e)),{})}slice(e,t){e==null&&(e=0),e<0&&(e+=this.length,e<0&&(e=0)),t==null&&(t=this.length),t<0&&(t+=this.length,t<0&&(t=0)),t>this.length&&(t=this.length);const i=Di(this),o=[],c=[];for(let u=e;u<t;u++)o.push(this[u]),c.push(i[u]);return new ps(pc,o,c)}filter(e,t){const i=Di(this),o=[],c=[];for(let u=0;u<this.length;u++){const h=this[u];h instanceof Error&&ho(`index ${u}`,h),e.call(t,h,u,this)&&(o.push(h),c.push(i[u]))}return new ps(pc,o,c)}map(e,t){const i=[];for(let o=0;o<this.length;o++){const c=this[o];c instanceof Error&&ho(`index ${o}`,c),i.push(e.call(t,c,o,this))}return i}getValue(e){const t=Di(this).indexOf(e);if(t===-1)return;const i=this[t];return i instanceof Error&&ho(`property ${JSON.stringify(e)}`,i.error),i}static fromItems(e,t){return new ps(pc,e,t)}}function z0(r){let e=yt(r);return Q(e.length<=Pt,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:Pt,offset:e.length}),e.length!==Pt&&(e=Lt(st([rd.slice(e.length%Pt),e]))),e}class As{name;type;localName;dynamic;constructor(e,t,i,o){ae(this,{name:e,type:t,localName:i,dynamic:o},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){k(!1,e,this.localName,t)}}class od{#e;#t;constructor(){this.#e=[],this.#t=0}get data(){return st(this.#e)}get length(){return this.#t}#n(e){return this.#e.push(e),this.#t+=e.length,e.length}appendWriter(e){return this.#n(Lt(e.data))}writeBytes(e){let t=Lt(e);const i=t.length%Pt;return i&&(t=Lt(st([t,rd.slice(i)]))),this.#n(t)}writeValue(e){return this.#n(z0(e))}writeUpdatableValue(){const e=this.#e.length;return this.#e.push(rd),this.#t+=Pt,t=>{this.#e[e]=z0(t)}}}class zd{allowLoose;#e;#t;#n;#s;#i;constructor(e,t,i){ae(this,{allowLoose:!!t}),this.#e=Lt(e),this.#n=0,this.#s=null,this.#i=i??1024,this.#t=0}get data(){return Y(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#t}get bytes(){return new Uint8Array(this.#e)}#a(e){if(this.#s)return this.#s.#a(e);this.#n+=e,Q(this.#i<1||this.#n<=this.#i*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#i} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Lt(this.#e),offset:this.#t,length:e,info:{bytesRead:this.#n,dataLength:this.dataLength}})}#r(e,t,i){let o=Math.ceil(t/Pt)*Pt;return this.#t+o>this.#e.length&&(this.allowLoose&&i&&this.#t+t<=this.#e.length?o=t:Q(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Lt(this.#e),length:this.#e.length,offset:this.#t+o})),this.#e.slice(this.#t,this.#t+o)}subReader(e){const t=new zd(this.#e.slice(this.#t+e),this.allowLoose,this.#i);return t.#s=this,t}readBytes(e,t){let i=this.#r(0,e,!!t);return this.#a(e),this.#t+=i.length,i.slice(0,e)}readValue(){return Id(this.readBytes(Pt))}readIndex(){return mT(this.readBytes(Pt))}}function Uc(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function Hd(r,...e){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}function DT(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Uc(r.outputLen),Uc(r.blockLen)}function na(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function Ow(r,e){Hd(r);const t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const kh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kw=r=>r instanceof Uint8Array,MT=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),Rh=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),Hn=(r,e)=>r<<32-e|r>>>e,jT=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!jT)throw new Error("Non little-endian hardware is not supported");function LT(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function Qc(r){if(typeof r=="string"&&(r=LT(r)),!kw(r))throw new Error(`expected Uint8Array, got ${typeof r}`);return r}function PT(...r){const e=new Uint8Array(r.reduce((i,o)=>i+o.length,0));let t=0;return r.forEach(i=>{if(!kw(i))throw new Error("Uint8Array expected");e.set(i,t),t+=i.length}),e}class Gd{clone(){return this._cloneInto()}}function Fd(r){const e=i=>r().update(Qc(i)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function IT(r=32){if(kh&&typeof kh.getRandomValues=="function")return kh.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}class Rw extends Gd{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,DT(e);const i=Qc(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,c=new Uint8Array(o);c.set(i.length>o?e.create().update(i).digest():i);for(let u=0;u<c.length;u++)c[u]^=54;this.iHash.update(c),this.oHash=e.create();for(let u=0;u<c.length;u++)c[u]^=106;this.oHash.update(c),c.fill(0)}update(e){return na(this),this.iHash.update(e),this}digestInto(e){na(this),Hd(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:i,finished:o,destroyed:c,blockLen:u,outputLen:h}=this;return e=e,e.finished=o,e.destroyed=c,e.blockLen=u,e.outputLen=h,e.oHash=t._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Cw=(r,e,t)=>new Rw(r,e).update(t).digest();Cw.create=(r,e)=>new Rw(r,e);function zT(r,e,t,i){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,i);const o=BigInt(32),c=BigInt(4294967295),u=Number(t>>o&c),h=Number(t&c),p=i?4:0,g=i?0:4;r.setUint32(e+p,u,i),r.setUint32(e+g,h,i)}class Bw extends Gd{constructor(e,t,i,o){super(),this.blockLen=e,this.outputLen=t,this.padOffset=i,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Rh(this.buffer)}update(e){na(this);const{view:t,buffer:i,blockLen:o}=this;e=Qc(e);const c=e.length;for(let u=0;u<c;){const h=Math.min(o-this.pos,c-u);if(h===o){const p=Rh(e);for(;o<=c-u;u+=o)this.process(p,u);continue}i.set(e.subarray(u,u+h),this.pos),this.pos+=h,u+=h,this.pos===o&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){na(this),Ow(e,this),this.finished=!0;const{buffer:t,view:i,blockLen:o,isLE:c}=this;let{pos:u}=this;t[u++]=128,this.buffer.subarray(u).fill(0),this.padOffset>o-u&&(this.process(i,0),u=0);for(let y=u;y<o;y++)t[y]=0;zT(i,o-8,BigInt(this.length*8),c),this.process(i,0);const h=Rh(e),p=this.outputLen;if(p%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const g=p/4,m=this.get();if(g>m.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<g;y++)h.setUint32(4*y,m[y],c)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const i=e.slice(0,t);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:i,length:o,finished:c,destroyed:u,pos:h}=this;return e.length=o,e.pos=h,e.finished=c,e.destroyed=u,o%t&&e.buffer.set(i),e}}const HT=(r,e,t)=>r&e^~r&t,GT=(r,e,t)=>r&e^r&t^e&t,FT=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Js=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ys=new Uint32Array(64);class qT extends Bw{constructor(){super(64,32,8,!1),this.A=Js[0]|0,this.B=Js[1]|0,this.C=Js[2]|0,this.D=Js[3]|0,this.E=Js[4]|0,this.F=Js[5]|0,this.G=Js[6]|0,this.H=Js[7]|0}get(){const{A:e,B:t,C:i,D:o,E:c,F:u,G:h,H:p}=this;return[e,t,i,o,c,u,h,p]}set(e,t,i,o,c,u,h,p){this.A=e|0,this.B=t|0,this.C=i|0,this.D=o|0,this.E=c|0,this.F=u|0,this.G=h|0,this.H=p|0}process(e,t){for(let y=0;y<16;y++,t+=4)Ys[y]=e.getUint32(t,!1);for(let y=16;y<64;y++){const w=Ys[y-15],x=Ys[y-2],T=Hn(w,7)^Hn(w,18)^w>>>3,S=Hn(x,17)^Hn(x,19)^x>>>10;Ys[y]=S+Ys[y-7]+T+Ys[y-16]|0}let{A:i,B:o,C:c,D:u,E:h,F:p,G:g,H:m}=this;for(let y=0;y<64;y++){const w=Hn(h,6)^Hn(h,11)^Hn(h,25),x=m+w+HT(h,p,g)+FT[y]+Ys[y]|0,S=(Hn(i,2)^Hn(i,13)^Hn(i,22))+GT(i,o,c)|0;m=g,g=p,p=h,h=u+x|0,u=c,c=o,o=i,i=x+S|0}i=i+this.A|0,o=o+this.B|0,c=c+this.C|0,u=u+this.D|0,h=h+this.E|0,p=p+this.F|0,g=g+this.G|0,m=m+this.H|0,this.set(i,o,c,u,h,p,g,m)}roundClean(){Ys.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Uw=Fd(()=>new qT),gc=BigInt(2**32-1),ld=BigInt(32);function Dw(r,e=!1){return e?{h:Number(r&gc),l:Number(r>>ld&gc)}:{h:Number(r>>ld&gc)|0,l:Number(r&gc)|0}}function Mw(r,e=!1){let t=new Uint32Array(r.length),i=new Uint32Array(r.length);for(let o=0;o<r.length;o++){const{h:c,l:u}=Dw(r[o],e);[t[o],i[o]]=[c,u]}return[t,i]}const QT=(r,e)=>BigInt(r>>>0)<<ld|BigInt(e>>>0),VT=(r,e,t)=>r>>>t,KT=(r,e,t)=>r<<32-t|e>>>t,JT=(r,e,t)=>r>>>t|e<<32-t,YT=(r,e,t)=>r<<32-t|e>>>t,XT=(r,e,t)=>r<<64-t|e>>>t-32,ZT=(r,e,t)=>r>>>t-32|e<<64-t,$T=(r,e)=>e,WT=(r,e)=>r,jw=(r,e,t)=>r<<t|e>>>32-t,Lw=(r,e,t)=>e<<t|r>>>32-t,Pw=(r,e,t)=>e<<t-32|r>>>64-t,Iw=(r,e,t)=>r<<t-32|e>>>64-t;function e2(r,e,t,i){const o=(e>>>0)+(i>>>0);return{h:r+t+(o/2**32|0)|0,l:o|0}}const t2=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),n2=(r,e,t,i)=>e+t+i+(r/2**32|0)|0,s2=(r,e,t,i)=>(r>>>0)+(e>>>0)+(t>>>0)+(i>>>0),i2=(r,e,t,i,o)=>e+t+i+o+(r/2**32|0)|0,r2=(r,e,t,i,o)=>(r>>>0)+(e>>>0)+(t>>>0)+(i>>>0)+(o>>>0),a2=(r,e,t,i,o,c)=>e+t+i+o+c+(r/2**32|0)|0,de={fromBig:Dw,split:Mw,toBig:QT,shrSH:VT,shrSL:KT,rotrSH:JT,rotrSL:YT,rotrBH:XT,rotrBL:ZT,rotr32H:$T,rotr32L:WT,rotlSH:jw,rotlSL:Lw,rotlBH:Pw,rotlBL:Iw,add:e2,add3L:t2,add3H:n2,add4L:s2,add4H:i2,add5H:a2,add5L:r2},[o2,l2]=de.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),Xs=new Uint32Array(80),Zs=new Uint32Array(80);class c2 extends Bw{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:i,Bl:o,Ch:c,Cl:u,Dh:h,Dl:p,Eh:g,El:m,Fh:y,Fl:w,Gh:x,Gl:T,Hh:S,Hl:_}=this;return[e,t,i,o,c,u,h,p,g,m,y,w,x,T,S,_]}set(e,t,i,o,c,u,h,p,g,m,y,w,x,T,S,_){this.Ah=e|0,this.Al=t|0,this.Bh=i|0,this.Bl=o|0,this.Ch=c|0,this.Cl=u|0,this.Dh=h|0,this.Dl=p|0,this.Eh=g|0,this.El=m|0,this.Fh=y|0,this.Fl=w|0,this.Gh=x|0,this.Gl=T|0,this.Hh=S|0,this.Hl=_|0}process(e,t){for(let R=0;R<16;R++,t+=4)Xs[R]=e.getUint32(t),Zs[R]=e.getUint32(t+=4);for(let R=16;R<80;R++){const z=Xs[R-15]|0,K=Zs[R-15]|0,H=de.rotrSH(z,K,1)^de.rotrSH(z,K,8)^de.shrSH(z,K,7),J=de.rotrSL(z,K,1)^de.rotrSL(z,K,8)^de.shrSL(z,K,7),X=Xs[R-2]|0,he=Zs[R-2]|0,te=de.rotrSH(X,he,19)^de.rotrBH(X,he,61)^de.shrSH(X,he,6),ce=de.rotrSL(X,he,19)^de.rotrBL(X,he,61)^de.shrSL(X,he,6),be=de.add4L(J,ce,Zs[R-7],Zs[R-16]),Ge=de.add4H(be,H,te,Xs[R-7],Xs[R-16]);Xs[R]=Ge|0,Zs[R]=be|0}let{Ah:i,Al:o,Bh:c,Bl:u,Ch:h,Cl:p,Dh:g,Dl:m,Eh:y,El:w,Fh:x,Fl:T,Gh:S,Gl:_,Hh:U,Hl:F}=this;for(let R=0;R<80;R++){const z=de.rotrSH(y,w,14)^de.rotrSH(y,w,18)^de.rotrBH(y,w,41),K=de.rotrSL(y,w,14)^de.rotrSL(y,w,18)^de.rotrBL(y,w,41),H=y&x^~y&S,J=w&T^~w&_,X=de.add5L(F,K,J,l2[R],Zs[R]),he=de.add5H(X,U,z,H,o2[R],Xs[R]),te=X|0,ce=de.rotrSH(i,o,28)^de.rotrBH(i,o,34)^de.rotrBH(i,o,39),be=de.rotrSL(i,o,28)^de.rotrBL(i,o,34)^de.rotrBL(i,o,39),Ge=i&c^i&h^c&h,ue=o&u^o&p^u&p;U=S|0,F=_|0,S=x|0,_=T|0,x=y|0,T=w|0,{h:y,l:w}=de.add(g|0,m|0,he|0,te|0),g=h|0,m=p|0,h=c|0,p=u|0,c=i|0,u=o|0;const q=de.add3L(te,be,ue);i=de.add3H(q,he,ce,Ge),o=q|0}({h:i,l:o}=de.add(this.Ah|0,this.Al|0,i|0,o|0)),{h:c,l:u}=de.add(this.Bh|0,this.Bl|0,c|0,u|0),{h,l:p}=de.add(this.Ch|0,this.Cl|0,h|0,p|0),{h:g,l:m}=de.add(this.Dh|0,this.Dl|0,g|0,m|0),{h:y,l:w}=de.add(this.Eh|0,this.El|0,y|0,w|0),{h:x,l:T}=de.add(this.Fh|0,this.Fl|0,x|0,T|0),{h:S,l:_}=de.add(this.Gh|0,this.Gl|0,S|0,_|0),{h:U,l:F}=de.add(this.Hh|0,this.Hl|0,U|0,F|0),this.set(i,o,c,u,h,p,g,m,y,w,x,T,S,_,U,F)}roundClean(){Xs.fill(0),Zs.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const u2=Fd(()=>new c2);function f2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const H0=f2();H0.crypto||H0.msCrypto;function h2(r){switch(r){case"sha256":return Uw.create();case"sha512":return u2.create()}k(!1,"invalid hashing algorithm name","algorithm",r)}const[zw,Hw,Gw]=[[],[],[]],d2=BigInt(0),po=BigInt(1),p2=BigInt(2),g2=BigInt(7),m2=BigInt(256),y2=BigInt(113);for(let r=0,e=po,t=1,i=0;r<24;r++){[t,i]=[i,(2*t+3*i)%5],zw.push(2*(5*i+t)),Hw.push((r+1)*(r+2)/2%64);let o=d2;for(let c=0;c<7;c++)e=(e<<po^(e>>g2)*y2)%m2,e&p2&&(o^=po<<(po<<BigInt(c))-po);Gw.push(o)}const[b2,w2]=Mw(Gw,!0),G0=(r,e,t)=>t>32?Pw(r,e,t):jw(r,e,t),F0=(r,e,t)=>t>32?Iw(r,e,t):Lw(r,e,t);function v2(r,e=24){const t=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let u=0;u<10;u++)t[u]=r[u]^r[u+10]^r[u+20]^r[u+30]^r[u+40];for(let u=0;u<10;u+=2){const h=(u+8)%10,p=(u+2)%10,g=t[p],m=t[p+1],y=G0(g,m,1)^t[h],w=F0(g,m,1)^t[h+1];for(let x=0;x<50;x+=10)r[u+x]^=y,r[u+x+1]^=w}let o=r[2],c=r[3];for(let u=0;u<24;u++){const h=Hw[u],p=G0(o,c,h),g=F0(o,c,h),m=zw[u];o=r[m],c=r[m+1],r[m]=p,r[m+1]=g}for(let u=0;u<50;u+=10){for(let h=0;h<10;h++)t[h]=r[u+h];for(let h=0;h<10;h++)r[u+h]^=~t[(h+2)%10]&t[(h+4)%10]}r[0]^=b2[i],r[1]^=w2[i]}t.fill(0)}class qd extends Gd{constructor(e,t,i,o=!1,c=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=i,this.enableXOF=o,this.rounds=c,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Uc(i),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=MT(this.state)}keccak(){v2(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){na(this);const{blockLen:t,state:i}=this;e=Qc(e);const o=e.length;for(let c=0;c<o;){const u=Math.min(t-this.pos,o-c);for(let h=0;h<u;h++)i[this.pos++]^=e[c++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:i,blockLen:o}=this;e[i]^=t,(t&128)!==0&&i===o-1&&this.keccak(),e[o-1]^=128,this.keccak()}writeInto(e){na(this,!1),Hd(e),this.finish();const t=this.state,{blockLen:i}=this;for(let o=0,c=e.length;o<c;){this.posOut>=i&&this.keccak();const u=Math.min(i-this.posOut,c-o);e.set(t.subarray(this.posOut,this.posOut+u),o),this.posOut+=u,o+=u}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Uc(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ow(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:i,outputLen:o,rounds:c,enableXOF:u}=this;return e||(e=new qd(t,i,o,u,c)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=c,e.suffix=i,e.outputLen=o,e.enableXOF=u,e.destroyed=this.destroyed,e}}const A2=(r,e,t)=>Fd(()=>new qd(e,r,t)),E2=A2(1,136,256/8);let Fw=!1;const qw=function(r){return E2(r)};let Qw=qw;function ut(r){const e=ve(r,"data");return Y(Qw(e))}ut._=qw;ut.lock=function(){Fw=!0};ut.register=function(r){if(Fw)throw new TypeError("keccak256 is locked");Qw=r};Object.freeze(ut);const Vw=function(r){return h2("sha256").update(r).digest()};let Kw=Vw,Jw=!1;function fa(r){const e=ve(r,"data");return Y(Kw(e))}fa._=Vw;fa.lock=function(){Jw=!0};fa.register=function(r){if(Jw)throw new Error("sha256 is locked");Kw=r};Object.freeze(fa);Object.freeze(fa);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Yw=BigInt(0),Vc=BigInt(1),x2=BigInt(2),Kc=r=>r instanceof Uint8Array,S2=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function sa(r){if(!Kc(r))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=S2[r[t]];return e}function Xw(r){const e=r.toString(16);return e.length&1?`0${e}`:e}function Qd(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return BigInt(r===""?"0":`0x${r}`)}function ia(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);const e=r.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const t=new Uint8Array(e/2);for(let i=0;i<t.length;i++){const o=i*2,c=r.slice(o,o+2),u=Number.parseInt(c,16);if(Number.isNaN(u)||u<0)throw new Error("Invalid byte sequence");t[i]=u}return t}function zi(r){return Qd(sa(r))}function Vd(r){if(!Kc(r))throw new Error("Uint8Array expected");return Qd(sa(Uint8Array.from(r).reverse()))}function ra(r,e){return ia(r.toString(16).padStart(e*2,"0"))}function Kd(r,e){return ra(r,e).reverse()}function T2(r){return ia(Xw(r))}function Nn(r,e,t){let i;if(typeof e=="string")try{i=ia(e)}catch(c){throw new Error(`${r} must be valid hex string, got "${e}". Cause: ${c}`)}else if(Kc(e))i=Uint8Array.from(e);else throw new Error(`${r} must be hex string or Uint8Array`);const o=i.length;if(typeof t=="number"&&o!==t)throw new Error(`${r} expected ${t} bytes, got ${o}`);return i}function No(...r){const e=new Uint8Array(r.reduce((i,o)=>i+o.length,0));let t=0;return r.forEach(i=>{if(!Kc(i))throw new Error("Uint8Array expected");e.set(i,t),t+=i.length}),e}function _2(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function N2(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function O2(r){let e;for(e=0;r>Yw;r>>=Vc,e+=1);return e}function k2(r,e){return r>>BigInt(e)&Vc}const R2=(r,e,t)=>r|(t?Vc:Yw)<<BigInt(e),Jd=r=>(x2<<BigInt(r-1))-Vc,Ch=r=>new Uint8Array(r),q0=r=>Uint8Array.from(r);function Zw(r,e,t){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let i=Ch(r),o=Ch(r),c=0;const u=()=>{i.fill(1),o.fill(0),c=0},h=(...y)=>t(o,i,...y),p=(y=Ch())=>{o=h(q0([0]),y),i=h(),y.length!==0&&(o=h(q0([1]),y),i=h())},g=()=>{if(c++>=1e3)throw new Error("drbg: tried 1000 values");let y=0;const w=[];for(;y<e;){i=h();const x=i.slice();w.push(x),y+=i.length}return No(...w)};return(y,w)=>{u(),p(y);let x;for(;!(x=w(g()));)p();return u(),x}}const C2={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||r instanceof Uint8Array,isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,e)=>e.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function Io(r,e,t={}){const i=(o,c,u)=>{const h=C2[c];if(typeof h!="function")throw new Error(`Invalid validator "${c}", expected function`);const p=r[o];if(!(u&&p===void 0)&&!h(p,r))throw new Error(`Invalid param ${String(o)}=${p} (${typeof p}), expected ${c}`)};for(const[o,c]of Object.entries(e))i(o,c,!1);for(const[o,c]of Object.entries(t))i(o,c,!0);return r}const B2=Object.freeze(Object.defineProperty({__proto__:null,bitGet:k2,bitLen:O2,bitMask:Jd,bitSet:R2,bytesToHex:sa,bytesToNumberBE:zi,bytesToNumberLE:Vd,concatBytes:No,createHmacDrbg:Zw,ensureBytes:Nn,equalBytes:_2,hexToBytes:ia,hexToNumber:Qd,numberToBytesBE:ra,numberToBytesLE:Kd,numberToHexUnpadded:Xw,numberToVarBytesBE:T2,utf8ToBytes:N2,validateObject:Io},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const St=BigInt(0),ot=BigInt(1),Mi=BigInt(2),U2=BigInt(3),cd=BigInt(4),Q0=BigInt(5),V0=BigInt(8);BigInt(9);BigInt(16);function Kt(r,e){const t=r%e;return t>=St?t:e+t}function D2(r,e,t){if(t<=St||e<St)throw new Error("Expected power/modulo > 0");if(t===ot)return St;let i=ot;for(;e>St;)e&ot&&(i=i*r%t),r=r*r%t,e>>=ot;return i}function wn(r,e,t){let i=r;for(;e-- >St;)i*=i,i%=t;return i}function ud(r,e){if(r===St||e<=St)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=Kt(r,e),i=e,o=St,c=ot;for(;t!==St;){const h=i/t,p=i%t,g=o-c*h;i=t,t=p,o=c,c=g}if(i!==ot)throw new Error("invert: does not exist");return Kt(o,e)}function M2(r){const e=(r-ot)/Mi;let t,i,o;for(t=r-ot,i=0;t%Mi===St;t/=Mi,i++);for(o=Mi;o<r&&D2(o,e,r)!==r-ot;o++);if(i===1){const u=(r+ot)/cd;return function(p,g){const m=p.pow(g,u);if(!p.eql(p.sqr(m),g))throw new Error("Cannot find square root");return m}}const c=(t+ot)/Mi;return function(h,p){if(h.pow(p,e)===h.neg(h.ONE))throw new Error("Cannot find square root");let g=i,m=h.pow(h.mul(h.ONE,o),t),y=h.pow(p,c),w=h.pow(p,t);for(;!h.eql(w,h.ONE);){if(h.eql(w,h.ZERO))return h.ZERO;let x=1;for(let S=h.sqr(w);x<g&&!h.eql(S,h.ONE);x++)S=h.sqr(S);const T=h.pow(m,ot<<BigInt(g-x-1));m=h.sqr(T),y=h.mul(y,T),w=h.mul(w,m),g=x}return y}}function j2(r){if(r%cd===U2){const e=(r+ot)/cd;return function(i,o){const c=i.pow(o,e);if(!i.eql(i.sqr(c),o))throw new Error("Cannot find square root");return c}}if(r%V0===Q0){const e=(r-Q0)/V0;return function(i,o){const c=i.mul(o,Mi),u=i.pow(c,e),h=i.mul(o,u),p=i.mul(i.mul(h,Mi),u),g=i.mul(h,i.sub(p,i.ONE));if(!i.eql(i.sqr(g),o))throw new Error("Cannot find square root");return g}}return M2(r)}const L2=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function P2(r){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=L2.reduce((i,o)=>(i[o]="function",i),e);return Io(r,t)}function I2(r,e,t){if(t<St)throw new Error("Expected power > 0");if(t===St)return r.ONE;if(t===ot)return e;let i=r.ONE,o=e;for(;t>St;)t&ot&&(i=r.mul(i,o)),o=r.sqr(o),t>>=ot;return i}function z2(r,e){const t=new Array(e.length),i=e.reduce((c,u,h)=>r.is0(u)?c:(t[h]=c,r.mul(c,u)),r.ONE),o=r.inv(i);return e.reduceRight((c,u,h)=>r.is0(u)?c:(t[h]=r.mul(c,t[h]),r.mul(c,u)),o),t}function $w(r,e){const t=e!==void 0?e:r.toString(2).length,i=Math.ceil(t/8);return{nBitLength:t,nByteLength:i}}function H2(r,e,t=!1,i={}){if(r<=St)throw new Error(`Expected Field ORDER > 0, got ${r}`);const{nBitLength:o,nByteLength:c}=$w(r,e);if(c>2048)throw new Error("Field lengths over 2048 bytes are not supported");const u=j2(r),h=Object.freeze({ORDER:r,BITS:o,BYTES:c,MASK:Jd(o),ZERO:St,ONE:ot,create:p=>Kt(p,r),isValid:p=>{if(typeof p!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof p}`);return St<=p&&p<r},is0:p=>p===St,isOdd:p=>(p&ot)===ot,neg:p=>Kt(-p,r),eql:(p,g)=>p===g,sqr:p=>Kt(p*p,r),add:(p,g)=>Kt(p+g,r),sub:(p,g)=>Kt(p-g,r),mul:(p,g)=>Kt(p*g,r),pow:(p,g)=>I2(h,p,g),div:(p,g)=>Kt(p*ud(g,r),r),sqrN:p=>p*p,addN:(p,g)=>p+g,subN:(p,g)=>p-g,mulN:(p,g)=>p*g,inv:p=>ud(p,r),sqrt:i.sqrt||(p=>u(h,p)),invertBatch:p=>z2(h,p),cmov:(p,g,m)=>m?g:p,toBytes:p=>t?Kd(p,c):ra(p,c),fromBytes:p=>{if(p.length!==c)throw new Error(`Fp.fromBytes: expected ${c}, got ${p.length}`);return t?Vd(p):zi(p)}});return Object.freeze(h)}function Ww(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const e=r.toString(2).length;return Math.ceil(e/8)}function ev(r){const e=Ww(r);return e+Math.ceil(e/2)}function G2(r,e,t=!1){const i=r.length,o=Ww(e),c=ev(e);if(i<16||i<c||i>1024)throw new Error(`expected ${c}-1024 bytes of input, got ${i}`);const u=t?zi(r):Vd(r),h=Kt(u,e-ot)+ot;return t?Kd(h,o):ra(h,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const F2=BigInt(0),Bh=BigInt(1);function q2(r,e){const t=(o,c)=>{const u=c.negate();return o?u:c},i=o=>{const c=Math.ceil(e/o)+1,u=2**(o-1);return{windows:c,windowSize:u}};return{constTimeNegate:t,unsafeLadder(o,c){let u=r.ZERO,h=o;for(;c>F2;)c&Bh&&(u=u.add(h)),h=h.double(),c>>=Bh;return u},precomputeWindow(o,c){const{windows:u,windowSize:h}=i(c),p=[];let g=o,m=g;for(let y=0;y<u;y++){m=g,p.push(m);for(let w=1;w<h;w++)m=m.add(g),p.push(m);g=m.double()}return p},wNAF(o,c,u){const{windows:h,windowSize:p}=i(o);let g=r.ZERO,m=r.BASE;const y=BigInt(2**o-1),w=2**o,x=BigInt(o);for(let T=0;T<h;T++){const S=T*p;let _=Number(u&y);u>>=x,_>p&&(_-=w,u+=Bh);const U=S,F=S+Math.abs(_)-1,R=T%2!==0,z=_<0;_===0?m=m.add(t(R,c[U])):g=g.add(t(z,c[F]))}return{p:g,f:m}},wNAFCached(o,c,u,h){const p=o._WINDOW_SIZE||1;let g=c.get(o);return g||(g=this.precomputeWindow(o,p),p!==1&&c.set(o,h(g))),this.wNAF(p,g,u)}}}function tv(r){return P2(r.Fp),Io(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...$w(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Q2(r){const e=tv(r);Io(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:i,a:o}=e;if(t){if(!i.eql(o,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:V2,hexToBytes:K2}=B2,Li={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(r){const{Err:e}=Li;if(r.length<2||r[0]!==2)throw new e("Invalid signature integer tag");const t=r[1],i=r.subarray(2,t+2);if(!t||i.length!==t)throw new e("Invalid signature integer: wrong length");if(i[0]&128)throw new e("Invalid signature integer: negative");if(i[0]===0&&!(i[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:V2(i),l:r.subarray(t+2)}},toSig(r){const{Err:e}=Li,t=typeof r=="string"?K2(r):r;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let i=t.length;if(i<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==i-2)throw new e("Invalid signature: incorrect length");const{d:o,l:c}=Li._parseInt(t.subarray(2)),{d:u,l:h}=Li._parseInt(c);if(h.length)throw new e("Invalid signature: left bytes after parsing");return{r:o,s:u}},hexFromSig(r){const e=g=>Number.parseInt(g[0],16)&8?"00"+g:g,t=g=>{const m=g.toString(16);return m.length&1?`0${m}`:m},i=e(t(r.s)),o=e(t(r.r)),c=i.length/2,u=o.length/2,h=t(c),p=t(u);return`30${t(u+c+4)}02${p}${o}02${h}${i}`}},hs=BigInt(0),vn=BigInt(1);BigInt(2);const K0=BigInt(3);BigInt(4);function J2(r){const e=Q2(r),{Fp:t}=e,i=e.toBytes||((T,S,_)=>{const U=S.toAffine();return No(Uint8Array.from([4]),t.toBytes(U.x),t.toBytes(U.y))}),o=e.fromBytes||(T=>{const S=T.subarray(1),_=t.fromBytes(S.subarray(0,t.BYTES)),U=t.fromBytes(S.subarray(t.BYTES,2*t.BYTES));return{x:_,y:U}});function c(T){const{a:S,b:_}=e,U=t.sqr(T),F=t.mul(U,T);return t.add(t.add(F,t.mul(T,S)),_)}if(!t.eql(t.sqr(e.Gy),c(e.Gx)))throw new Error("bad generator point: equation left != right");function u(T){return typeof T=="bigint"&&hs<T&&T<e.n}function h(T){if(!u(T))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function p(T){const{allowedPrivateKeyLengths:S,nByteLength:_,wrapPrivateKey:U,n:F}=e;if(S&&typeof T!="bigint"){if(T instanceof Uint8Array&&(T=sa(T)),typeof T!="string"||!S.includes(T.length))throw new Error("Invalid key");T=T.padStart(_*2,"0")}let R;try{R=typeof T=="bigint"?T:zi(Nn("private key",T,_))}catch{throw new Error(`private key must be ${_} bytes, hex or bigint, not ${typeof T}`)}return U&&(R=Kt(R,F)),h(R),R}const g=new Map;function m(T){if(!(T instanceof y))throw new Error("ProjectivePoint expected")}class y{constructor(S,_,U){if(this.px=S,this.py=_,this.pz=U,S==null||!t.isValid(S))throw new Error("x required");if(_==null||!t.isValid(_))throw new Error("y required");if(U==null||!t.isValid(U))throw new Error("z required")}static fromAffine(S){const{x:_,y:U}=S||{};if(!S||!t.isValid(_)||!t.isValid(U))throw new Error("invalid affine point");if(S instanceof y)throw new Error("projective point not allowed");const F=R=>t.eql(R,t.ZERO);return F(_)&&F(U)?y.ZERO:new y(_,U,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(S){const _=t.invertBatch(S.map(U=>U.pz));return S.map((U,F)=>U.toAffine(_[F])).map(y.fromAffine)}static fromHex(S){const _=y.fromAffine(o(Nn("pointHex",S)));return _.assertValidity(),_}static fromPrivateKey(S){return y.BASE.multiply(p(S))}_setWindowSize(S){this._WINDOW_SIZE=S,g.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:S,y:_}=this.toAffine();if(!t.isValid(S)||!t.isValid(_))throw new Error("bad point: x or y not FE");const U=t.sqr(_),F=c(S);if(!t.eql(U,F))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:S}=this.toAffine();if(t.isOdd)return!t.isOdd(S);throw new Error("Field doesn't support isOdd")}equals(S){m(S);const{px:_,py:U,pz:F}=this,{px:R,py:z,pz:K}=S,H=t.eql(t.mul(_,K),t.mul(R,F)),J=t.eql(t.mul(U,K),t.mul(z,F));return H&&J}negate(){return new y(this.px,t.neg(this.py),this.pz)}double(){const{a:S,b:_}=e,U=t.mul(_,K0),{px:F,py:R,pz:z}=this;let K=t.ZERO,H=t.ZERO,J=t.ZERO,X=t.mul(F,F),he=t.mul(R,R),te=t.mul(z,z),ce=t.mul(F,R);return ce=t.add(ce,ce),J=t.mul(F,z),J=t.add(J,J),K=t.mul(S,J),H=t.mul(U,te),H=t.add(K,H),K=t.sub(he,H),H=t.add(he,H),H=t.mul(K,H),K=t.mul(ce,K),J=t.mul(U,J),te=t.mul(S,te),ce=t.sub(X,te),ce=t.mul(S,ce),ce=t.add(ce,J),J=t.add(X,X),X=t.add(J,X),X=t.add(X,te),X=t.mul(X,ce),H=t.add(H,X),te=t.mul(R,z),te=t.add(te,te),X=t.mul(te,ce),K=t.sub(K,X),J=t.mul(te,he),J=t.add(J,J),J=t.add(J,J),new y(K,H,J)}add(S){m(S);const{px:_,py:U,pz:F}=this,{px:R,py:z,pz:K}=S;let H=t.ZERO,J=t.ZERO,X=t.ZERO;const he=e.a,te=t.mul(e.b,K0);let ce=t.mul(_,R),be=t.mul(U,z),Ge=t.mul(F,K),ue=t.add(_,U),q=t.add(R,z);ue=t.mul(ue,q),q=t.add(ce,be),ue=t.sub(ue,q),q=t.add(_,F);let C=t.add(R,K);return q=t.mul(q,C),C=t.add(ce,Ge),q=t.sub(q,C),C=t.add(U,F),H=t.add(z,K),C=t.mul(C,H),H=t.add(be,Ge),C=t.sub(C,H),X=t.mul(he,q),H=t.mul(te,Ge),X=t.add(H,X),H=t.sub(be,X),X=t.add(be,X),J=t.mul(H,X),be=t.add(ce,ce),be=t.add(be,ce),Ge=t.mul(he,Ge),q=t.mul(te,q),be=t.add(be,Ge),Ge=t.sub(ce,Ge),Ge=t.mul(he,Ge),q=t.add(q,Ge),ce=t.mul(be,q),J=t.add(J,ce),ce=t.mul(C,q),H=t.mul(ue,H),H=t.sub(H,ce),ce=t.mul(ue,be),X=t.mul(C,X),X=t.add(X,ce),new y(H,J,X)}subtract(S){return this.add(S.negate())}is0(){return this.equals(y.ZERO)}wNAF(S){return x.wNAFCached(this,g,S,_=>{const U=t.invertBatch(_.map(F=>F.pz));return _.map((F,R)=>F.toAffine(U[R])).map(y.fromAffine)})}multiplyUnsafe(S){const _=y.ZERO;if(S===hs)return _;if(h(S),S===vn)return this;const{endo:U}=e;if(!U)return x.unsafeLadder(this,S);let{k1neg:F,k1:R,k2neg:z,k2:K}=U.splitScalar(S),H=_,J=_,X=this;for(;R>hs||K>hs;)R&vn&&(H=H.add(X)),K&vn&&(J=J.add(X)),X=X.double(),R>>=vn,K>>=vn;return F&&(H=H.negate()),z&&(J=J.negate()),J=new y(t.mul(J.px,U.beta),J.py,J.pz),H.add(J)}multiply(S){h(S);let _=S,U,F;const{endo:R}=e;if(R){const{k1neg:z,k1:K,k2neg:H,k2:J}=R.splitScalar(_);let{p:X,f:he}=this.wNAF(K),{p:te,f:ce}=this.wNAF(J);X=x.constTimeNegate(z,X),te=x.constTimeNegate(H,te),te=new y(t.mul(te.px,R.beta),te.py,te.pz),U=X.add(te),F=he.add(ce)}else{const{p:z,f:K}=this.wNAF(_);U=z,F=K}return y.normalizeZ([U,F])[0]}multiplyAndAddUnsafe(S,_,U){const F=y.BASE,R=(K,H)=>H===hs||H===vn||!K.equals(F)?K.multiplyUnsafe(H):K.multiply(H),z=R(this,_).add(R(S,U));return z.is0()?void 0:z}toAffine(S){const{px:_,py:U,pz:F}=this,R=this.is0();S==null&&(S=R?t.ONE:t.inv(F));const z=t.mul(_,S),K=t.mul(U,S),H=t.mul(F,S);if(R)return{x:t.ZERO,y:t.ZERO};if(!t.eql(H,t.ONE))throw new Error("invZ was invalid");return{x:z,y:K}}isTorsionFree(){const{h:S,isTorsionFree:_}=e;if(S===vn)return!0;if(_)return _(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:S,clearCofactor:_}=e;return S===vn?this:_?_(y,this):this.multiplyUnsafe(e.h)}toRawBytes(S=!0){return this.assertValidity(),i(y,this,S)}toHex(S=!0){return sa(this.toRawBytes(S))}}y.BASE=new y(e.Gx,e.Gy,t.ONE),y.ZERO=new y(t.ZERO,t.ONE,t.ZERO);const w=e.nBitLength,x=q2(y,e.endo?Math.ceil(w/2):w);return{CURVE:e,ProjectivePoint:y,normPrivateKeyToScalar:p,weierstrassEquation:c,isWithinCurveOrder:u}}function Y2(r){const e=tv(r);return Io(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function X2(r){const e=Y2(r),{Fp:t,n:i}=e,o=t.BYTES+1,c=2*t.BYTES+1;function u(q){return hs<q&&q<t.ORDER}function h(q){return Kt(q,i)}function p(q){return ud(q,i)}const{ProjectivePoint:g,normPrivateKeyToScalar:m,weierstrassEquation:y,isWithinCurveOrder:w}=J2({...e,toBytes(q,C,O){const V=C.toAffine(),ne=t.toBytes(V.x),le=No;return O?le(Uint8Array.from([C.hasEvenY()?2:3]),ne):le(Uint8Array.from([4]),ne,t.toBytes(V.y))},fromBytes(q){const C=q.length,O=q[0],V=q.subarray(1);if(C===o&&(O===2||O===3)){const ne=zi(V);if(!u(ne))throw new Error("Point is not on curve");const le=y(ne);let Ce=t.sqrt(le);const pe=(Ce&vn)===vn;return(O&1)===1!==pe&&(Ce=t.neg(Ce)),{x:ne,y:Ce}}else if(C===c&&O===4){const ne=t.fromBytes(V.subarray(0,t.BYTES)),le=t.fromBytes(V.subarray(t.BYTES,2*t.BYTES));return{x:ne,y:le}}else throw new Error(`Point of length ${C} was invalid. Expected ${o} compressed bytes or ${c} uncompressed bytes`)}}),x=q=>sa(ra(q,e.nByteLength));function T(q){const C=i>>vn;return q>C}function S(q){return T(q)?h(-q):q}const _=(q,C,O)=>zi(q.slice(C,O));class U{constructor(C,O,V){this.r=C,this.s=O,this.recovery=V,this.assertValidity()}static fromCompact(C){const O=e.nByteLength;return C=Nn("compactSignature",C,O*2),new U(_(C,0,O),_(C,O,2*O))}static fromDER(C){const{r:O,s:V}=Li.toSig(Nn("DER",C));return new U(O,V)}assertValidity(){if(!w(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!w(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(C){return new U(this.r,this.s,C)}recoverPublicKey(C){const{r:O,s:V,recovery:ne}=this,le=J(Nn("msgHash",C));if(ne==null||![0,1,2,3].includes(ne))throw new Error("recovery id invalid");const Ce=ne===2||ne===3?O+e.n:O;if(Ce>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const pe=(ne&1)===0?"02":"03",ge=g.fromHex(pe+x(Ce)),De=p(Ce),ht=h(-le*De),Rt=h(V*De),Ut=g.BASE.multiplyAndAddUnsafe(ge,ht,Rt);if(!Ut)throw new Error("point at infinify");return Ut.assertValidity(),Ut}hasHighS(){return T(this.s)}normalizeS(){return this.hasHighS()?new U(this.r,h(-this.s),this.recovery):this}toDERRawBytes(){return ia(this.toDERHex())}toDERHex(){return Li.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ia(this.toCompactHex())}toCompactHex(){return x(this.r)+x(this.s)}}const F={isValidPrivateKey(q){try{return m(q),!0}catch{return!1}},normPrivateKeyToScalar:m,randomPrivateKey:()=>{const q=ev(e.n);return G2(e.randomBytes(q),e.n)},precompute(q=8,C=g.BASE){return C._setWindowSize(q),C.multiply(BigInt(3)),C}};function R(q,C=!0){return g.fromPrivateKey(q).toRawBytes(C)}function z(q){const C=q instanceof Uint8Array,O=typeof q=="string",V=(C||O)&&q.length;return C?V===o||V===c:O?V===2*o||V===2*c:q instanceof g}function K(q,C,O=!0){if(z(q))throw new Error("first arg must be private key");if(!z(C))throw new Error("second arg must be public key");return g.fromHex(C).multiply(m(q)).toRawBytes(O)}const H=e.bits2int||function(q){const C=zi(q),O=q.length*8-e.nBitLength;return O>0?C>>BigInt(O):C},J=e.bits2int_modN||function(q){return h(H(q))},X=Jd(e.nBitLength);function he(q){if(typeof q!="bigint")throw new Error("bigint expected");if(!(hs<=q&&q<X))throw new Error(`bigint expected < 2^${e.nBitLength}`);return ra(q,e.nByteLength)}function te(q,C,O=ce){if(["recovered","canonical"].some(Ke=>Ke in O))throw new Error("sign() legacy options not supported");const{hash:V,randomBytes:ne}=e;let{lowS:le,prehash:Ce,extraEntropy:pe}=O;le==null&&(le=!0),q=Nn("msgHash",q),Ce&&(q=Nn("prehashed msgHash",V(q)));const ge=J(q),De=m(C),ht=[he(De),he(ge)];if(pe!=null){const Ke=pe===!0?ne(t.BYTES):pe;ht.push(Nn("extraEntropy",Ke))}const Rt=No(...ht),Ut=ge;function Z(Ke){const Xt=H(Ke);if(!w(Xt))return;const ci=p(Xt),Ht=g.BASE.multiply(Xt).toAffine(),Dn=h(Ht.x);if(Dn===hs)return;const Es=h(ci*h(Ut+Dn*De));if(Es===hs)return;let qo=(Ht.x===Dn?0:2)|Number(Ht.y&vn),Qo=Es;return le&&T(Es)&&(Qo=S(Es),qo^=1),new U(Dn,Qo,qo)}return{seed:Rt,k2sig:Z}}const ce={lowS:e.lowS,prehash:!1},be={lowS:e.lowS,prehash:!1};function Ge(q,C,O=ce){const{seed:V,k2sig:ne}=te(q,C,O),le=e;return Zw(le.hash.outputLen,le.nByteLength,le.hmac)(V,ne)}g.BASE._setWindowSize(8);function ue(q,C,O,V=be){const ne=q;if(C=Nn("msgHash",C),O=Nn("publicKey",O),"strict"in V)throw new Error("options.strict was renamed to lowS");const{lowS:le,prehash:Ce}=V;let pe,ge;try{if(typeof ne=="string"||ne instanceof Uint8Array)try{pe=U.fromDER(ne)}catch(Ht){if(!(Ht instanceof Li.Err))throw Ht;pe=U.fromCompact(ne)}else if(typeof ne=="object"&&typeof ne.r=="bigint"&&typeof ne.s=="bigint"){const{r:Ht,s:Dn}=ne;pe=new U(Ht,Dn)}else throw new Error("PARSE");ge=g.fromHex(O)}catch(Ht){if(Ht.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(le&&pe.hasHighS())return!1;Ce&&(C=e.hash(C));const{r:De,s:ht}=pe,Rt=J(C),Ut=p(ht),Z=h(Rt*Ut),Ke=h(De*Ut),Xt=g.BASE.multiplyAndAddUnsafe(ge,Z,Ke)?.toAffine();return Xt?h(Xt.x)===De:!1}return{CURVE:e,getPublicKey:R,getSharedSecret:K,sign:Ge,verify:ue,ProjectivePoint:g,Signature:U,utils:F}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Z2(r){return{hash:r,hmac:(e,...t)=>Cw(r,e,PT(...t)),randomBytes:IT}}function $2(r,e){const t=i=>X2({...r,...Z2(i)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const nv=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),J0=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),W2=BigInt(1),fd=BigInt(2),Y0=(r,e)=>(r+e/fd)/e;function e_(r){const e=nv,t=BigInt(3),i=BigInt(6),o=BigInt(11),c=BigInt(22),u=BigInt(23),h=BigInt(44),p=BigInt(88),g=r*r*r%e,m=g*g*r%e,y=wn(m,t,e)*m%e,w=wn(y,t,e)*m%e,x=wn(w,fd,e)*g%e,T=wn(x,o,e)*x%e,S=wn(T,c,e)*T%e,_=wn(S,h,e)*S%e,U=wn(_,p,e)*_%e,F=wn(U,h,e)*S%e,R=wn(F,t,e)*m%e,z=wn(R,u,e)*T%e,K=wn(z,i,e)*g%e,H=wn(K,fd,e);if(!hd.eql(hd.sqr(H),r))throw new Error("Cannot find square root");return H}const hd=H2(nv,void 0,void 0,{sqrt:e_}),Ws=$2({a:BigInt(0),b:BigInt(7),Fp:hd,n:J0,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{const e=J0,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-W2*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),c=t,u=BigInt("0x100000000000000000000000000000000"),h=Y0(c*r,e),p=Y0(-i*r,e);let g=Kt(r-h*t-p*o,e),m=Kt(-h*i-p*c,e);const y=g>u,w=m>u;if(y&&(g=e-g),w&&(m=e-m),g>u||m>u)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:y,k1:g,k2neg:w,k2:m}}}},Uw);BigInt(0);Ws.ProjectivePoint;const Oo="0x0000000000000000000000000000000000000000",X0="0x0000000000000000000000000000000000000000000000000000000000000000",Z0=BigInt(0),$0=BigInt(1),W0=BigInt(2),eb=BigInt(27),tb=BigInt(28),mc=BigInt(35),qr={};function nb(r){return bs(yt(r),32)}class tt{#e;#t;#n;#s;get r(){return this.#e}set r(e){k(Zr(e)===32,"invalid r","value",e),this.#e=Y(e)}get s(){return k(parseInt(this.#t.substring(0,3))<8,"non-canonical s; use ._s","s",this.#t),this.#t}set s(e){k(Zr(e)===32,"invalid s","value",e),this.#t=Y(e)}get _s(){return this.#t}isValid(){return parseInt(this.#t.substring(0,3))<8}get v(){return this.#n}set v(e){const t=Ae(e,"value");k(t===27||t===28,"invalid v","v",e),this.#n=t}get networkV(){return this.#s}get legacyChainId(){const e=this.networkV;return e==null?null:tt.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=ve(this.s);return this.yParity&&(e[0]|=128),Y(e)}get compactSerialized(){return st([this.r,this.yParityAndS])}get serialized(){return st([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,i,o){Gc(e,qr,"Signature"),this.#e=t,this.#t=i,this.#n=o,this.#s=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new tt(qr,this.r,this._s,this.v);return this.networkV&&(e.#s=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){const t=W(e,"v");return t==eb||t==tb?Z0:(k(t>=mc,"invalid EIP-155 v","v",e),(t-mc)/W0)}static getChainIdV(e,t){return W(e)*W0+BigInt(35+t-27)}static getNormalizedV(e){const t=W(e);return t===Z0||t===eb?27:t===$0||t===tb?28:(k(t>=mc,"invalid v","v",e),t&$0?27:28)}static from(e){function t(g,m){k(g,m,"signature",e)}if(e==null)return new tt(qr,X0,X0,27);if(typeof e=="string"){const g=ve(e,"signature");if(g.length===64){const m=Y(g.slice(0,32)),y=g.slice(32,64),w=y[0]&128?28:27;return y[0]&=127,new tt(qr,m,Y(y),w)}if(g.length===65){const m=Y(g.slice(0,32)),y=Y(g.slice(32,64)),w=tt.getNormalizedV(g[64]);return new tt(qr,m,y,w)}t(!1,"invalid raw signature length")}if(e instanceof tt)return e.clone();const i=e.r;t(i!=null,"missing r");const o=nb(i),c=function(g,m){if(g!=null)return nb(g);if(m!=null){t(Ve(m,32),"invalid yParityAndS");const y=ve(m);return y[0]&=127,Y(y)}t(!1,"missing s")}(e.s,e.yParityAndS),{networkV:u,v:h}=function(g,m,y){if(g!=null){const w=W(g);return{networkV:w>=mc?w:void 0,v:tt.getNormalizedV(w)}}if(m!=null)return t(Ve(m,32),"invalid yParityAndS"),{v:ve(m)[0]&128?28:27};if(y!=null){switch(Ae(y,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),p=new tt(qr,o,c,h);return u&&(p.#s=u),t(e.yParity==null||Ae(e.yParity,"sig.yParity")===p.yParity,"yParity mismatch"),t(e.yParityAndS==null||e.yParityAndS===p.yParityAndS,"yParityAndS mismatch"),p}}class ds{#e;constructor(e){k(Zr(e)===32,"invalid private key","privateKey","[REDACTED]"),this.#e=Y(e)}get privateKey(){return this.#e}get publicKey(){return ds.computePublicKey(this.#e)}get compressedPublicKey(){return ds.computePublicKey(this.#e,!0)}sign(e){k(Zr(e)===32,"invalid digest length","digest",e);const t=Ws.sign(Lt(e),Lt(this.#e),{lowS:!0});return tt.from({r:ri(t.r,32),s:ri(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=ds.computePublicKey(e);return Y(Ws.getSharedSecret(Lt(this.#e),ve(t),!1))}static computePublicKey(e,t){let i=ve(e,"key");if(i.length===32){const c=Ws.getPublicKey(i,!!t);return Y(c)}if(i.length===64){const c=new Uint8Array(65);c[0]=4,c.set(i,1),i=c}const o=Ws.ProjectivePoint.fromHex(i);return Y(o.toRawBytes(t))}static recoverPublicKey(e,t){k(Zr(e)===32,"invalid digest length","digest",e);const i=tt.from(t);let o=Ws.Signature.fromCompact(Lt(st([i.r,i.s])));o=o.addRecoveryBit(i.yParity);const c=o.recoverPublicKey(Lt(e));return k(c!=null,"invalid signature for digest","signature",t),"0x"+c.toHex(!1)}static addPoints(e,t,i){const o=Ws.ProjectivePoint.fromHex(ds.computePublicKey(e).substring(2)),c=Ws.ProjectivePoint.fromHex(ds.computePublicKey(t).substring(2));return"0x"+o.add(c).toHex(!!i)}}const t_=BigInt(0),n_=BigInt(36);function sb(r){r=r.toLowerCase();const e=r.substring(2).split(""),t=new Uint8Array(40);for(let o=0;o<40;o++)t[o]=e[o].charCodeAt(0);const i=ve(ut(t));for(let o=0;o<40;o+=2)i[o>>1]>>4>=8&&(e[o]=e[o].toUpperCase()),(i[o>>1]&15)>=8&&(e[o+1]=e[o+1].toUpperCase());return"0x"+e.join("")}const Yd={};for(let r=0;r<10;r++)Yd[String(r)]=String(r);for(let r=0;r<26;r++)Yd[String.fromCharCode(65+r)]=String(10+r);const ib=15;function s_(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(i=>Yd[i]).join("");for(;e.length>=ib;){let i=e.substring(0,ib);e=parseInt(i,10)%97+e.substring(i.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}const i_=function(){const r={};for(let e=0;e<36;e++){const t="0123456789abcdefghijklmnopqrstuvwxyz"[e];r[t]=BigInt(e)}return r}();function r_(r){r=r.toLowerCase();let e=t_;for(let t=0;t<r.length;t++)e=e*n_+i_[r[t]];return e}function Ue(r){if(k(typeof r=="string","invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/)){r.startsWith("0x")||(r="0x"+r);const e=sb(r);return k(!r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===r,"bad address checksum","address",r),e}if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){k(r.substring(2,4)===s_(r),"bad icap checksum","address",r);let e=r_(r.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return sb("0x"+e)}k(!1,"invalid address","address",r)}function a_(r){const e=Ue(r.from);let i=W(r.nonce,"tx.nonce").toString(16);return i==="0"?i="0x":i.length%2?i="0x0"+i:i="0x"+i,Ue(et(ut(ai([e,i])),12))}function sv(r){return r&&typeof r.getAddress=="function"}async function Uh(r,e){const t=await e;return(t==null||t==="0x0000000000000000000000000000000000000000")&&(Q(typeof r!="string","unconfigured name","UNCONFIGURED_NAME",{value:r}),k(!1,"invalid AddressLike value; did not resolve to a value address","target",r)),Ue(t)}function It(r,e){if(typeof r=="string")return r.match(/^0x[0-9a-f]{40}$/i)?Ue(r):(Q(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Uh(r,e.resolveName(r)));if(sv(r))return Uh(r,r.getAddress());if(r&&typeof r.then=="function")return Uh(r,r);k(!1,"unsupported addressable value","target",r)}const us={};function $(r,e){let t=!1;return e<0&&(t=!0,e*=-1),new nt(us,`${t?"":"u"}int${e}`,r,{signed:t,width:e})}function Re(r,e){return new nt(us,`bytes${e||""}`,r,{size:e})}const rb=Symbol.for("_ethers_typed");class nt{type;value;#e;_typedSymbol;constructor(e,t,i,o){o==null&&(o=null),Gc(us,e,"Typed"),ae(this,{_typedSymbol:rb,type:t,value:i}),this.#e=o,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#e}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#e===!0?-1:this.#e===!1?this.value.length:null}static from(e,t){return new nt(us,e,t)}static uint8(e){return $(e,8)}static uint16(e){return $(e,16)}static uint24(e){return $(e,24)}static uint32(e){return $(e,32)}static uint40(e){return $(e,40)}static uint48(e){return $(e,48)}static uint56(e){return $(e,56)}static uint64(e){return $(e,64)}static uint72(e){return $(e,72)}static uint80(e){return $(e,80)}static uint88(e){return $(e,88)}static uint96(e){return $(e,96)}static uint104(e){return $(e,104)}static uint112(e){return $(e,112)}static uint120(e){return $(e,120)}static uint128(e){return $(e,128)}static uint136(e){return $(e,136)}static uint144(e){return $(e,144)}static uint152(e){return $(e,152)}static uint160(e){return $(e,160)}static uint168(e){return $(e,168)}static uint176(e){return $(e,176)}static uint184(e){return $(e,184)}static uint192(e){return $(e,192)}static uint200(e){return $(e,200)}static uint208(e){return $(e,208)}static uint216(e){return $(e,216)}static uint224(e){return $(e,224)}static uint232(e){return $(e,232)}static uint240(e){return $(e,240)}static uint248(e){return $(e,248)}static uint256(e){return $(e,256)}static uint(e){return $(e,256)}static int8(e){return $(e,-8)}static int16(e){return $(e,-16)}static int24(e){return $(e,-24)}static int32(e){return $(e,-32)}static int40(e){return $(e,-40)}static int48(e){return $(e,-48)}static int56(e){return $(e,-56)}static int64(e){return $(e,-64)}static int72(e){return $(e,-72)}static int80(e){return $(e,-80)}static int88(e){return $(e,-88)}static int96(e){return $(e,-96)}static int104(e){return $(e,-104)}static int112(e){return $(e,-112)}static int120(e){return $(e,-120)}static int128(e){return $(e,-128)}static int136(e){return $(e,-136)}static int144(e){return $(e,-144)}static int152(e){return $(e,-152)}static int160(e){return $(e,-160)}static int168(e){return $(e,-168)}static int176(e){return $(e,-176)}static int184(e){return $(e,-184)}static int192(e){return $(e,-192)}static int200(e){return $(e,-200)}static int208(e){return $(e,-208)}static int216(e){return $(e,-216)}static int224(e){return $(e,-224)}static int232(e){return $(e,-232)}static int240(e){return $(e,-240)}static int248(e){return $(e,-248)}static int256(e){return $(e,-256)}static int(e){return $(e,-256)}static bytes1(e){return Re(e,1)}static bytes2(e){return Re(e,2)}static bytes3(e){return Re(e,3)}static bytes4(e){return Re(e,4)}static bytes5(e){return Re(e,5)}static bytes6(e){return Re(e,6)}static bytes7(e){return Re(e,7)}static bytes8(e){return Re(e,8)}static bytes9(e){return Re(e,9)}static bytes10(e){return Re(e,10)}static bytes11(e){return Re(e,11)}static bytes12(e){return Re(e,12)}static bytes13(e){return Re(e,13)}static bytes14(e){return Re(e,14)}static bytes15(e){return Re(e,15)}static bytes16(e){return Re(e,16)}static bytes17(e){return Re(e,17)}static bytes18(e){return Re(e,18)}static bytes19(e){return Re(e,19)}static bytes20(e){return Re(e,20)}static bytes21(e){return Re(e,21)}static bytes22(e){return Re(e,22)}static bytes23(e){return Re(e,23)}static bytes24(e){return Re(e,24)}static bytes25(e){return Re(e,25)}static bytes26(e){return Re(e,26)}static bytes27(e){return Re(e,27)}static bytes28(e){return Re(e,28)}static bytes29(e){return Re(e,29)}static bytes30(e){return Re(e,30)}static bytes31(e){return Re(e,31)}static bytes32(e){return Re(e,32)}static address(e){return new nt(us,"address",e)}static bool(e){return new nt(us,"bool",!!e)}static bytes(e){return new nt(us,"bytes",e)}static string(e){return new nt(us,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new nt(us,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===rb}static dereference(e,t){if(nt.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}}class o_ extends As{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let i=nt.dereference(t,"string");try{i=Ue(i)}catch(o){return this._throwError(o.message,t)}return e.writeValue(i)}decode(e){return Ue(ri(e.readValue(),20))}}class l_ extends As{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function iv(r,e,t){let i=[];if(Array.isArray(t))i=t;else if(t&&typeof t=="object"){let p={};i=e.map(g=>{const m=g.localName;return Q(m,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:g},value:t}),Q(!p[m],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:g},value:t}),p[m]=!0,t[m]})}else k(!1,"invalid tuple value","tuple",t);k(e.length===i.length,"types/value length mismatch","tuple",t);let o=new od,c=new od,u=[];e.forEach((p,g)=>{let m=i[g];if(p.dynamic){let y=c.length;p.encode(c,m);let w=o.writeUpdatableValue();u.push(x=>{w(x+y)})}else p.encode(o,m)}),u.forEach(p=>{p(o.length)});let h=r.appendWriter(o);return h+=r.appendWriter(c),h}function rv(r,e){let t=[],i=[],o=r.subReader(0);return e.forEach(c=>{let u=null;if(c.dynamic){let h=r.readIndex(),p=o.subReader(h);try{u=c.decode(p)}catch(g){if(kt(g,"BUFFER_OVERRUN"))throw g;u=g,u.baseType=c.name,u.name=c.localName,u.type=c.type}}else try{u=c.decode(r)}catch(h){if(kt(h,"BUFFER_OVERRUN"))throw h;u=h,u.baseType=c.name,u.name=c.localName,u.type=c.type}if(u==null)throw new Error("investigate");t.push(u),i.push(c.localName||null)}),ps.fromItems(t,i)}class c_ extends As{coder;length;constructor(e,t,i){const o=e.type+"["+(t>=0?t:"")+"]",c=t===-1||e.dynamic;super("array",o,i,c),ae(this,{coder:e,length:t})}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let i=0;i<this.length;i++)t.push(e);return t}encode(e,t){const i=nt.dereference(t,"array");Array.isArray(i)||this._throwError("expected array value",i);let o=this.length;o===-1&&(o=i.length,e.writeValue(i.length)),gw(i.length,o,"coder array"+(this.localName?" "+this.localName:""));let c=[];for(let u=0;u<i.length;u++)c.push(this.coder);return iv(e,c,i)}decode(e){let t=this.length;t===-1&&(t=e.readIndex(),Q(t*Pt<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*Pt,length:e.dataLength}));let i=[];for(let o=0;o<t;o++)i.push(new l_(this.coder));return rv(e,i)}}class u_ extends As{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const i=nt.dereference(t,"bool");return e.writeValue(i?1:0)}decode(e){return!!e.readValue()}}class av extends As{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=Lt(t);let i=e.writeValue(t.length);return i+=e.writeBytes(t),i}decode(e){return e.readBytes(e.readIndex(),!0)}}class f_ extends av{constructor(e){super("bytes",e)}decode(e){return Y(super.decode(e))}}class h_ extends As{size;constructor(e,t){let i="bytes"+String(e);super(i,i,t,!1),ae(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let i=Lt(nt.dereference(t,this.type));return i.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(i)}decode(e){return Y(e.readBytes(this.size))}}const d_=new Uint8Array([]);class p_ extends As{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes(d_)}decode(e){return e.readBytes(0),null}}const g_=BigInt(0),m_=BigInt(1),y_=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class b_ extends As{size;signed;constructor(e,t,i){const o=(t?"int":"uint")+e*8;super(o,o,i,!1),ae(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let i=W(nt.dereference(t,this.type)),o=yo(y_,Pt*8);if(this.signed){let c=yo(o,this.size*8-1);(i>c||i<-(c+m_))&&this._throwError("value out-of-bounds",t),i=bw(i,8*Pt)}else(i<g_||i>yo(o,this.size*8))&&this._throwError("value out-of-bounds",t);return e.writeValue(i)}decode(e){let t=yo(e.readValue(),this.size*8);return this.signed&&(t=gT(t,this.size*8)),t}}class w_ extends av{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,ms(nt.dereference(t,"string")))}decode(e){return Bc(super.decode(e))}}class yc extends As{coders;constructor(e,t){let i=!1;const o=[];e.forEach(u=>{u.dynamic&&(i=!0),o.push(u.type)});const c="tuple("+o.join(",")+")";super("tuple",c,t,i),ae(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(i=>{e.push(i.defaultValue())});const t=this.coders.reduce((i,o)=>{const c=o.localName;return c&&(i[c]||(i[c]=0),i[c]++),i},{});return this.coders.forEach((i,o)=>{let c=i.localName;!c||t[c]!==1||(c==="length"&&(c="_length"),e[c]==null&&(e[c]=e[o]))}),Object.freeze(e)}encode(e,t){const i=nt.dereference(t,"tuple");return iv(e,this.coders,i)}decode(e){return rv(e,this.coders)}}function Dh(r,e){return{address:Ue(r),storageKeys:e.map((t,i)=>(k(Ve(t,32),"invalid slot",`storageKeys[${i}]`,t),t.toLowerCase()))}}function Ki(r){if(Array.isArray(r))return r.map((t,i)=>Array.isArray(t)?(k(t.length===2,"invalid slot set",`value[${i}]`,t),Dh(t[0],t[1])):(k(t!=null&&typeof t=="object","invalid address-slot set","value",r),Dh(t.address,t.storageKeys)));k(r!=null&&typeof r=="object","invalid access list","value",r);const e=Object.keys(r).map(t=>{const i=r[t].reduce((o,c)=>(o[c]=!0,o),{});return Dh(t,Object.keys(i).sort())});return e.sort((t,i)=>t.address.localeCompare(i.address)),e}function ov(r){return{address:Ue(r.address),nonce:W(r.nonce!=null?r.nonce:0),chainId:W(r.chainId!=null?r.chainId:0),signature:tt.from(r.signature)}}function v_(r){let e;return typeof r=="string"?e=ds.computePublicKey(r,!1):e=r.publicKey,Ue(ut("0x"+e.substring(4)).substring(26))}function A_(r,e){return v_(ds.recoverPublicKey(r,e))}const xt=BigInt(0),E_=BigInt(2),x_=BigInt(27),S_=BigInt(28),T_=BigInt(35),__=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Mh=4096*32;function N_(r){return{blobToKzgCommitment:i=>{if("computeBlobProof"in r){if("blobToKzgCommitment"in r&&typeof r.blobToKzgCommitment=="function")return ve(r.blobToKzgCommitment(Y(i)))}else if("blobToKzgCommitment"in r&&typeof r.blobToKzgCommitment=="function")return ve(r.blobToKzgCommitment(i));if("blobToKZGCommitment"in r&&typeof r.blobToKZGCommitment=="function")return ve(r.blobToKZGCommitment(Y(i)));k(!1,"unsupported KZG library","kzg",r)},computeBlobKzgProof:(i,o)=>{if("computeBlobProof"in r&&typeof r.computeBlobProof=="function")return ve(r.computeBlobProof(Y(i),Y(o)));if("computeBlobKzgProof"in r&&typeof r.computeBlobKzgProof=="function")return r.computeBlobKzgProof(i,o);if("computeBlobKZGProof"in r&&typeof r.computeBlobKZGProof=="function")return ve(r.computeBlobKZGProof(Y(i),Y(o)));k(!1,"unsupported KZG library","kzg",r)}}}function ab(r,e){let t=r.toString(16);for(;t.length<2;)t="0"+t;return t+=fa(e).substring(4),"0x"+t}function ha(r){return r==="0x"?null:Ue(r)}function Jc(r,e){try{return Ki(r)}catch(t){k(!1,t.message,e,r)}}function O_(r,e){try{if(!Array.isArray(r))throw new Error("authorizationList: invalid array");const t=[];for(let i=0;i<r.length;i++){const o=r[i];if(!Array.isArray(o))throw new Error(`authorization[${i}]: invalid array`);if(o.length!==6)throw new Error(`authorization[${i}]: wrong length`);if(!o[1])throw new Error(`authorization[${i}]: null address`);t.push({address:ha(o[1]),nonce:ze(o[2],"nonce"),chainId:ze(o[0],"chainId"),signature:tt.from({yParity:Ji(o[3],"yParity"),r:bs(o[4],32),s:bs(o[5],32)})})}return t}catch(t){k(!1,t.message,e,r)}}function Ji(r,e){return r==="0x"?0:Ae(r,e)}function ze(r,e){if(r==="0x")return xt;const t=W(r,e);return k(t<=__,"value exceeds uint size",e,t),t}function Ne(r,e){const t=W(r,"value"),i=yt(t);return k(i.length<=32,"value too large",`tx.${e}`,t),i}function Yc(r){return Ki(r).map(e=>[e.address,e.storageKeys])}function k_(r){return r.map(e=>[Ne(e.chainId,"chainId"),e.address,Ne(e.nonce,"nonce"),Ne(e.signature.yParity,"yParity"),yt(e.signature.r),yt(e.signature.s)])}function R_(r,e){k(Array.isArray(r),`invalid ${e}`,"value",r);for(let t=0;t<r.length;t++)k(Ve(r[t],32),"invalid ${ param } hash",`value[${t}]`,r[t]);return r}function C_(r){const e=Po(r);k(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",r);const t={type:0,nonce:Ji(e[0],"nonce"),gasPrice:ze(e[1],"gasPrice"),gasLimit:ze(e[2],"gasLimit"),to:ha(e[3]),value:ze(e[4],"value"),data:Y(e[5]),chainId:xt};if(e.length===6)return t;const i=ze(e[6],"v"),o=ze(e[7],"r"),c=ze(e[8],"s");if(o===xt&&c===xt)t.chainId=i;else{let u=(i-T_)/E_;u<xt&&(u=xt),t.chainId=u,k(u!==xt||i===x_||i===S_,"non-canonical legacy v","v",e[6]),t.signature=tt.from({r:bs(e[7],32),s:bs(e[8],32),v:i})}return t}function B_(r,e){const t=[Ne(r.nonce,"nonce"),Ne(r.gasPrice||0,"gasPrice"),Ne(r.gasLimit,"gasLimit"),r.to||"0x",Ne(r.value,"value"),r.data];let i=xt;if(r.chainId!=xt)i=W(r.chainId,"tx.chainId"),k(!e||e.networkV==null||e.legacyChainId===i,"tx.chainId/sig.v mismatch","sig",e);else if(r.signature){const c=r.signature.legacyChainId;c!=null&&(i=c)}if(!e)return i!==xt&&(t.push(yt(i)),t.push("0x"),t.push("0x")),ai(t);let o=BigInt(27+e.yParity);return i!==xt?o=tt.getChainIdV(i,e.v):BigInt(e.v)!==o&&k(!1,"tx.chainId/sig.v mismatch","sig",e),t.push(yt(o)),t.push(yt(e.r)),t.push(yt(e.s)),ai(t)}function Xc(r,e){let t;try{if(t=Ji(e[0],"yParity"),t!==0&&t!==1)throw new Error("bad yParity")}catch{k(!1,"invalid yParity","yParity",e[0])}const i=bs(e[1],32),o=bs(e[2],32),c=tt.from({r:i,s:o,yParity:t});r.signature=c}function U_(r){const e=Po(ve(r).slice(1));k(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",Y(r));const t={type:2,chainId:ze(e[0],"chainId"),nonce:Ji(e[1],"nonce"),maxPriorityFeePerGas:ze(e[2],"maxPriorityFeePerGas"),maxFeePerGas:ze(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:ze(e[4],"gasLimit"),to:ha(e[5]),value:ze(e[6],"value"),data:Y(e[7]),accessList:Jc(e[8],"accessList")};return e.length===9||Xc(t,e.slice(9)),t}function D_(r,e){const t=[Ne(r.chainId,"chainId"),Ne(r.nonce,"nonce"),Ne(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ne(r.maxFeePerGas||0,"maxFeePerGas"),Ne(r.gasLimit,"gasLimit"),r.to||"0x",Ne(r.value,"value"),r.data,Yc(r.accessList||[])];return e&&(t.push(Ne(e.yParity,"yParity")),t.push(yt(e.r)),t.push(yt(e.s))),st(["0x02",ai(t)])}function M_(r){const e=Po(ve(r).slice(1));k(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",Y(r));const t={type:1,chainId:ze(e[0],"chainId"),nonce:Ji(e[1],"nonce"),gasPrice:ze(e[2],"gasPrice"),gasLimit:ze(e[3],"gasLimit"),to:ha(e[4]),value:ze(e[5],"value"),data:Y(e[6]),accessList:Jc(e[7],"accessList")};return e.length===8||Xc(t,e.slice(8)),t}function j_(r,e){const t=[Ne(r.chainId,"chainId"),Ne(r.nonce,"nonce"),Ne(r.gasPrice||0,"gasPrice"),Ne(r.gasLimit,"gasLimit"),r.to||"0x",Ne(r.value,"value"),r.data,Yc(r.accessList||[])];return e&&(t.push(Ne(e.yParity,"recoveryParam")),t.push(yt(e.r)),t.push(yt(e.s))),st(["0x01",ai(t)])}function L_(r){let e=Po(ve(r).slice(1)),t="3",i=null;if(e.length===4&&Array.isArray(e[0])){t="3 (network format)";const c=e[1],u=e[2],h=e[3];k(Array.isArray(c),"invalid network format: blobs not an array","fields[1]",c),k(Array.isArray(u),"invalid network format: commitments not an array","fields[2]",u),k(Array.isArray(h),"invalid network format: proofs not an array","fields[3]",h),k(c.length===u.length,"invalid network format: blobs/commitments length mismatch","fields",e),k(c.length===h.length,"invalid network format: blobs/proofs length mismatch","fields",e),i=[];for(let p=0;p<e[1].length;p++)i.push({data:c[p],commitment:u[p],proof:h[p]});e=e[0]}k(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${t}`,"data",Y(r));const o={type:3,chainId:ze(e[0],"chainId"),nonce:Ji(e[1],"nonce"),maxPriorityFeePerGas:ze(e[2],"maxPriorityFeePerGas"),maxFeePerGas:ze(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:ze(e[4],"gasLimit"),to:ha(e[5]),value:ze(e[6],"value"),data:Y(e[7]),accessList:Jc(e[8],"accessList"),maxFeePerBlobGas:ze(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};i&&(o.blobs=i),k(o.to!=null,`invalid address for transaction type: ${t}`,"data",r),k(Array.isArray(o.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",r);for(let c=0;c<o.blobVersionedHashes.length;c++)k(Ve(o.blobVersionedHashes[c],32),`invalid blobVersionedHash at index ${c}: must be length 32`,"data",r);return e.length===11||Xc(o,e.slice(11)),o}function P_(r,e,t){const i=[Ne(r.chainId,"chainId"),Ne(r.nonce,"nonce"),Ne(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ne(r.maxFeePerGas||0,"maxFeePerGas"),Ne(r.gasLimit,"gasLimit"),r.to||Oo,Ne(r.value,"value"),r.data,Yc(r.accessList||[]),Ne(r.maxFeePerBlobGas||0,"maxFeePerBlobGas"),R_(r.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(i.push(Ne(e.yParity,"yParity")),i.push(yt(e.r)),i.push(yt(e.s)),t)?st(["0x03",ai([i,t.map(o=>o.data),t.map(o=>o.commitment),t.map(o=>o.proof)])]):st(["0x03",ai(i)])}function I_(r){const e=Po(ve(r).slice(1));k(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",Y(r));const t={type:4,chainId:ze(e[0],"chainId"),nonce:Ji(e[1],"nonce"),maxPriorityFeePerGas:ze(e[2],"maxPriorityFeePerGas"),maxFeePerGas:ze(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:ze(e[4],"gasLimit"),to:ha(e[5]),value:ze(e[6],"value"),data:Y(e[7]),accessList:Jc(e[8],"accessList"),authorizationList:O_(e[9],"authorizationList")};return e.length===10||Xc(t,e.slice(10)),t}function z_(r,e){const t=[Ne(r.chainId,"chainId"),Ne(r.nonce,"nonce"),Ne(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ne(r.maxFeePerGas||0,"maxFeePerGas"),Ne(r.gasLimit,"gasLimit"),r.to||"0x",Ne(r.value,"value"),r.data,Yc(r.accessList||[]),k_(r.authorizationList||[])];return e&&(t.push(Ne(e.yParity,"yParity")),t.push(yt(e.r)),t.push(yt(e.s))),st(["0x04",ai(t)])}class On{#e;#t;#n;#s;#i;#a;#r;#o;#d;#c;#p;#g;#l;#u;#f;#h;#y;get type(){return this.#e}set type(e){switch(e){case null:this.#e=null;break;case 0:case"legacy":this.#e=0;break;case 1:case"berlin":case"eip-2930":this.#e=1;break;case 2:case"london":case"eip-1559":this.#e=2;break;case 3:case"cancun":case"eip-4844":this.#e=3;break;case 4:case"pectra":case"eip-7702":this.#e=4;break;default:k(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=this.#t;return e==null&&this.type===3?Oo:e}set to(e){this.#t=e==null?null:Ue(e)}get nonce(){return this.#s}set nonce(e){this.#s=Ae(e,"value")}get gasLimit(){return this.#i}set gasLimit(e){this.#i=W(e)}get gasPrice(){const e=this.#a;return e==null&&(this.type===0||this.type===1)?xt:e}set gasPrice(e){this.#a=e==null?null:W(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#r;return e??(this.type===2||this.type===3?xt:null)}set maxPriorityFeePerGas(e){this.#r=e==null?null:W(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#o;return e??(this.type===2||this.type===3?xt:null)}set maxFeePerGas(e){this.#o=e==null?null:W(e,"maxFeePerGas")}get data(){return this.#n}set data(e){this.#n=Y(e)}get value(){return this.#d}set value(e){this.#d=W(e,"value")}get chainId(){return this.#c}set chainId(e){this.#c=W(e)}get signature(){return this.#p||null}set signature(e){this.#p=e==null?null:tt.from(e)}get accessList(){const e=this.#g||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){this.#g=e==null?null:Ki(e)}get authorizationList(){const e=this.#y||null;return e==null&&this.type===4?[]:e}set authorizationList(e){this.#y=e==null?null:e.map(t=>ov(t))}get maxFeePerBlobGas(){const e=this.#l;return e==null&&this.type===3?xt:e}set maxFeePerBlobGas(e){this.#l=e==null?null:W(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#u;return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){k(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)k(Ve(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}this.#u=e}get blobs(){return this.#h==null?null:this.#h.map(e=>Object.assign({},e))}set blobs(e){if(e==null){this.#h=null;return}const t=[],i=[];for(let o=0;o<e.length;o++){const c=e[o];if(Pd(c)){Q(this.#f,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let u=ve(c);if(k(u.length<=Mh,"blob is too large",`blobs[${o}]`,c),u.length!==Mh){const g=new Uint8Array(Mh);g.set(u),u=g}const h=this.#f.blobToKzgCommitment(u),p=Y(this.#f.computeBlobKzgProof(u,h));t.push({data:Y(u),commitment:Y(h),proof:p}),i.push(ab(1,h))}else{const u=Y(c.commitment);t.push({data:Y(c.data),commitment:u,proof:Y(c.proof)}),i.push(ab(1,u))}}this.#h=t,this.#u=i}get kzg(){return this.#f}set kzg(e){e==null?this.#f=null:this.#f=N_(e)}constructor(){this.#e=null,this.#t=null,this.#s=0,this.#i=xt,this.#a=null,this.#r=null,this.#o=null,this.#n="0x",this.#d=xt,this.#c=xt,this.#p=null,this.#g=null,this.#l=null,this.#u=null,this.#f=null,this.#h=null,this.#y=null}get hash(){return this.signature==null?null:ut(this.#m(!0,!1))}get unsignedHash(){return ut(this.unsignedSerialized)}get from(){return this.signature==null?null:A_(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:ds.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}#m(e,t){Q(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const i=e?this.signature:null;switch(this.inferType()){case 0:return B_(this,i);case 1:return j_(this,i);case 2:return D_(this,i);case 3:return P_(this,i,t?this.blobs:null);case 4:return z_(this,i)}Q(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#m(!0,!0)}get unsignedSerialized(){return this.#m(!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,t=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,i=this.accessList!=null,o=this.#l!=null||this.#u;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&Q(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Q(!t||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Q(this.type!==0||!i,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const c=[];return this.type!=null?c.push(this.type):this.authorizationList&&this.authorizationList.length?c.push(4):t?c.push(2):e?(c.push(1),i||c.push(0)):i?(c.push(1),c.push(2)):(o&&this.to||(c.push(0),c.push(1),c.push(2)),c.push(3)),c.sort(),c}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return On.from(this)}toJSON(){const e=t=>t==null?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new On;if(typeof e=="string"){const i=ve(e);if(i[0]>=127)return On.from(C_(i));switch(i[0]){case 1:return On.from(M_(i));case 2:return On.from(U_(i));case 3:return On.from(L_(i));case 4:return On.from(I_(i))}Q(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new On;return e.type!=null&&(t.type=e.type),e.to!=null&&(t.to=e.to),e.nonce!=null&&(t.nonce=e.nonce),e.gasLimit!=null&&(t.gasLimit=e.gasLimit),e.gasPrice!=null&&(t.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(t.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(t.data=e.data),e.value!=null&&(t.value=e.value),e.chainId!=null&&(t.chainId=e.chainId),e.signature!=null&&(t.signature=tt.from(e.signature)),e.accessList!=null&&(t.accessList=e.accessList),e.authorizationList!=null&&(t.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(t.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(t.kzg=e.kzg),e.blobs!=null&&(t.blobs=e.blobs),e.hash!=null&&(k(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),k(t.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(k(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),k(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}function Gi(r){return ut(ms(r))}var H_="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";const ob=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),lb=4;function G_(r){let e=0;function t(){return r[e++]<<8|r[e++]}let i=t(),o=1,c=[0,1];for(let K=1;K<i;K++)c.push(o+=t());let u=t(),h=e;e+=u;let p=0,g=0;function m(){return p==0&&(g=g<<8|r[e++],p=8),g>>--p&1}const y=31,w=2**y,x=w>>>1,T=x>>1,S=w-1;let _=0;for(let K=0;K<y;K++)_=_<<1|m();let U=[],F=0,R=w;for(;;){let K=Math.floor(((_-F+1)*o-1)/R),H=0,J=i;for(;J-H>1;){let te=H+J>>>1;K<c[te]?J=te:H=te}if(H==0)break;U.push(H);let X=F+Math.floor(R*c[H]/o),he=F+Math.floor(R*c[H+1]/o)-1;for(;((X^he)&x)==0;)_=_<<1&S|m(),X=X<<1&S,he=he<<1&S|1;for(;X&~he&T;)_=_&x|_<<1&S>>>1|m(),X=X<<1^x,he=(he^x)<<1|x|1;F=X,R=1+he-X}let z=i-4;return U.map(K=>{switch(K-z){case 3:return z+65792+(r[h++]<<16|r[h++]<<8|r[h++]);case 2:return z+256+(r[h++]<<8|r[h++]);case 1:return z+r[h++];default:return K-1}})}function F_(r){let e=0;return()=>r[e++]}function lv(r){return F_(G_(q_(r)))}function q_(r){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((o,c)=>e[o.charCodeAt(0)]=c);let t=r.length,i=new Uint8Array(6*t>>3);for(let o=0,c=0,u=0,h=0;o<t;o++)h=h<<6|e[r.charCodeAt(o)],u+=6,u>=8&&(i[c++]=h>>(u-=8));return i}function Q_(r){return r&1?~r>>1:r>>1}function V_(r,e){let t=Array(r);for(let i=0,o=0;i<r;i++)t[i]=o+=Q_(e());return t}function ko(r,e=0){let t=[];for(;;){let i=r(),o=r();if(!o)break;e+=i;for(let c=0;c<o;c++)t.push(e+c);e+=o+1}return t}function cv(r){return Ro(()=>{let e=ko(r);if(e.length)return e})}function uv(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(K_(t,r))}for(;;){let t=r()-1;if(t<0)break;e.push(J_(t,r))}return e.flat()}function Ro(r){let e=[];for(;;){let t=r(e.length);if(!t)break;e.push(t)}return e}function fv(r,e,t){let i=Array(r).fill().map(()=>[]);for(let o=0;o<e;o++)V_(r,t).forEach((c,u)=>i[u].push(c));return i}function K_(r,e){let t=1+e(),i=e(),o=Ro(e);return fv(o.length,1+r,e).flatMap((u,h)=>{let[p,...g]=u;return Array(o[h]).fill().map((m,y)=>{let w=y*i;return[p+y*t,g.map(x=>x+w)]})})}function J_(r,e){let t=1+e();return fv(t,1+r,e).map(o=>[o[0],o.slice(1)])}function Y_(r){let e=[],t=ko(r);return o(i([]),[]),e;function i(c){let u=r(),h=Ro(()=>{let p=ko(r).map(g=>t[g]);if(p.length)return i(p)});return{S:u,B:h,Q:c}}function o({S:c,B:u},h,p){if(!(c&4&&p===h[h.length-1])){c&2&&(p=h[h.length-1]),c&1&&e.push(h);for(let g of u)for(let m of g.Q)o(g,[...h,m],p)}}}function X_(r){return r.toString(16).toUpperCase().padStart(2,"0")}function hv(r){return`{${X_(r)}}`}function Z_(r){let e=[];for(let t=0,i=r.length;t<i;){let o=r.codePointAt(t);t+=o<65536?1:2,e.push(o)}return e}function aa(r){let t=r.length;if(t<4096)return String.fromCodePoint(...r);let i=[];for(let o=0;o<t;)i.push(String.fromCodePoint(...r.slice(o,o+=4096)));return i.join("")}function $_(r,e){let t=r.length,i=t-e.length;for(let o=0;i==0&&o<t;o++)i=r[o]-e[o];return i}var W_="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";const Co=44032,Dc=4352,Mc=4449,jc=4519,dv=19,pv=21,oa=28,Lc=pv*oa,eN=dv*Lc,tN=Co+eN,nN=Dc+dv,sN=Mc+pv,iN=jc+oa;function bo(r){return r>>24&255}function gv(r){return r&16777215}let dd,cb,pd,xc;function rN(){let r=lv(W_);dd=new Map(cv(r).flatMap((e,t)=>e.map(i=>[i,t+1<<24]))),cb=new Set(ko(r)),pd=new Map,xc=new Map;for(let[e,t]of uv(r)){if(!cb.has(e)&&t.length==2){let[i,o]=t,c=xc.get(i);c||(c=new Map,xc.set(i,c)),c.set(o,e)}pd.set(e,t.reverse())}}function mv(r){return r>=Co&&r<tN}function aN(r,e){if(r>=Dc&&r<nN&&e>=Mc&&e<sN)return Co+(r-Dc)*Lc+(e-Mc)*oa;if(mv(r)&&e>jc&&e<iN&&(r-Co)%oa==0)return r+(e-jc);{let t=xc.get(r);return t&&(t=t.get(e),t)?t:-1}}function yv(r){dd||rN();let e=[],t=[],i=!1;function o(c){let u=dd.get(c);u&&(i=!0,c|=u),e.push(c)}for(let c of r)for(;;){if(c<128)e.push(c);else if(mv(c)){let u=c-Co,h=u/Lc|0,p=u%Lc/oa|0,g=u%oa;o(Dc+h),o(Mc+p),g>0&&o(jc+g)}else{let u=pd.get(c);u?t.push(...u):o(c)}if(!t.length)break;c=t.pop()}if(i&&e.length>1){let c=bo(e[0]);for(let u=1;u<e.length;u++){let h=bo(e[u]);if(h==0||c<=h){c=h;continue}let p=u-1;for(;;){let g=e[p+1];if(e[p+1]=e[p],e[p]=g,!p||(c=bo(e[--p]),c<=h))break}c=bo(e[u])}}return e}function oN(r){let e=[],t=[],i=-1,o=0;for(let c of r){let u=bo(c),h=gv(c);if(i==-1)u==0?i=h:e.push(h);else if(o>0&&o>=u)u==0?(e.push(i,...t),t.length=0,i=h):t.push(h),o=u;else{let p=aN(i,h);p>=0?i=p:o==0&&u==0?(e.push(i),i=h):(t.push(h),o=u)}}return i>=0&&e.push(i,...t),e}function bv(r){return yv(r).map(gv)}function lN(r){return oN(yv(r))}const ub=45,wv=".",vv=65039,Av=1,Pc=r=>Array.from(r);function Bo(r,e){return r.P.has(e)||r.Q.has(e)}class cN extends Array{get is_emoji(){return!0}}let gd,Ev,Pi,md,xv,$r,jh,Jr,Bi,fb,yd;function Xd(){if(gd)return;let r=lv(H_);const e=()=>ko(r),t=()=>new Set(e()),i=(m,y)=>y.forEach(w=>m.add(w));gd=new Map(uv(r)),Ev=t(),Pi=e(),md=new Set(e().map(m=>Pi[m])),Pi=new Set(Pi),xv=t(),t();let o=cv(r),c=r();const u=()=>{let m=new Set;return e().forEach(y=>i(m,o[y])),i(m,e()),m};$r=Ro(m=>{let y=Ro(r).map(w=>w+96);if(y.length){let w=m>=c;y[0]-=32,y=aa(y),w&&(y=`Restricted[${y}]`);let x=u(),T=u(),S=!r();return{N:y,P:x,Q:T,M:S,R:w}}}),jh=t(),Jr=new Map;let h=e().concat(Pc(jh)).sort((m,y)=>m-y);h.forEach((m,y)=>{let w=r(),x=h[y]=w?h[y-w]:{V:[],M:new Map};x.V.push(m),jh.has(m)||Jr.set(m,x)});for(let{V:m,M:y}of new Set(Jr.values())){let w=[];for(let T of m){let S=$r.filter(U=>Bo(U,T)),_=w.find(({G:U})=>S.some(F=>U.has(F)));_||(_={G:new Set,V:[]},w.push(_)),_.V.push(T),i(_.G,S)}let x=w.flatMap(T=>Pc(T.G));for(let{G:T,V:S}of w){let _=new Set(x.filter(U=>!T.has(U)));for(let U of S)y.set(U,_)}}Bi=new Set;let p=new Set;const g=m=>Bi.has(m)?p.add(m):Bi.add(m);for(let m of $r){for(let y of m.P)g(y);for(let y of m.Q)g(y)}for(let m of Bi)!Jr.has(m)&&!p.has(m)&&Jr.set(m,Av);i(Bi,bv(Bi)),fb=Y_(r).map(m=>cN.from(m)).sort($_),yd=new Map;for(let m of fb){let y=[yd];for(let w of m){let x=y.map(T=>{let S=T.get(w);return S||(S=new Map,T.set(w,S)),S});w===vv?y.push(...x):y=x}for(let w of y)w.V=m}}function Zd(r){return(Sv(r)?"":`${$d(Zc([r]))} `)+hv(r)}function $d(r){return`"${r}"‎`}function uN(r){if(r.length>=4&&r[2]==ub&&r[3]==ub)throw new Error(`invalid label extension: "${aa(r.slice(0,4))}"`)}function fN(r){for(let t=r.lastIndexOf(95);t>0;)if(r[--t]!==95)throw new Error("underscore allowed only at start")}function hN(r){let e=r[0],t=ob.get(e);if(t)throw So(`leading ${t}`);let i=r.length,o=-1;for(let c=1;c<i;c++){e=r[c];let u=ob.get(e);if(u){if(o==c)throw So(`${t} + ${u}`);o=c+1,t=u}}if(o==i)throw So(`trailing ${t}`)}function Zc(r,e=1/0,t=hv){let i=[];dN(r[0])&&i.push("◌"),r.length>e&&(e>>=1,r=[...r.slice(0,e),8230,...r.slice(-e)]);let o=0,c=r.length;for(let u=0;u<c;u++){let h=r[u];Sv(h)&&(i.push(aa(r.slice(o,u))),i.push(t(h)),o=u+1)}return i.push(aa(r.slice(o,c))),i.join("")}function dN(r){return Xd(),Pi.has(r)}function Sv(r){return Xd(),xv.has(r)}function pN(r){return bN(gN(r,lN,AN))}function gN(r,e,t){if(!r)return[];Xd();let i=0;return r.split(wv).map(o=>{let c=Z_(o),u={input:c,offset:i};i+=c.length+1;try{let h=u.tokens=vN(c,e,t),p=h.length,g;if(!p)throw new Error("empty label");let m=u.output=h.flat();if(fN(m),!(u.emoji=p>1||h[0].is_emoji)&&m.every(w=>w<128))uN(m),g="ASCII";else{let w=h.flatMap(x=>x.is_emoji?[]:x);if(!w.length)g="Emoji";else{if(Pi.has(m[0]))throw So("leading combining mark");for(let S=1;S<p;S++){let _=h[S];if(!_.is_emoji&&Pi.has(_[0]))throw So(`emoji + combining mark: "${aa(h[S-1])} + ${Zc([_[0]])}"`)}hN(m);let x=Pc(new Set(w)),[T]=yN(x);wN(T,w),mN(T,x),g=T.N}}u.type=g}catch(h){u.error=h}return u})}function mN(r,e){let t,i=[];for(let o of e){let c=Jr.get(o);if(c===Av)return;if(c){let u=c.M.get(o);if(t=t?t.filter(h=>u.has(h)):Pc(u),!t.length)return}else i.push(o)}if(t){for(let o of t)if(i.every(c=>Bo(o,c)))throw new Error(`whole-script confusable: ${r.N}/${o.N}`)}}function yN(r){let e=$r;for(let t of r){let i=e.filter(o=>Bo(o,t));if(!i.length)throw $r.some(o=>Bo(o,t))?_v(e[0],t):Tv(t);if(e=i,i.length==1)break}return e}function bN(r){return r.map(({input:e,error:t,output:i})=>{if(t){let o=t.message;throw new Error(r.length==1?o:`Invalid label ${$d(Zc(e,63))}: ${o}`)}return aa(i)}).join(wv)}function Tv(r){return new Error(`disallowed character: ${Zd(r)}`)}function _v(r,e){let t=Zd(e),i=$r.find(o=>o.P.has(e));return i&&(t=`${i.N} ${t}`),new Error(`illegal mixture: ${r.N} + ${t}`)}function So(r){return new Error(`illegal placement: ${r}`)}function wN(r,e){for(let t of e)if(!Bo(r,t))throw _v(r,t);if(r.M){let t=bv(e);for(let i=1,o=t.length;i<o;i++)if(md.has(t[i])){let c=i+1;for(let u;c<o&&md.has(u=t[c]);c++)for(let h=i;h<c;h++)if(t[h]==u)throw new Error(`duplicate non-spacing marks: ${Zd(u)}`);if(c-i>lb)throw new Error(`excessive non-spacing marks: ${$d(Zc(t.slice(i-1,c)))} (${c-i}/${lb})`);i=c}}}function vN(r,e,t){let i=[],o=[];for(r=r.slice().reverse();r.length;){let c=EN(r);if(c)o.length&&(i.push(e(o)),o=[]),i.push(t(c));else{let u=r.pop();if(Bi.has(u))o.push(u);else{let h=gd.get(u);if(h)o.push(...h);else if(!Ev.has(u))throw Tv(u)}}}return o.length&&i.push(e(o)),i}function AN(r){return r.filter(e=>e!=vv)}function EN(r,e){let t=yd,i,o=r.length;for(;o&&(t=t.get(r[--o]),!!t);){let{V:c}=t;c&&(i=c,r.length=o)}return i}const Nv=new Uint8Array(32);Nv.fill(0);function hb(r){return k(r.length!==0,"invalid ENS name; empty component","comp",r),r}function Ov(r){const e=ms(xN(r)),t=[];if(r.length===0)return t;let i=0;for(let o=0;o<e.length;o++)e[o]===46&&(t.push(hb(e.slice(i,o))),i=o+1);return k(i<e.length,"invalid ENS name; empty component","name",r),t.push(hb(e.slice(i))),t}function xN(r){try{if(r.length===0)throw new Error("empty label");return pN(r)}catch(e){k(!1,`invalid ENS name (${e.message})`,"name",r)}}function bd(r){k(typeof r=="string","invalid ENS name; not a string","name",r),k(r.length,"invalid ENS name (empty label)","name",r);let e=Nv;const t=Ov(r);for(;t.length;)e=ut(st([e,ut(t.pop())]));return Y(e)}function SN(r,e){const t=e;return k(t<=255,"DNS encoded label cannot exceed 255","length",t),Y(st(Ov(r).map(i=>{k(i.length<=t,`label ${JSON.stringify(r)} exceeds ${t} bytes`,"name",r);const o=new Uint8Array(i.length+1);return o.set(i,1),o[0]=o.length-1,o})))+"00"}const kv=new Uint8Array(32);kv.fill(0);const TN=BigInt(-1),Rv=BigInt(0),Cv=BigInt(1),_N=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function NN(r){const e=ve(r),t=e.length%32;return t?st([e,kv.slice(t)]):Y(e)}const ON=ri(Cv,32),kN=ri(Rv,32),db={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Lh=["name","version","chainId","verifyingContract","salt"];function pb(r){return function(e){return k(typeof e=="string",`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}const RN={name:pb("name"),version:pb("version"),chainId:function(r){const e=W(r,"domain.chainId");return k(e>=0,"invalid chain ID","domain.chainId",r),Number.isSafeInteger(e)?Number(e):Cn(e)},verifyingContract:function(r){try{return Ue(r).toLowerCase()}catch{}k(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){const e=ve(r,"domain.salt");return k(e.length===32,'invalid domain value "salt"',"domain.salt",r),Y(e)}};function Ph(r){{const e=r.match(/^(u?)int(\d+)$/);if(e){const t=e[1]==="",i=parseInt(e[2]);k(i%8===0&&i!==0&&i<=256&&e[2]===String(i),"invalid numeric width","type",r);const o=yo(_N,t?i-1:i),c=t?(o+Cv)*TN:Rv;return function(u){const h=W(u,"value");return k(h>=c&&h<=o,`value out-of-bounds for ${r}`,"value",h),ri(t?bw(h,256):h,32)}}}{const e=r.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return k(t!==0&&t<=32&&e[1]===String(t),"invalid bytes width","type",r),function(i){const o=ve(i);return k(o.length===t,`invalid length for ${r}`,"value",i),NN(i)}}}switch(r){case"address":return function(e){return bs(Ue(e),32)};case"bool":return function(e){return e?ON:kN};case"bytes":return function(e){return ut(e)};case"string":return function(e){return Gi(e)}}return null}function gb(r,e){return`${r}(${e.map(({name:t,type:i})=>i+" "+t).join(",")})`}function bc(r){const e=r.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:r}}class on{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#n;constructor(e){this.#t=new Map,this.#n=new Map;const t=new Map,i=new Map,o=new Map,c={};Object.keys(e).forEach(p=>{c[p]=e[p].map(({name:g,type:m})=>{let{base:y,index:w}=bc(m);return y==="int"&&!e.int&&(y="int256"),y==="uint"&&!e.uint&&(y="uint256"),{name:g,type:y+(w||"")}}),t.set(p,new Set),i.set(p,[]),o.set(p,new Set)}),this.#e=JSON.stringify(c);for(const p in c){const g=new Set;for(const m of c[p]){k(!g.has(m.name),`duplicate variable name ${JSON.stringify(m.name)} in ${JSON.stringify(p)}`,"types",e),g.add(m.name);const y=bc(m.type).base;k(y!==p,`circular type reference to ${JSON.stringify(y)}`,"types",e),!Ph(y)&&(k(i.has(y),`unknown type ${JSON.stringify(y)}`,"types",e),i.get(y).push(p),t.get(p).add(y))}}const u=Array.from(i.keys()).filter(p=>i.get(p).length===0);k(u.length!==0,"missing primary type","types",e),k(u.length===1,`ambiguous primary types or unused types: ${u.map(p=>JSON.stringify(p)).join(", ")}`,"types",e),ae(this,{primaryType:u[0]});function h(p,g){k(!g.has(p),`circular type reference to ${JSON.stringify(p)}`,"types",e),g.add(p);for(const m of t.get(p))if(i.has(m)){h(m,g);for(const y of g)o.get(y).add(m)}g.delete(p)}h(this.primaryType,new Set);for(const[p,g]of o){const m=Array.from(g);m.sort(),this.#t.set(p,gb(p,c[p])+m.map(y=>gb(y,c[y])).join(""))}}getEncoder(e){let t=this.#n.get(e);return t||(t=this.#s(e),this.#n.set(e,t)),t}#s(e){{const o=Ph(e);if(o)return o}const t=bc(e).array;if(t){const o=t.prefix,c=this.getEncoder(o);return u=>{k(t.count===-1||t.count===u.length,`array length mismatch; expected length ${t.count}`,"value",u);let h=u.map(c);return this.#t.has(o)&&(h=h.map(ut)),ut(st(h))}}const i=this.types[e];if(i){const o=Gi(this.#t.get(e));return c=>{const u=i.map(({name:h,type:p})=>{const g=this.getEncoder(p)(c[h]);return this.#t.has(p)?ut(g):g});return u.unshift(o),st(u)}}k(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const t=this.#t.get(e);return k(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return ut(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,i){if(Ph(e))return i(e,t);const o=bc(e).array;if(o)return k(o.count===-1||o.count===t.length,`array length mismatch; expected length ${o.count}`,"value",t),t.map(u=>this._visit(o.prefix,u,i));const c=this.types[e];if(c)return c.reduce((u,{name:h,type:p})=>(u[h]=this._visit(p,t[h],i),u),{});k(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new on(e)}static getPrimaryType(e){return on.from(e).primaryType}static hashStruct(e,t,i){return on.from(t).hashStruct(e,i)}static hashDomain(e){const t=[];for(const i in e){if(e[i]==null)continue;const o=db[i];k(o,`invalid typed-data domain key: ${JSON.stringify(i)}`,"domain",e),t.push({name:i,type:o})}return t.sort((i,o)=>Lh.indexOf(i.name)-Lh.indexOf(o.name)),on.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,i){return st(["0x1901",on.hashDomain(e),on.from(t).hash(i)])}static hash(e,t,i){return ut(on.encode(e,t,i))}static async resolveNames(e,t,i,o){e=Object.assign({},e);for(const h in e)e[h]==null&&delete e[h];const c={};e.verifyingContract&&!Ve(e.verifyingContract,20)&&(c[e.verifyingContract]="0x");const u=on.from(t);u.visit(i,(h,p)=>(h==="address"&&!Ve(p,20)&&(c[p]="0x"),p));for(const h in c)c[h]=await o(h);return e.verifyingContract&&c[e.verifyingContract]&&(e.verifyingContract=c[e.verifyingContract]),i=u.visit(i,(h,p)=>h==="address"&&c[p]?c[p]:p),{domain:e,value:i}}static getPayload(e,t,i){on.hashDomain(e);const o={},c=[];Lh.forEach(p=>{const g=e[p];g!=null&&(o[p]=RN[p](g),c.push({name:p,type:db[p]}))});const u=on.from(t);t=u.types;const h=Object.assign({},t);return k(h.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",t),h.EIP712Domain=c,u.encode(i),{types:h,domain:o,primaryType:u.primaryType,message:u.visit(i,(p,g)=>{if(p.match(/^bytes(\d*)/))return Y(ve(g));if(p.match(/^u?int/))return W(g).toString();switch(p){case"address":return g.toLowerCase();case"bool":return!!g;case"string":return k(typeof g=="string","invalid string","value",g),g}k(!1,"unsupported type","type",p)})}}}function zt(r){const e=new Set;return r.forEach(t=>e.add(t)),Object.freeze(e)}const CN="external public payable override",BN=zt(CN.split(" ")),Bv="constant external internal payable private public pure view override",UN=zt(Bv.split(" ")),Uv="constructor error event fallback function receive struct",Dv=zt(Uv.split(" ")),Mv="calldata memory storage payable indexed",DN=zt(Mv.split(" ")),MN="tuple returns",jN=[Uv,Mv,MN,Bv].join(" "),LN=zt(jN.split(" ")),PN={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},IN=new RegExp("^(\\s*)"),zN=new RegExp("^([0-9]+)"),HN=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),jv=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),Lv=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class En{#e;#t;get offset(){return this.#e}get length(){return this.#t.length-this.#e}constructor(e){this.#e=0,this.#t=e.slice()}clone(){return new En(this.#t)}reset(){this.#e=0}#n(e=0,t=0){return new En(this.#t.slice(e,t).map(i=>Object.freeze(Object.assign({},i,{match:i.match-e,linkBack:i.linkBack-e,linkNext:i.linkNext-e}))))}popKeyword(e){const t=this.peek();if(t.type!=="KEYWORD"||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const t=this.peek();throw new Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=this.#n(this.#e+1,e.match+1);return this.#e=e.match+1,t}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=[];for(;this.#e<e.match-1;){const i=this.peek().linkNext;t.push(this.#n(this.#e+1,i)),this.#e=i}return this.#e=e.match+1,t}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e]}peekKeyword(e){const t=this.peekType("KEYWORD");return t!=null&&e.has(t)?t:null}peekType(e){if(this.length===0)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return this.#e++,e}toString(){const e=[];for(let t=this.#e;t<this.#t.length;t++){const i=this.#t[t];e.push(`${i.type}:${i.text}`)}return`<TokenString ${e.join(" ")}>`}}function li(r){const e=[],t=u=>{const h=c<r.length?JSON.stringify(r[c]):"$EOI";throw new Error(`invalid token ${h} at ${c}: ${u}`)};let i=[],o=[],c=0;for(;c<r.length;){let u=r.substring(c),h=u.match(IN);h&&(c+=h[1].length,u=r.substring(c));const p={depth:i.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:c,value:-1};e.push(p);let g=PN[u[0]]||"";if(g){if(p.type=g,p.text=u[0],c++,g==="OPEN_PAREN")i.push(e.length-1),o.push(e.length-1);else if(g=="CLOSE_PAREN")i.length===0&&t("no matching open bracket"),p.match=i.pop(),e[p.match].match=e.length-1,p.depth--,p.linkBack=o.pop(),e[p.linkBack].linkNext=e.length-1;else if(g==="COMMA")p.linkBack=o.pop(),e[p.linkBack].linkNext=e.length-1,o.push(e.length-1);else if(g==="OPEN_BRACKET")p.type="BRACKET";else if(g==="CLOSE_BRACKET"){let m=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const y=e.pop().text;m=y+m,e[e.length-1].value=Ae(y)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=m}continue}if(h=u.match(HN),h){if(p.text=h[1],c+=p.text.length,LN.has(p.text)){p.type="KEYWORD";continue}if(p.text.match(Lv)){p.type="TYPE";continue}p.type="ID";continue}if(h=u.match(zN),h){p.text=h[1],p.type="NUMBER",c+=p.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(u[0])} at position ${c}`)}return new En(e.map(u=>Object.freeze(u)))}function mb(r,e){let t=[];for(const i in e.keys())r.has(i)&&t.push(i);if(t.length>1)throw new Error(`conflicting types: ${t.join(", ")}`)}function $c(r,e){if(e.peekKeyword(Dv)){const t=e.pop().text;if(t!==r)throw new Error(`expected ${r}, got ${t}`)}return e.popType("ID")}function vs(r,e){const t=new Set;for(;;){const i=r.peekType("KEYWORD");if(i==null||e&&!e.has(i))break;if(r.pop(),t.has(i))throw new Error(`duplicate keywords: ${JSON.stringify(i)}`);t.add(i)}return Object.freeze(t)}function Pv(r){let e=vs(r,UN);return mb(e,zt("constant payable nonpayable".split(" "))),mb(e,zt("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function ys(r,e){return r.popParams().map(t=>Qe.from(t,e))}function Iv(r){if(r.peekType("AT")){if(r.pop(),r.peekType("NUMBER"))return W(r.pop().text);throw new Error("invalid gas")}return null}function Fi(r){if(r.length)throw new Error(`unexpected tokens at offset ${r.offset}: ${r.toString()}`)}const GN=new RegExp(/^(.*)\[([0-9]*)\]$/);function yb(r){const e=r.match(Lv);if(k(e,"invalid type","type",r),r==="uint")return"uint256";if(r==="int")return"int256";if(e[2]){const t=parseInt(e[2]);k(t!==0&&t<=32,"invalid bytes length","type",r)}else if(e[3]){const t=parseInt(e[3]);k(t!==0&&t<=256&&t%8===0,"invalid numeric width","type",r)}return r}const Ze={},Yt=Symbol.for("_ethers_internal"),bb="_ParamTypeInternal",wb="_ErrorInternal",vb="_EventInternal",Ab="_ConstructorInternal",Eb="_FallbackInternal",xb="_FunctionInternal",Sb="_StructInternal";class Qe{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,i,o,c,u,h,p){if(Gc(e,Ze,"ParamType"),Object.defineProperty(this,Yt,{value:bb}),u&&(u=Object.freeze(u.slice())),o==="array"){if(h==null||p==null)throw new Error("")}else if(h!=null||p!=null)throw new Error("");if(o==="tuple"){if(u==null)throw new Error("")}else if(u!=null)throw new Error("");ae(this,{name:t,type:i,baseType:o,indexed:c,components:u,arrayLength:h,arrayChildren:p})}format(e){if(e==null&&(e="sighash"),e==="json"){const i=this.name||"";if(this.isArray()){const c=JSON.parse(this.arrayChildren.format("json"));return c.name=i,c.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(c)}const o={type:this.baseType==="tuple"?"tuple":this.type,name:i};return typeof this.indexed=="boolean"&&(o.indexed=this.indexed),this.isTuple()&&(o.components=this.components.map(c=>JSON.parse(c.format(e)))),JSON.stringify(o)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map(i=>i.format(e)).join(e==="full"?", ":",")+")":t+=this.type,e!=="sighash"&&(this.indexed===!0&&(t+=" indexed"),e==="full"&&this.name&&(t+=" "+this.name)),t}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const i=this;return e.map(o=>i.arrayChildren.walk(o,t))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const i=this;return e.map((o,c)=>i.components[c].walk(o,t))}return t(this.type,e)}#e(e,t,i,o){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const u=this.arrayChildren,h=t.slice();h.forEach((p,g)=>{u.#e(e,p,i,m=>{h[g]=m})}),o(h);return}if(this.isTuple()){const u=this.components;let h;if(Array.isArray(t))h=t.slice();else{if(t==null||typeof t!="object")throw new Error("invalid tuple value");h=u.map(p=>{if(!p.name)throw new Error("cannot use object value with unnamed components");if(!(p.name in t))throw new Error(`missing value for component ${p.name}`);return t[p.name]})}if(h.length!==this.components.length)throw new Error("array is wrong length");h.forEach((p,g)=>{u[g].#e(e,p,i,m=>{h[g]=m})}),o(h);return}const c=i(this.type,t);c.then?e.push(async function(){o(await c)}()):o(c)}async walkAsync(e,t){const i=[],o=[e];return this.#e(i,e,t,c=>{o[0]=c}),i.length&&await Promise.all(i),o[0]}static from(e,t){if(Qe.isParamType(e))return e;if(typeof e=="string")try{return Qe.from(li(e),t)}catch{k(!1,"invalid param type","obj",e)}else if(e instanceof En){let h="",p="",g=null;vs(e,zt(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(p="tuple",g=e.popParams().map(S=>Qe.from(S)),h=`tuple(${g.map(S=>S.format()).join(",")})`):(h=yb(e.popType("TYPE")),p=h);let m=null,y=null;for(;e.length&&e.peekType("BRACKET");){const S=e.pop();m=new Qe(Ze,"",h,p,null,g,y,m),y=S.value,h+=S.text,p="array",g=null}let w=null;if(vs(e,DN).has("indexed")){if(!t)throw new Error("");w=!0}const T=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Qe(Ze,T,h,p,w,g,y,m)}const i=e.name;k(!i||typeof i=="string"&&i.match(jv),"invalid name","obj.name",i);let o=e.indexed;o!=null&&(k(t,"parameter cannot be indexed","obj.indexed",e.indexed),o=!!o);let c=e.type,u=c.match(GN);if(u){const h=parseInt(u[2]||"-1"),p=Qe.from({type:u[1],components:e.components});return new Qe(Ze,i||"",c,"array",o,null,h,p)}if(c==="tuple"||c.startsWith("tuple(")||c.startsWith("(")){const h=e.components!=null?e.components.map(g=>Qe.from(g)):null;return new Qe(Ze,i||"",c,"tuple",o,h,null,null)}return c=yb(e.type),new Qe(Ze,i||"",c,c,o,null,null,null)}static isParamType(e){return e&&e[Yt]===bb}}class qi{type;inputs;constructor(e,t,i){Gc(e,Ze,"Fragment"),i=Object.freeze(i.slice()),ae(this,{type:t,inputs:i})}static from(e){if(typeof e=="string"){try{qi.from(JSON.parse(e))}catch{}return qi.from(li(e))}if(e instanceof En)switch(e.peekKeyword(Dv)){case"constructor":return gs.from(e);case"error":return Jt.from(e);case"event":return Fn.from(e);case"fallback":case"receive":return fs.from(e);case"function":return qn.from(e);case"struct":return Hi.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return gs.from(e);case"error":return Jt.from(e);case"event":return Fn.from(e);case"fallback":case"receive":return fs.from(e);case"function":return qn.from(e);case"struct":return Hi.from(e)}Q(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}k(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return gs.isFragment(e)}static isError(e){return Jt.isFragment(e)}static isEvent(e){return Fn.isFragment(e)}static isFunction(e){return qn.isFragment(e)}static isStruct(e){return Hi.isFragment(e)}}class Wc extends qi{name;constructor(e,t,i,o){super(e,t,o),k(typeof i=="string"&&i.match(jv),"invalid identifier","name",i),o=Object.freeze(o.slice()),ae(this,{name:i})}}function Uo(r,e){return"("+e.map(t=>t.format(r)).join(r==="full"?", ":",")+")"}class Jt extends Wc{constructor(e,t,i){super(e,"error",t,i),Object.defineProperty(this,Yt,{value:wb})}get selector(){return Gi(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(e)))});const t=[];return e!=="sighash"&&t.push("error"),t.push(this.name+Uo(e,this.inputs)),t.join(" ")}static from(e){if(Jt.isFragment(e))return e;if(typeof e=="string")return Jt.from(li(e));if(e instanceof En){const t=$c("error",e),i=ys(e);return Fi(e),new Jt(Ze,t,i)}return new Jt(Ze,e.name,e.inputs?e.inputs.map(Qe.from):[])}static isFragment(e){return e&&e[Yt]===wb}}class Fn extends Wc{anonymous;constructor(e,t,i,o){super(e,"event",t,i),Object.defineProperty(this,Yt,{value:vb}),ae(this,{anonymous:o})}get topicHash(){return Gi(this.format("sighash"))}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(e)))});const t=[];return e!=="sighash"&&t.push("event"),t.push(this.name+Uo(e,this.inputs)),e!=="sighash"&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){return t=(t||[]).map(o=>Qe.from(o)),new Fn(Ze,e,t,!1).topicHash}static from(e){if(Fn.isFragment(e))return e;if(typeof e=="string")try{return Fn.from(li(e))}catch{k(!1,"invalid event fragment","obj",e)}else if(e instanceof En){const t=$c("event",e),i=ys(e,!0),o=!!vs(e,zt(["anonymous"])).has("anonymous");return Fi(e),new Fn(Ze,t,i,o)}return new Fn(Ze,e.name,e.inputs?e.inputs.map(t=>Qe.from(t,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[Yt]===vb}}class gs extends qi{payable;gas;constructor(e,t,i,o,c){super(e,t,i),Object.defineProperty(this,Yt,{value:Ab}),ae(this,{payable:o,gas:c})}format(e){if(Q(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(e)))});const t=[`constructor${Uo(e,this.inputs)}`];return this.payable&&t.push("payable"),this.gas!=null&&t.push(`@${this.gas.toString()}`),t.join(" ")}static from(e){if(gs.isFragment(e))return e;if(typeof e=="string")try{return gs.from(li(e))}catch{k(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof En){vs(e,zt(["constructor"]));const t=ys(e),i=!!vs(e,BN).has("payable"),o=Iv(e);return Fi(e),new gs(Ze,"constructor",t,i,o)}return new gs(Ze,"constructor",e.inputs?e.inputs.map(Qe.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Yt]===Ab}}class fs extends qi{payable;constructor(e,t,i){super(e,"fallback",t),Object.defineProperty(this,Yt,{value:Eb}),ae(this,{payable:i})}format(e){const t=this.inputs.length===0?"receive":"fallback";if(e==="json"){const i=this.payable?"payable":"nonpayable";return JSON.stringify({type:t,stateMutability:i})}return`${t}()${this.payable?" payable":""}`}static from(e){if(fs.isFragment(e))return e;if(typeof e=="string")try{return fs.from(li(e))}catch{k(!1,"invalid fallback fragment","obj",e)}else if(e instanceof En){const t=e.toString(),i=e.peekKeyword(zt(["fallback","receive"]));if(k(i,"type must be fallback or receive","obj",t),e.popKeyword(zt(["fallback","receive"]))==="receive"){const h=ys(e);return k(h.length===0,"receive cannot have arguments","obj.inputs",h),vs(e,zt(["payable"])),Fi(e),new fs(Ze,[],!0)}let c=ys(e);c.length?k(c.length===1&&c[0].type==="bytes","invalid fallback inputs","obj.inputs",c.map(h=>h.format("minimal")).join(", ")):c=[Qe.from("bytes")];const u=Pv(e);if(k(u==="nonpayable"||u==="payable","fallback cannot be constants","obj.stateMutability",u),vs(e,zt(["returns"])).has("returns")){const h=ys(e);k(h.length===1&&h[0].type==="bytes","invalid fallback outputs","obj.outputs",h.map(p=>p.format("minimal")).join(", "))}return Fi(e),new fs(Ze,c,u==="payable")}if(e.type==="receive")return new fs(Ze,[],!0);if(e.type==="fallback"){const t=[Qe.from("bytes")],i=e.stateMutability==="payable";return new fs(Ze,t,i)}k(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[Yt]===Eb}}class qn extends Wc{constant;outputs;stateMutability;payable;gas;constructor(e,t,i,o,c,u){super(e,"function",t,o),Object.defineProperty(this,Yt,{value:xb}),c=Object.freeze(c.slice()),ae(this,{constant:i==="view"||i==="pure",gas:u,outputs:c,payable:i==="payable",stateMutability:i})}get selector(){return Gi(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(e))),outputs:this.outputs.map(i=>JSON.parse(i.format(e)))});const t=[];return e!=="sighash"&&t.push("function"),t.push(this.name+Uo(e,this.inputs)),e!=="sighash"&&(this.stateMutability!=="nonpayable"&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(Uo(e,this.outputs))),this.gas!=null&&t.push(`@${this.gas.toString()}`)),t.join(" ")}static getSelector(e,t){return t=(t||[]).map(o=>Qe.from(o)),new qn(Ze,e,"view",t,[],null).selector}static from(e){if(qn.isFragment(e))return e;if(typeof e=="string")try{return qn.from(li(e))}catch{k(!1,"invalid function fragment","obj",e)}else if(e instanceof En){const i=$c("function",e),o=ys(e),c=Pv(e);let u=[];vs(e,zt(["returns"])).has("returns")&&(u=ys(e));const h=Iv(e);return Fi(e),new qn(Ze,i,c,o,u,h)}let t=e.stateMutability;return t==null&&(t="payable",typeof e.constant=="boolean"?(t="view",e.constant||(t="payable",typeof e.payable=="boolean"&&!e.payable&&(t="nonpayable"))):typeof e.payable=="boolean"&&!e.payable&&(t="nonpayable")),new qn(Ze,e.name,t,e.inputs?e.inputs.map(Qe.from):[],e.outputs?e.outputs.map(Qe.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Yt]===xb}}class Hi extends Wc{constructor(e,t,i){super(e,"struct",t,i),Object.defineProperty(this,Yt,{value:Sb})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Hi.from(li(e))}catch{k(!1,"invalid struct fragment","obj",e)}else if(e instanceof En){const t=$c("struct",e),i=ys(e);return Fi(e),new Hi(Ze,t,i)}return new Hi(Ze,e.name,e.inputs?e.inputs.map(Qe.from):[])}static isFragment(e){return e&&e[Yt]===Sb}}const Un=new Map;Un.set(0,"GENERIC_PANIC");Un.set(1,"ASSERT_FALSE");Un.set(17,"OVERFLOW");Un.set(18,"DIVIDE_BY_ZERO");Un.set(33,"ENUM_RANGE_ERROR");Un.set(34,"BAD_STORAGE_DATA");Un.set(49,"STACK_UNDERFLOW");Un.set(50,"ARRAY_RANGE_ERROR");Un.set(65,"OUT_OF_MEMORY");Un.set(81,"UNINITIALIZED_FUNCTION_CALL");const FN=new RegExp(/^bytes([0-9]*)$/),qN=new RegExp(/^(u?int)([0-9]*)$/);let Ih=null,Tb=1024;function QN(r,e,t,i){let o="missing revert data",c=null;const u=null;let h=null;if(t){o="execution reverted";const g=ve(t);if(t=Y(t),g.length===0)o+=" (no data present; likely require(false) occurred",c="require(false)";else if(g.length%32!==4)o+=" (could not decode reason; invalid data length)";else if(Y(g.slice(0,4))==="0x08c379a0")try{c=i.decode(["string"],g.slice(4))[0],h={signature:"Error(string)",name:"Error",args:[c]},o+=`: ${JSON.stringify(c)}`}catch{o+=" (could not decode reason; invalid string data)"}else if(Y(g.slice(0,4))==="0x4e487b71")try{const m=Number(i.decode(["uint256"],g.slice(4))[0]);h={signature:"Panic(uint256)",name:"Panic",args:[m]},c=`Panic due to ${Un.get(m)||"UNKNOWN"}(${m})`,o+=`: ${c}`}catch{o+=" (could not decode panic code)"}else o+=" (unknown custom error)"}const p={to:e.to?Ue(e.to):null,data:e.data||"0x"};return e.from&&(p.from=Ue(e.from)),Ye(o,"CALL_EXCEPTION",{action:r,data:t,reason:c,transaction:p,invocation:u,revert:h})}class la{#e(e){if(e.isArray())return new c_(this.#e(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new yc(e.components.map(i=>this.#e(i)),e.name);switch(e.baseType){case"address":return new o_(e.name);case"bool":return new u_(e.name);case"string":return new w_(e.name);case"bytes":return new f_(e.name);case"":return new p_(e.name)}let t=e.type.match(qN);if(t){let i=parseInt(t[2]||"256");return k(i!==0&&i<=256&&i%8===0,"invalid "+t[1]+" bit length","param",e),new b_(i/8,t[1]==="int",e.name)}if(t=e.type.match(FN),t){let i=parseInt(t[1]);return k(i!==0&&i<=32,"invalid bytes length","param",e),new h_(i,e.name)}k(!1,"invalid type","type",e.type)}getDefaultValue(e){const t=e.map(o=>this.#e(Qe.from(o)));return new yc(t,"_").defaultValue()}encode(e,t){gw(t.length,e.length,"types/values length mismatch");const i=e.map(u=>this.#e(Qe.from(u))),o=new yc(i,"_"),c=new od;return o.encode(c,t),c.data}decode(e,t,i){const o=e.map(u=>this.#e(Qe.from(u)));return new yc(o,"_").decode(new zd(t,i,Tb))}static _setDefaultMaxInflation(e){k(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),Tb=e}static defaultAbiCoder(){return Ih==null&&(Ih=new la),Ih}static getBuiltinCallException(e,t,i){return QN(e,t,i,la.defaultAbiCoder())}}class VN{fragment;name;signature;topic;args;constructor(e,t,i){const o=e.name,c=e.format();ae(this,{fragment:e,name:o,signature:c,topic:t,args:i})}}class KN{fragment;name;args;signature;selector;value;constructor(e,t,i,o){const c=e.name,u=e.format();ae(this,{fragment:e,name:c,args:i,signature:u,selector:t,value:o})}}class JN{fragment;name;args;signature;selector;constructor(e,t,i){const o=e.name,c=e.format();ae(this,{fragment:e,name:o,args:i,signature:c,selector:t})}}class _b{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){ae(this,{hash:e,_isIndexed:!0})}}const Nb={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Ob={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:r=>`reverted with reason string ${JSON.stringify(r)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:r=>{let e="unknown panic code";return r>=0&&r<=255&&Nb[r.toString()]&&(e=Nb[r.toString()]),`reverted with panic code 0x${r.toString(16)} (${e})`}}};class ji{fragments;deploy;fallback;receive;#e;#t;#n;#s;constructor(e){let t=[];typeof e=="string"?t=JSON.parse(e):t=e,this.#n=new Map,this.#e=new Map,this.#t=new Map;const i=[];for(const u of t)try{i.push(qi.from(u))}catch(h){console.log(`[Warning] Invalid Fragment ${JSON.stringify(u)}:`,h.message)}ae(this,{fragments:Object.freeze(i)});let o=null,c=!1;this.#s=this.getAbiCoder(),this.fragments.forEach((u,h)=>{let p;switch(u.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}ae(this,{deploy:u});return;case"fallback":u.inputs.length===0?c=!0:(k(!o||u.payable!==o.payable,"conflicting fallback fragments",`fragments[${h}]`,u),o=u,c=o.payable);return;case"function":p=this.#n;break;case"event":p=this.#t;break;case"error":p=this.#e;break;default:return}const g=u.format();p.has(g)||p.set(g,u)}),this.deploy||ae(this,{deploy:gs.from("constructor()")}),ae(this,{fallback:o,receive:c})}format(e){const t=e?"minimal":"full";return this.fragments.map(o=>o.format(t))}formatJson(){const e=this.fragments.map(t=>t.format("json"));return JSON.stringify(e.map(t=>JSON.parse(t)))}getAbiCoder(){return la.defaultAbiCoder()}#i(e,t,i){if(Ve(e)){const c=e.toLowerCase();for(const u of this.#n.values())if(c===u.selector)return u;return null}if(e.indexOf("(")===-1){const c=[];for(const[u,h]of this.#n)u.split("(")[0]===e&&c.push(h);if(t){const u=t.length>0?t[t.length-1]:null;let h=t.length,p=!0;nt.isTyped(u)&&u.type==="overrides"&&(p=!1,h--);for(let g=c.length-1;g>=0;g--){const m=c[g].inputs.length;m!==h&&(!p||m!==h-1)&&c.splice(g,1)}for(let g=c.length-1;g>=0;g--){const m=c[g].inputs;for(let y=0;y<t.length;y++)if(nt.isTyped(t[y])){if(y>=m.length){if(t[y].type==="overrides")continue;c.splice(g,1);break}if(t[y].type!==m[y].baseType){c.splice(g,1);break}}}}if(c.length===1&&t&&t.length!==c[0].inputs.length){const u=t[t.length-1];(u==null||Array.isArray(u)||typeof u!="object")&&c.splice(0,1)}if(c.length===0)return null;if(c.length>1&&i){const u=c.map(h=>JSON.stringify(h.format())).join(", ");k(!1,`ambiguous function description (i.e. matches ${u})`,"key",e)}return c[0]}const o=this.#n.get(qn.from(e).format());return o||null}getFunctionName(e){const t=this.#i(e,null,!1);return k(t,"no matching function","key",e),t.name}hasFunction(e){return!!this.#i(e,null,!1)}getFunction(e,t){return this.#i(e,t||null,!0)}forEachFunction(e){const t=Array.from(this.#n.keys());t.sort((i,o)=>i.localeCompare(o));for(let i=0;i<t.length;i++){const o=t[i];e(this.#n.get(o),i)}}#a(e,t,i){if(Ve(e)){const c=e.toLowerCase();for(const u of this.#t.values())if(c===u.topicHash)return u;return null}if(e.indexOf("(")===-1){const c=[];for(const[u,h]of this.#t)u.split("(")[0]===e&&c.push(h);if(t){for(let u=c.length-1;u>=0;u--)c[u].inputs.length<t.length&&c.splice(u,1);for(let u=c.length-1;u>=0;u--){const h=c[u].inputs;for(let p=0;p<t.length;p++)if(nt.isTyped(t[p])&&t[p].type!==h[p].baseType){c.splice(u,1);break}}}if(c.length===0)return null;if(c.length>1&&i){const u=c.map(h=>JSON.stringify(h.format())).join(", ");k(!1,`ambiguous event description (i.e. matches ${u})`,"key",e)}return c[0]}const o=this.#t.get(Fn.from(e).format());return o||null}getEventName(e){const t=this.#a(e,null,!1);return k(t,"no matching event","key",e),t.name}hasEvent(e){return!!this.#a(e,null,!1)}getEvent(e,t){return this.#a(e,t||null,!0)}forEachEvent(e){const t=Array.from(this.#t.keys());t.sort((i,o)=>i.localeCompare(o));for(let i=0;i<t.length;i++){const o=t[i];e(this.#t.get(o),i)}}getError(e,t){if(Ve(e)){const o=e.toLowerCase();if(Ob[o])return Jt.from(Ob[o].signature);for(const c of this.#e.values())if(o===c.selector)return c;return null}if(e.indexOf("(")===-1){const o=[];for(const[c,u]of this.#e)c.split("(")[0]===e&&o.push(u);if(o.length===0)return e==="Error"?Jt.from("error Error(string)"):e==="Panic"?Jt.from("error Panic(uint256)"):null;if(o.length>1){const c=o.map(u=>JSON.stringify(u.format())).join(", ");k(!1,`ambiguous error description (i.e. ${c})`,"name",e)}return o[0]}if(e=Jt.from(e).format(),e==="Error(string)")return Jt.from("error Error(string)");if(e==="Panic(uint256)")return Jt.from("error Panic(uint256)");const i=this.#e.get(e);return i||null}forEachError(e){const t=Array.from(this.#e.keys());t.sort((i,o)=>i.localeCompare(o));for(let i=0;i<t.length;i++){const o=t[i];e(this.#e.get(o),i)}}_decodeParams(e,t){return this.#s.decode(e,t)}_encodeParams(e,t){return this.#s.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if(typeof e=="string"){const i=this.getError(e);k(i,"unknown error","fragment",e),e=i}return k(et(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,et(t,4))}encodeErrorResult(e,t){if(typeof e=="string"){const i=this.getError(e);k(i,"unknown error","fragment",e),e=i}return st([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if(typeof e=="string"){const i=this.getFunction(e);k(i,"unknown function","fragment",e),e=i}return k(et(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,et(t,4))}encodeFunctionData(e,t){if(typeof e=="string"){const i=this.getFunction(e);k(i,"unknown function","fragment",e),e=i}return st([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if(typeof e=="string"){const c=this.getFunction(e);k(c,"unknown function","fragment",e),e=c}let i="invalid length for result data";const o=Lt(t);if(o.length%32===0)try{return this.#s.decode(e.outputs,o)}catch{i="could not decode result data"}Q(!1,i,"BAD_DATA",{value:Y(o),info:{method:e.name,signature:e.format()}})}makeError(e,t){const i=ve(e,"data"),o=la.getBuiltinCallException("call",t,i);if(o.message.startsWith("execution reverted (unknown custom error)")){const h=Y(i.slice(0,4)),p=this.getError(h);if(p)try{const g=this.#s.decode(p.inputs,i.slice(4));o.revert={name:p.name,signature:p.format(),args:g},o.reason=o.revert.signature,o.message=`execution reverted: ${o.reason}`}catch{o.message="execution reverted (coult not decode custom error)"}}const u=this.parseTransaction(t);return u&&(o.invocation={method:u.name,signature:u.signature,args:u.args}),o}encodeFunctionResult(e,t){if(typeof e=="string"){const i=this.getFunction(e);k(i,"unknown function","fragment",e),e=i}return Y(this.#s.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if(typeof e=="string"){const c=this.getEvent(e);k(c,"unknown event","eventFragment",e),e=c}Q(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const i=[];e.anonymous||i.push(e.topicHash);const o=(c,u)=>c.type==="string"?Gi(u):c.type==="bytes"?ut(Y(u)):(c.type==="bool"&&typeof u=="boolean"?u=u?"0x01":"0x00":c.type.match(/^u?int/)?u=ri(u):c.type.match(/^bytes/)?u=pT(u,32):c.type==="address"&&this.#s.encode(["address"],[u]),bs(Y(u),32));for(t.forEach((c,u)=>{const h=e.inputs[u];if(!h.indexed){k(c==null,"cannot filter non-indexed parameters; must be null","contract."+h.name,c);return}c==null?i.push(null):h.baseType==="array"||h.baseType==="tuple"?k(!1,"filtering with tuples or arrays not supported","contract."+h.name,c):Array.isArray(c)?i.push(c.map(p=>o(h,p))):i.push(o(h,c))});i.length&&i[i.length-1]===null;)i.pop();return i}encodeEventLog(e,t){if(typeof e=="string"){const u=this.getEvent(e);k(u,"unknown event","eventFragment",e),e=u}const i=[],o=[],c=[];return e.anonymous||i.push(e.topicHash),k(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((u,h)=>{const p=t[h];if(u.indexed)if(u.type==="string")i.push(Gi(p));else if(u.type==="bytes")i.push(ut(p));else{if(u.baseType==="tuple"||u.baseType==="array")throw new Error("not implemented");i.push(this.#s.encode([u.type],[p]))}else o.push(u),c.push(p)}),{data:this.#s.encode(o,c),topics:i}}decodeEventLog(e,t,i){if(typeof e=="string"){const x=this.getEvent(e);k(x,"unknown event","eventFragment",e),e=x}if(i!=null&&!e.anonymous){const x=e.topicHash;k(Ve(i[0],32)&&i[0].toLowerCase()===x,"fragment/topic mismatch","topics[0]",i[0]),i=i.slice(1)}const o=[],c=[],u=[];e.inputs.forEach((x,T)=>{x.indexed?x.type==="string"||x.type==="bytes"||x.baseType==="tuple"||x.baseType==="array"?(o.push(Qe.from({type:"bytes32",name:x.name})),u.push(!0)):(o.push(x),u.push(!1)):(c.push(x),u.push(!1))});const h=i!=null?this.#s.decode(o,st(i)):null,p=this.#s.decode(c,t,!0),g=[],m=[];let y=0,w=0;return e.inputs.forEach((x,T)=>{let S=null;if(x.indexed)if(h==null)S=new _b(null);else if(u[T])S=new _b(h[w++]);else try{S=h[w++]}catch(_){S=_}else try{S=p[y++]}catch(_){S=_}g.push(S),m.push(x.name||null)}),ps.fromItems(g,m)}parseTransaction(e){const t=ve(e.data,"tx.data"),i=W(e.value!=null?e.value:0,"tx.value"),o=this.getFunction(Y(t.slice(0,4)));if(!o)return null;const c=this.#s.decode(o.inputs,t.slice(4));return new KN(o,o.selector,c,i)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new VN(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=Y(e),i=this.getError(et(t,0,4));if(!i)return null;const o=this.#s.decode(i.inputs,et(t,4));return new JN(i,i.selector,o)}static from(e){return e instanceof ji?e:typeof e=="string"?new ji(JSON.parse(e)):typeof e.formatJson=="function"?new ji(e.formatJson()):typeof e.format=="function"?new ji(e.format("json")):new ji(e)}}const zv=BigInt(0);function Wr(r){return r??null}function at(r){return r==null?null:r.toString()}class kb{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,t,i){ae(this,{gasPrice:Wr(e),maxFeePerGas:Wr(t),maxPriorityFeePerGas:Wr(i)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:i}=this;return{_type:"FeeData",gasPrice:at(e),maxFeePerGas:at(t),maxPriorityFeePerGas:at(i)}}}function Ic(r){const e={};r.to&&(e.to=r.to),r.from&&(e.from=r.from),r.data&&(e.data=Y(r.data));const t="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const o of t)!(o in r)||r[o]==null||(e[o]=W(r[o],`request.${o}`));const i="type,nonce".split(/,/);for(const o of i)!(o in r)||r[o]==null||(e[o]=Ae(r[o],`request.${o}`));return r.accessList&&(e.accessList=Ki(r.accessList)),r.authorizationList&&(e.authorizationList=r.authorizationList.slice()),"blockTag"in r&&(e.blockTag=r.blockTag),"enableCcipRead"in r&&(e.enableCcipRead=!!r.enableCcipRead),"customData"in r&&(e.customData=r.customData),"blobVersionedHashes"in r&&r.blobVersionedHashes&&(e.blobVersionedHashes=r.blobVersionedHashes.slice()),"kzg"in r&&(e.kzg=r.kzg),"blobs"in r&&r.blobs&&(e.blobs=r.blobs.map(o=>Pd(o)?Y(o):Object.assign({},o))),e}class YN{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#e;constructor(e,t){this.#e=e.transactions.map(i=>typeof i!="string"?new Ho(i,t):i),ae(this,{provider:t,hash:Wr(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Wr(e.prevRandao),extraData:e.extraData,baseFeePerGas:Wr(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#e.map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=this.#e.slice();return e.length===0?[]:(Q(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:i,gasLimit:o,gasUsed:c,hash:u,miner:h,prevRandao:p,nonce:g,number:m,parentHash:y,parentBeaconBlockRoot:w,stateRoot:x,receiptsRoot:T,timestamp:S,transactions:_}=this;return{_type:"Block",baseFeePerGas:at(e),difficulty:at(t),extraData:i,gasLimit:at(o),gasUsed:at(c),blobGasUsed:at(this.blobGasUsed),excessBlobGas:at(this.excessBlobGas),hash:u,miner:h,prevRandao:p,nonce:g,number:m,parentHash:y,timestamp:S,parentBeaconBlockRoot:w,stateRoot:x,receiptsRoot:T,transactions:_}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#e.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let t;if(typeof e=="number")t=this.#e[e];else{const i=e.toLowerCase();for(const o of this.#e)if(typeof o=="string"){if(o!==i)continue;t=o;break}else{if(o.hash!==i)continue;t=o;break}}if(t==null)throw new Error("no such tx");return typeof t=="string"?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if(typeof e=="number")return t[e];e=e.toLowerCase();for(const i of t)if(i.hash===e)return i;k(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return XN(this)}}class zo{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,t){this.provider=t;const i=Object.freeze(e.topics.slice());ae(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:i,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:i,data:o,index:c,removed:u,topics:h,transactionHash:p,transactionIndex:g}=this;return{_type:"log",address:e,blockHash:t,blockNumber:i,data:o,index:c,removed:u,topics:h,transactionHash:p,transactionIndex:g}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return Q(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return Q(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return Q(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return ZN(this)}}class Hv{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#e;constructor(e,t){this.#e=Object.freeze(e.logs.map(o=>new zo(o,t)));let i=zv;e.effectiveGasPrice!=null?i=e.effectiveGasPrice:e.gasPrice!=null&&(i=e.gasPrice),ae(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:i,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#e}toJSON(){const{to:e,from:t,contractAddress:i,hash:o,index:c,blockHash:u,blockNumber:h,logsBloom:p,logs:g,status:m,root:y}=this;return{_type:"TransactionReceipt",blockHash:u,blockNumber:h,contractAddress:i,cumulativeGasUsed:at(this.cumulativeGasUsed),from:t,gasPrice:at(this.gasPrice),blobGasUsed:at(this.blobGasUsed),blobGasPrice:at(this.blobGasPrice),gasUsed:at(this.gasUsed),hash:o,index:c,logs:g,logsBloom:p,root:y,status:m,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Fv(this)}reorderedEvent(e){return Q(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Gv(this,e)}}class Ho{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#e;constructor(e,t){this.provider=t,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,this.#e=-1}toJSON(){const{blockNumber:e,blockHash:t,index:i,hash:o,type:c,to:u,from:h,nonce:p,data:g,signature:m,accessList:y,blobVersionedHashes:w}=this;return{_type:"TransactionResponse",accessList:y,blockNumber:e,blockHash:t,blobVersionedHashes:w,chainId:at(this.chainId),data:g,from:h,gasLimit:at(this.gasLimit),gasPrice:at(this.gasPrice),hash:o,maxFeePerGas:at(this.maxFeePerGas),maxPriorityFeePerGas:at(this.maxPriorityFeePerGas),maxFeePerBlobGas:at(this.maxFeePerBlobGas),nonce:p,signature:m,to:u,index:i,type:c,value:at(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const i=await this.getTransaction();i&&(e=i.blockNumber)}if(e==null)return null;const t=this.provider.getBlock(e);if(t==null)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:t,blockNumber:i}=await jt({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return t==null||t.blockNumber==null?0:i-t.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const i=e??1,o=t??0;let c=this.#e,u=-1,h=c===-1;const p=async()=>{if(h)return null;const{blockNumber:w,nonce:x}=await jt({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(x<this.nonce){c=w;return}if(h)return null;const T=await this.getTransaction();if(!(T&&T.blockNumber!=null))for(u===-1&&(u=c-3,u<this.#e&&(u=this.#e));u<=w;){if(h)return null;const S=await this.provider.getBlock(u,!0);if(S==null)return;for(const _ of S)if(_===this.hash)return;for(let _=0;_<S.length;_++){const U=await S.getTransaction(_);if(U.from===this.from&&U.nonce===this.nonce){if(h)return null;const F=await this.provider.getTransactionReceipt(U.hash);if(F==null||w-F.blockNumber+1<i)return;let R="replaced";U.data===this.data&&U.to===this.to&&U.value===this.value?R="repriced":U.data==="0x"&&U.from===U.to&&U.value===zv&&(R="cancelled"),Q(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:R==="replaced"||R==="cancelled",reason:R,replacement:U.replaceableTransaction(c),hash:U.hash,receipt:F})}}u++}},g=w=>{if(w==null||w.status!==0)return w;Q(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:w.to,from:w.from,data:""},receipt:w})},m=await this.provider.getTransactionReceipt(this.hash);if(i===0)return g(m);if(m){if(i===1||await m.confirmations()>=i)return g(m)}else if(await p(),i===0)return null;return await new Promise((w,x)=>{const T=[],S=()=>{T.forEach(U=>U())};if(T.push(()=>{h=!0}),o>0){const U=setTimeout(()=>{S(),x(Ye("wait for transaction timeout","TIMEOUT"))},o);T.push(()=>{clearTimeout(U)})}const _=async U=>{if(await U.confirmations()>=i){S();try{w(g(U))}catch(F){x(F)}}};if(T.push(()=>{this.provider.off(this.hash,_)}),this.provider.on(this.hash,_),c>=0){const U=async()=>{try{await p()}catch(F){if(kt(F,"TRANSACTION_REPLACED")){S(),x(F);return}}h||this.provider.once("block",U)};T.push(()=>{this.provider.off("block",U)}),this.provider.once("block",U)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return Q(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Fv(this)}reorderedEvent(e){return Q(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Q(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Gv(this,e)}replaceableTransaction(e){k(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new Ho(this,this.provider);return t.#e=e,t}}function XN(r){return{orphan:"drop-block",hash:r.hash,number:r.number}}function Gv(r,e){return{orphan:"reorder-transaction",tx:r,other:e}}function Fv(r){return{orphan:"drop-transaction",tx:r}}function ZN(r){return{orphan:"drop-log",log:{transactionHash:r.transactionHash,blockHash:r.blockHash,blockNumber:r.blockNumber,address:r.address,data:r.data,topics:Object.freeze(r.topics.slice()),index:r.index}}}class Wd extends zo{interface;fragment;args;constructor(e,t,i){super(e,e.provider);const o=t.decodeEventLog(i,e.data,e.topics);ae(this,{args:o,fragment:i,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class qv extends zo{error;constructor(e,t){super(e,e.provider),ae(this,{error:t})}}class $N extends Hv{#e;constructor(e,t,i){super(i,t),this.#e=e}get logs(){return super.logs.map(e=>{const t=e.topics.length?this.#e.getEvent(e.topics[0]):null;if(t)try{return new Wd(e,this.#e,t)}catch(i){return new qv(e,i)}return e})}}class ep extends Ho{#e;constructor(e,t,i){super(i,t),this.#e=e}async wait(e,t){const i=await super.wait(e,t);return i==null?null:new $N(this.#e,this.provider,i)}}class Qv extends ww{log;constructor(e,t,i,o){super(e,t,i),ae(this,{log:o})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class WN extends Qv{constructor(e,t,i,o,c){super(e,t,i,new Wd(c,e.interface,o));const u=e.interface.decodeEventLog(o,this.log.data,this.log.topics);ae(this,{args:u,fragment:o})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Rb=BigInt(0);function Vv(r){return r&&typeof r.call=="function"}function Kv(r){return r&&typeof r.estimateGas=="function"}function eu(r){return r&&typeof r.resolveName=="function"}function Jv(r){return r&&typeof r.sendTransaction=="function"}function Yv(r){if(r!=null){if(eu(r))return r;if(r.provider)return r.provider}}class eO{#e;fragment;constructor(e,t,i){if(ae(this,{fragment:t}),t.inputs.length<i.length)throw new Error("too many arguments");const o=Qi(e.runner,"resolveName"),c=eu(o)?o:null;this.#e=async function(){const u=await Promise.all(t.inputs.map((h,p)=>i[p]==null?null:h.walkAsync(i[p],(m,y)=>m==="address"?Array.isArray(y)?Promise.all(y.map(w=>It(w,c))):It(y,c):y)));return e.interface.encodeFilterTopics(t,u)}()}getTopicFilter(){return this.#e}}function Qi(r,e){return r==null?null:typeof r[e]=="function"?r:r.provider&&typeof r.provider[e]=="function"?r.provider:null}function Ii(r){return r==null?null:r.provider||null}async function Xv(r,e){const t=nt.dereference(r,"overrides");k(typeof t=="object","invalid overrides parameter","overrides",r);const i=Ic(t);return k(i.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",i.to),k(i.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",i.data),i.from&&(i.from=i.from),i}async function tO(r,e,t){const i=Qi(r,"resolveName"),o=eu(i)?i:null;return await Promise.all(e.map((c,u)=>c.walkAsync(t[u],(h,p)=>(p=nt.dereference(p,h),h==="address"?It(p,o):p))))}function nO(r){const e=async function(u){const h=await Xv(u,["data"]);h.to=await r.getAddress(),h.from&&(h.from=await It(h.from,Yv(r.runner)));const p=r.interface,g=W(h.value||Rb,"overrides.value")===Rb,m=(h.data||"0x")==="0x";p.fallback&&!p.fallback.payable&&p.receive&&!m&&!g&&k(!1,"cannot send data to receive or send value to non-payable fallback","overrides",u),k(p.fallback||m,"cannot send data to receive-only contract","overrides.data",h.data);const y=p.receive||p.fallback&&p.fallback.payable;return k(y||g,"cannot send value to non-payable fallback","overrides.value",h.value),k(p.fallback||m,"cannot send data to receive-only contract","overrides.data",h.data),h},t=async function(u){const h=Qi(r.runner,"call");Q(Vv(h),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const p=await e(u);try{return await h.call(p)}catch(g){throw Ld(g)&&g.data?r.interface.makeError(g.data,p):g}},i=async function(u){const h=r.runner;Q(Jv(h),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const p=await h.sendTransaction(await e(u)),g=Ii(r.runner);return new ep(r.interface,g,p)},o=async function(u){const h=Qi(r.runner,"estimateGas");return Q(Kv(h),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await h.estimateGas(await e(u))},c=async u=>await i(u);return ae(c,{_contract:r,estimateGas:o,populateTransaction:e,send:i,staticCall:t}),c}function sO(r,e){const t=function(...g){const m=r.interface.getFunction(e,g);return Q(m,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:g}}),m},i=async function(...g){const m=t(...g);let y={};if(m.inputs.length+1===g.length&&(y=await Xv(g.pop()),y.from&&(y.from=await It(y.from,Yv(r.runner)))),m.inputs.length!==g.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const w=await tO(r.runner,m.inputs,g);return Object.assign({},y,await jt({to:r.getAddress(),data:r.interface.encodeFunctionData(m,w)}))},o=async function(...g){const m=await h(...g);return m.length===1?m[0]:m},c=async function(...g){const m=r.runner;Q(Jv(m),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const y=await m.sendTransaction(await i(...g)),w=Ii(r.runner);return new ep(r.interface,w,y)},u=async function(...g){const m=Qi(r.runner,"estimateGas");return Q(Kv(m),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await m.estimateGas(await i(...g))},h=async function(...g){const m=Qi(r.runner,"call");Q(Vv(m),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const y=await i(...g);let w="0x";try{w=await m.call(y)}catch(T){throw Ld(T)&&T.data?r.interface.makeError(T.data,y):T}const x=t(...g);return r.interface.decodeFunctionResult(x,w)},p=async(...g)=>t(...g).constant?await o(...g):await c(...g);return ae(p,{name:r.interface.getFunctionName(e),_contract:r,_key:e,getFragment:t,estimateGas:u,populateTransaction:i,send:c,staticCall:o,staticCallResult:h}),Object.defineProperty(p,"fragment",{configurable:!1,enumerable:!0,get:()=>{const g=r.interface.getFunction(e);return Q(g,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),g}}),p}function iO(r,e){const t=function(...o){const c=r.interface.getEvent(e,o);return Q(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:o}}),c},i=function(...o){return new eO(r,t(...o),o)};return ae(i,{name:r.interface.getEventName(e),_contract:r,_key:e,getFragment:t}),Object.defineProperty(i,"fragment",{configurable:!1,enumerable:!0,get:()=>{const o=r.interface.getEvent(e);return Q(o,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),o}}),i}const zc=Symbol.for("_ethersInternal_contract"),Zv=new WeakMap;function rO(r,e){Zv.set(r[zc],e)}function ln(r){return Zv.get(r[zc])}function aO(r){return r&&typeof r=="object"&&"getTopicFilter"in r&&typeof r.getTopicFilter=="function"&&r.fragment}async function tp(r,e){let t,i=null;if(Array.isArray(e)){const c=function(u){if(Ve(u,32))return u;const h=r.interface.getEvent(u);return k(h,"unknown fragment","name",u),h.topicHash};t=e.map(u=>u==null?null:Array.isArray(u)?u.map(c):c(u))}else e==="*"?t=[null]:typeof e=="string"?Ve(e,32)?t=[e]:(i=r.interface.getEvent(e),k(i,"unknown fragment","event",e),t=[i.topicHash]):aO(e)?t=await e.getTopicFilter():"fragment"in e?(i=e.fragment,t=[i.topicHash]):k(!1,"unknown event name","event",e);t=t.map(c=>{if(c==null)return null;if(Array.isArray(c)){const u=Array.from(new Set(c.map(h=>h.toLowerCase())).values());return u.length===1?u[0]:(u.sort(),u)}return c.toLowerCase()});const o=t.map(c=>c==null?"null":Array.isArray(c)?c.join("|"):c).join("&");return{fragment:i,tag:o,topics:t}}async function wo(r,e){const{subs:t}=ln(r);return t.get((await tp(r,e)).tag)||null}async function Cb(r,e,t){const i=Ii(r.runner);Q(i,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:o,tag:c,topics:u}=await tp(r,t),{addr:h,subs:p}=ln(r);let g=p.get(c);if(!g){const y={address:h||r,topics:u},w=_=>{let U=o;if(U==null)try{U=r.interface.getEvent(_.topics[0])}catch{}if(U){const F=U,R=o?r.interface.decodeEventLog(o,_.data,_.topics):[];vd(r,t,R,z=>new WN(r,z,t,F,_))}else vd(r,t,[],F=>new Qv(r,F,t,_))};let x=[];g={tag:c,listeners:[],start:()=>{x.length||x.push(i.on(y,w))},stop:async()=>{if(x.length==0)return;let _=x;x=[],await Promise.all(_),i.off(y,w)}},p.set(c,g)}return g}let wd=Promise.resolve();async function oO(r,e,t,i){await wd;const o=await wo(r,e);if(!o)return!1;const c=o.listeners.length;return o.listeners=o.listeners.filter(({listener:u,once:h})=>{const p=Array.from(t);i&&p.push(i(h?null:u));try{u.call(r,...p)}catch{}return!h}),o.listeners.length===0&&(o.stop(),ln(r).subs.delete(o.tag)),c>0}async function vd(r,e,t,i){try{await wd}catch{}const o=oO(r,e,t,i);return wd=o,await o}const wc=["then"];class To{target;interface;runner;filters;[zc];fallback;constructor(e,t,i,o){k(typeof e=="string"||sv(e),"invalid value for Contract target","target",e),i==null&&(i=null);const c=ji.from(t);ae(this,{target:e,runner:i,interface:c}),Object.defineProperty(this,zc,{value:{}});let u,h=null,p=null;if(o){const y=Ii(i);p=new ep(this.interface,y,o)}let g=new Map;if(typeof e=="string")if(Ve(e))h=e,u=Promise.resolve(e);else{const y=Qi(i,"resolveName");if(!eu(y))throw Ye("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});u=y.resolveName(e).then(w=>{if(w==null)throw Ye("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return ln(this).addr=w,w})}else u=e.getAddress().then(y=>{if(y==null)throw new Error("TODO");return ln(this).addr=y,y});rO(this,{addrPromise:u,addr:h,deployTx:p,subs:g});const m=new Proxy({},{get:(y,w,x)=>{if(typeof w=="symbol"||wc.indexOf(w)>=0)return Reflect.get(y,w,x);try{return this.getEvent(w)}catch(T){if(!kt(T,"INVALID_ARGUMENT")||T.argument!=="key")throw T}},has:(y,w)=>wc.indexOf(w)>=0?Reflect.has(y,w):Reflect.has(y,w)||this.interface.hasEvent(String(w))});return ae(this,{filters:m}),ae(this,{fallback:c.receive||c.fallback?nO(this):null}),new Proxy(this,{get:(y,w,x)=>{if(typeof w=="symbol"||w in y||wc.indexOf(w)>=0)return Reflect.get(y,w,x);try{return y.getFunction(w)}catch(T){if(!kt(T,"INVALID_ARGUMENT")||T.argument!=="key")throw T}},has:(y,w)=>typeof w=="symbol"||w in y||wc.indexOf(w)>=0?Reflect.has(y,w):y.interface.hasFunction(w)})}connect(e){return new To(this.target,this.interface,e)}attach(e){return new To(e,this.interface,this.runner)}async getAddress(){return await ln(this).addrPromise}async getDeployedCode(){const e=Ii(this.runner);Q(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return t==="0x"?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const i=Ii(this.runner);return Q(i!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((o,c)=>{const u=async()=>{try{if(await this.getDeployedCode()!=null)return o(this);i.once("block",u)}catch(h){c(h)}};u()})}deploymentTransaction(){return ln(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),sO(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),iO(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,i){t==null&&(t=0),i==null&&(i="latest");const{addr:o,addrPromise:c}=ln(this),u=o||await c,{fragment:h,topics:p}=await tp(this,e),g={address:u,topics:p,fromBlock:t,toBlock:i},m=Ii(this.runner);return Q(m,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await m.getLogs(g)).map(y=>{let w=h;if(w==null)try{w=this.interface.getEvent(y.topics[0])}catch{}if(w)try{return new Wd(y,this.interface,w)}catch(x){return new qv(y,x)}return new zo(y,m)})}async on(e,t){const i=await Cb(this,"on",e);return i.listeners.push({listener:t,once:!1}),i.start(),this}async once(e,t){const i=await Cb(this,"once",e);return i.listeners.push({listener:t,once:!0}),i.start(),this}async emit(e,...t){return await vd(this,e,t,null)}async listenerCount(e){if(e){const o=await wo(this,e);return o?o.listeners.length:0}const{subs:t}=ln(this);let i=0;for(const{listeners:o}of t.values())i+=o.length;return i}async listeners(e){if(e){const o=await wo(this,e);return o?o.listeners.map(({listener:c})=>c):[]}const{subs:t}=ln(this);let i=[];for(const{listeners:o}of t.values())i=i.concat(o.map(({listener:c})=>c));return i}async off(e,t){const i=await wo(this,e);if(!i)return this;if(t){const o=i.listeners.map(({listener:c})=>c).indexOf(t);o>=0&&i.listeners.splice(o,1)}return(t==null||i.listeners.length===0)&&(i.stop(),ln(this).subs.delete(i.tag)),this}async removeAllListeners(e){if(e){const t=await wo(this,e);if(!t)return this;t.stop(),ln(this).subs.delete(t.tag)}else{const{subs:t}=ln(this);for(const{tag:i,stop:o}of t.values())o(),t.delete(i)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){class t extends To{constructor(o,c=null){super(o,e,c)}}return t}static from(e,t,i){return i==null&&(i=null),new this(e,t,i)}}function lO(){return To}class si extends lO(){}function zh(r){return r.match(/^ipfs:\/\/ipfs\//i)?r=r.substring(12):r.match(/^ipfs:\/\//i)?r=r.substring(7):k(!1,"unsupported IPFS format","link",r),`https://gateway.ipfs.io/ipfs/${r}`}class cO{name;constructor(e){ae(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const $v=new RegExp("^(ipfs)://(.*)$","i"),Bb=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),$v,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class ea{provider;address;name;#e;#t;constructor(e,t,i){ae(this,{provider:e,address:t,name:i}),this.#e=null,this.#t=new si(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return this.#e==null&&(this.#e=(async()=>{try{return await this.#t.supportsInterface("0x9061b923")}catch(e){if(kt(e,"CALL_EXCEPTION"))return!1;throw this.#e=null,e}})()),await this.#e}async#n(e,t){t=(t||[]).slice();const i=this.#t.interface;t.unshift(bd(this.name));let o=null;await this.supportsWildcard()&&(o=i.getFunction(e),Q(o,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[SN(this.name,255),i.encodeFunctionData(o,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const c=await this.#t[e](...t);return o?i.decodeFunctionResult(o,c)[0]:c}catch(c){if(!kt(c,"CALL_EXCEPTION"))throw c}return null}async getAddress(e){if(e==null&&(e=60),e===60)try{const c=await this.#n("addr(bytes32)");return c==null||c===Oo?null:c}catch(c){if(kt(c,"CALL_EXCEPTION"))return null;throw c}if(e>=0&&e<2147483648){let c=e+2147483648;const u=await this.#n("addr(bytes32,uint)",[c]);if(Ve(u,20))return Ue(u)}let t=null;for(const c of this.provider.plugins)if(c instanceof cO&&c.supportsCoinType(e)){t=c;break}if(t==null)return null;const i=await this.#n("addr(bytes32,uint)",[e]);if(i==null||i==="0x")return null;const o=await t.decodeAddress(e,i);if(o!=null)return o;Q(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:i}})}async getText(e){const t=await this.#n("text(bytes32,string)",[e]);return t==null||t==="0x"?null:t}async getContentHash(){const e=await this.#n("contenthash(bytes32)");if(e==null||e==="0x")return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const o=t[1]==="e3010170"?"ipfs":"ipns",c=parseInt(t[4],16);if(t[5].length===c*2)return`${o}://${yT("0x"+t[2])}`}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===64)return`bzz://${i[1]}`;Q(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const t=await this.getText("avatar");if(t==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let i=0;i<Bb.length;i++){const o=t.match(Bb[i]);if(o==null)continue;const c=o[1].toLowerCase();switch(c){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{const u=zh(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:u}),{linkage:e,url:u}}case"erc721":case"erc1155":{const u=c==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:c,value:t});const h=await this.getAddress();if(h==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const p=(o[2]||"").split("/");if(p.length!==2)return e.push({type:`!${c}caip`,value:o[2]||""}),{url:null,linkage:e};const g=p[1],m=new si(p[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(c==="erc721"){const S=await m.ownerOf(g);if(h!==S)return e.push({type:"!owner",value:S}),{url:null,linkage:e};e.push({type:"owner",value:S})}else if(c==="erc1155"){const S=await m.balanceOf(h,g);if(!S)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:S.toString()})}let y=await m[u](g);if(y==null||y==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:y}),c==="erc1155"&&(y=y.replace("{id}",ri(g,32).substring(2)),e.push({type:"metadata-url-expanded",value:y})),y.match(/^ipfs:/i)&&(y=zh(y)),e.push({type:"metadata-url",value:y});let w={};const x=await new ws(y).send();x.assertOk();try{w=x.bodyJson}catch{try{e.push({type:"!metadata",value:x.bodyText})}catch{const U=x.body;return U&&e.push({type:"!metadata",value:Y(U)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!w)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(w)});let T=w.image;if(typeof T!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!T.match(/^(https:\/\/|data:)/i)){if(T.match($v)==null)return e.push({type:"!imageUrl-ipfs",value:T}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:T}),T=zh(T)}return e.push({type:"url",value:T}),{linkage:e,url:T}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),i=t.getPlugin("org.ethers.plugins.network.Ens");return Q(i,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),i.address}static async#s(e,t){const i=await ea.getEnsAddress(e);try{const c=await new si(i,["function resolver(bytes32) view returns (address)"],e).resolver(bd(t),{enableCcipRead:!0});return c===Oo?null:c}catch(o){throw o}return null}static async fromName(e,t){let i=t;for(;;){if(i===""||i==="."||t!=="eth"&&i==="eth")return null;const o=await ea.#s(e,i);if(o!=null){const c=new ea(e,o,t);return i!==t&&!await c.supportsWildcard()?null:c}i=i.split(".").slice(1).join(".")}}}const Ub=BigInt(0);function Te(r,e){return function(t){return t==null?e:r(t)}}function Do(r,e){return t=>{if(e&&t==null)return null;if(!Array.isArray(t))throw new Error("not an array");return t.map(i=>r(i))}}function Go(r,e){return t=>{const i={};for(const o in r){let c=o;if(e&&o in e&&!(c in t)){for(const u of e[o])if(u in t){c=u;break}}try{const u=r[o](t[c]);u!==void 0&&(i[o]=u)}catch(u){const h=u instanceof Error?u.message:"not-an-error";Q(!1,`invalid value for value.${o} (${h})`,"BAD_DATA",{value:t})}}return i}}function uO(r){switch(r){case!0:case"true":return!0;case!1:case"false":return!1}k(!1,`invalid boolean; ${JSON.stringify(r)}`,"value",r)}function ca(r){return k(Ve(r,!0),"invalid data","value",r),r}function Ot(r){return k(Ve(r,32),"invalid hash","value",r),r}const fO=Go({address:Ue,blockHash:Ot,blockNumber:Ae,data:ca,index:Ae,removed:Te(uO,!1),topics:Do(Ot),transactionHash:Ot,transactionIndex:Ae},{index:["logIndex"]});function hO(r){return fO(r)}const dO=Go({hash:Te(Ot),parentHash:Ot,parentBeaconBlockRoot:Te(Ot,null),number:Ae,timestamp:Ae,nonce:Te(ca),difficulty:W,gasLimit:W,gasUsed:W,stateRoot:Te(Ot,null),receiptsRoot:Te(Ot,null),blobGasUsed:Te(W,null),excessBlobGas:Te(W,null),miner:Te(Ue),prevRandao:Te(Ot,null),extraData:ca,baseFeePerGas:Te(W)},{prevRandao:["mixHash"]});function pO(r){const e=dO(r);return e.transactions=r.transactions.map(t=>typeof t=="string"?t:Wv(t)),e}const gO=Go({transactionIndex:Ae,blockNumber:Ae,transactionHash:Ot,address:Ue,topics:Do(Ot),data:ca,index:Ae,blockHash:Ot},{index:["logIndex"]});function mO(r){return gO(r)}const yO=Go({to:Te(Ue,null),from:Te(Ue,null),contractAddress:Te(Ue,null),index:Ae,root:Te(Y),gasUsed:W,blobGasUsed:Te(W,null),logsBloom:Te(ca),blockHash:Ot,hash:Ot,logs:Do(mO),blockNumber:Ae,cumulativeGasUsed:W,effectiveGasPrice:Te(W),blobGasPrice:Te(W,null),status:Te(Ae),type:Te(Ae,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function bO(r){return yO(r)}function Wv(r){r.to&&W(r.to)===Ub&&(r.to="0x0000000000000000000000000000000000000000");const e=Go({hash:Ot,index:Te(Ae,void 0),type:t=>t==="0x"||t==null?0:Ae(t),accessList:Te(Ki,null),blobVersionedHashes:Te(Do(Ot,!0),null),authorizationList:Te(Do(t=>{let i;if(t.signature)i=t.signature;else{let o=t.yParity;o==="0x1b"?o=0:o==="0x1c"&&(o=1),i=Object.assign({},t,{yParity:o})}return{address:Ue(t.address),chainId:W(t.chainId),nonce:W(t.nonce),signature:tt.from(i)}},!1),null),blockHash:Te(Ot,null),blockNumber:Te(Ae,null),transactionIndex:Te(Ae,null),from:Ue,gasPrice:Te(W),maxPriorityFeePerGas:Te(W),maxFeePerGas:Te(W),maxFeePerBlobGas:Te(W,null),gasLimit:W,to:Te(Ue,null),value:W,nonce:Ae,data:ca,creates:Te(Ue,null),chainId:Te(W,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(r);if(e.to==null&&e.creates==null&&(e.creates=a_(e)),(r.type===1||r.type===2)&&r.accessList==null&&(e.accessList=[]),r.signature?e.signature=tt.from(r.signature):e.signature=tt.from(r),e.chainId==null){const t=e.signature.legacyChainId;t!=null&&(e.chainId=t)}return e.blockHash&&W(e.blockHash)===Ub&&(e.blockHash=null),e}const wO="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class Fo{name;constructor(e){ae(this,{name:e})}clone(){return new Fo(this.name)}}class tu extends Fo{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,t){e==null&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const i={effectiveBlock:e};function o(c,u){let h=(t||{})[c];h==null&&(h=u),k(typeof h=="number",`invalud value for ${c}`,"costs",t),i[c]=h}o("txBase",21e3),o("txCreate",32e3),o("txDataZero",4),o("txDataNonzero",16),o("txAccessListStorageKey",1900),o("txAccessListAddress",2400),ae(this,i)}clone(){return new tu(this.effectiveBlock,this)}}class nu extends Fo{address;targetNetwork;constructor(e,t){super("org.ethers.plugins.network.Ens"),ae(this,{address:e||wO,targetNetwork:t??1})}clone(){return new nu(this.address,this.targetNetwork)}}class vO extends Fo{#e;#t;get url(){return this.#e}get processFunc(){return this.#t}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#e=e,this.#t=t}clone(){return this}}const Hh=new Map;class cn{#e;#t;#n;constructor(e,t){this.#e=e,this.#t=W(t),this.#n=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#e}set name(e){this.#e=e}get chainId(){return this.#t}set chainId(e){this.#t=W(e,"chainId")}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===W(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===W(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===W(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(this.#n.values())}attachPlugin(e){if(this.#n.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#n.set(e.name,e.clone()),this}getPlugin(e){return this.#n.get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){const e=new cn(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new tu;let i=t.txBase;if(e.to==null&&(i+=t.txCreate),e.data)for(let o=2;o<e.data.length;o+=2)e.data.substring(o,o+2)==="00"?i+=t.txDataZero:i+=t.txDataNonzero;if(e.accessList){const o=Ki(e.accessList);for(const c in o)i+=t.txAccessListAddress+t.txAccessListStorageKey*o[c].storageKeys.length}return i}static from(e){if(AO(),e==null)return cn.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const t=Hh.get(e);if(t)return t();if(typeof e=="bigint")return new cn("unknown",e);k(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){k(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const t=new cn(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&t.attachPlugin(new nu(e.ensAddress,e.ensNetwork)),t}k(!1,"invalid network","network",e)}static register(e,t){typeof e=="number"&&(e=BigInt(e));const i=Hh.get(e);i&&k(!1,`conflicting network for ${JSON.stringify(i.name)}`,"nameOrChainId",e),Hh.set(e,t)}}function Db(r,e){const t=String(r);if(!t.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${r}`);const i=t.split(".");if(i.length===1&&i.push(""),i.length!==2)throw new Error(`invalid gwei value: ${r}`);for(;i[1].length<e;)i[1]+="0";if(i[1].length>9){let o=BigInt(i[1].substring(0,9));i[1].substring(9).match(/^0+$/)||o++,i[1]=o.toString()}return BigInt(i[0]+i[1])}function Mb(r){return new vO(r,async(e,t,i)=>{i.setHeader("User-Agent","ethers");let o;try{const[c,u]=await Promise.all([i.send(),e()]);o=c;const h=o.bodyJson.standard;return{gasPrice:u.gasPrice,maxFeePerGas:Db(h.maxFee,9),maxPriorityFeePerGas:Db(h.maxPriorityFee,9)}}catch(c){Q(!1,`error encountered with polygon gas station (${JSON.stringify(i.url)})`,"SERVER_ERROR",{request:i,response:o,error:c})}})}let jb=!1;function AO(){if(jb)return;jb=!0;function r(e,t,i){const o=function(){const c=new cn(e,t);return i.ensNetwork!=null&&c.attachPlugin(new nu(null,i.ensNetwork)),c.attachPlugin(new tu),(i.plugins||[]).forEach(u=>{c.attachPlugin(u)}),c};cn.register(e,o),cn.register(t,o),i.altNames&&i.altNames.forEach(c=>{cn.register(c,o)})}r("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),r("ropsten",3,{ensNetwork:3}),r("rinkeby",4,{ensNetwork:4}),r("goerli",5,{ensNetwork:5}),r("kovan",42,{ensNetwork:42}),r("sepolia",11155111,{ensNetwork:11155111}),r("holesky",17e3,{ensNetwork:17e3}),r("classic",61,{}),r("classicKotti",6,{}),r("arbitrum",42161,{ensNetwork:1}),r("arbitrum-goerli",421613,{}),r("arbitrum-sepolia",421614,{}),r("base",8453,{ensNetwork:1}),r("base-goerli",84531,{}),r("base-sepolia",84532,{}),r("bnb",56,{ensNetwork:1}),r("bnbt",97,{}),r("linea",59144,{ensNetwork:1}),r("linea-goerli",59140,{}),r("linea-sepolia",59141,{}),r("matic",137,{ensNetwork:1,plugins:[Mb("https://gasstation.polygon.technology/v2")]}),r("matic-amoy",80002,{}),r("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Mb("https://gasstation-testnet.polygon.technology/v2")]}),r("optimism",10,{ensNetwork:1,plugins:[]}),r("optimism-goerli",420,{}),r("optimism-sepolia",11155420,{}),r("xdai",100,{ensNetwork:1})}function Ad(r){return JSON.parse(JSON.stringify(r))}class EO{#e;#t;#n;#s;constructor(e){this.#e=e,this.#t=null,this.#n=4e3,this.#s=-2}get pollingInterval(){return this.#n}set pollingInterval(e){this.#n=e}async#i(){try{const e=await this.#e.getBlockNumber();if(this.#s===-2){this.#s=e;return}if(e!==this.#s){for(let t=this.#s+1;t<=e;t++){if(this.#t==null)return;await this.#e.emit("block",t)}this.#s=e}}catch{}this.#t!=null&&(this.#t=this.#e._setTimeout(this.#i.bind(this),this.#n))}start(){this.#t||(this.#t=this.#e._setTimeout(this.#i.bind(this),this.#n),this.#i())}stop(){this.#t&&(this.#e._clearTimeout(this.#t),this.#t=null)}pause(e){this.stop(),e&&(this.#s=-2)}resume(){this.start()}}class np{#e;#t;#n;constructor(e){this.#e=e,this.#n=!1,this.#t=t=>{this._poll(t,this.#e)}}async _poll(e,t){throw new Error("sub-classes must override this")}start(){this.#n||(this.#n=!0,this.#t(-2),this.#e.on("block",this.#t))}stop(){this.#n&&(this.#n=!1,this.#e.off("block",this.#t))}pause(e){this.stop()}resume(){this.start()}}class xO extends np{#e;#t;constructor(e,t){super(e),this.#e=t,this.#t=-2}pause(e){e&&(this.#t=-2),super.pause(e)}async _poll(e,t){const i=await t.getBlock(this.#e);i!=null&&(this.#t===-2?this.#t=i.number:i.number>this.#t&&(t.emit(this.#e,i.number),this.#t=i.number))}}class SO extends np{#e;constructor(e,t){super(e),this.#e=Ad(t)}async _poll(e,t){throw new Error("@TODO")}}class TO extends np{#e;constructor(e,t){super(e),this.#e=t}async _poll(e,t){const i=await t.getTransactionReceipt(this.#e);i&&t.emit(this.#e,i)}}class sp{#e;#t;#n;#s;#i;constructor(e,t){this.#e=e,this.#t=Ad(t),this.#n=this.#a.bind(this),this.#s=!1,this.#i=-2}async#a(e){if(this.#i===-2)return;const t=Ad(this.#t);t.fromBlock=this.#i+1,t.toBlock=e;const i=await this.#e.getLogs(t);if(i.length===0){this.#i<e-60&&(this.#i=e-60);return}for(const o of i)this.#e.emit(this.#t,o),this.#i=o.blockNumber}start(){this.#s||(this.#s=!0,this.#i===-2&&this.#e.getBlockNumber().then(e=>{this.#i=e}),this.#e.on("block",this.#n))}stop(){this.#s&&(this.#s=!1,this.#e.off("block",this.#n))}pause(e){this.stop(),e&&(this.#i=-2)}resume(){this.start()}}const _O=BigInt(2),NO=10;function vc(r){return r&&typeof r.then=="function"}function Sc(r,e){return r+":"+JSON.stringify(e,(t,i)=>{if(i==null)return"null";if(typeof i=="bigint")return`bigint:${i.toString()}`;if(typeof i=="string")return i.toLowerCase();if(typeof i=="object"&&!Array.isArray(i)){const o=Object.keys(i);return o.sort(),o.reduce((c,u)=>(c[u]=i[u],c),{})}return i})}class eA{name;constructor(e){ae(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function OO(r){return JSON.parse(JSON.stringify(r))}function Ed(r){return r=Array.from(new Set(r).values()),r.sort(),r}async function Gh(r,e){if(r==null)throw new Error("invalid event");if(Array.isArray(r)&&(r={topics:r}),typeof r=="string")switch(r){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:r,tag:r}}if(Ve(r,32)){const t=r.toLowerCase();return{type:"transaction",tag:Sc("tx",{hash:t}),hash:t}}if(r.orphan){const t=r;return{type:"orphan",tag:Sc("orphan",t),filter:OO(t)}}if(r.address||r.topics){const t=r,i={topics:(t.topics||[]).map(o=>o==null?null:Array.isArray(o)?Ed(o.map(c=>c.toLowerCase())):o.toLowerCase())};if(t.address){const o=[],c=[],u=h=>{Ve(h)?o.push(h):c.push((async()=>{o.push(await It(h,e))})())};Array.isArray(t.address)?t.address.forEach(u):u(t.address),c.length&&await Promise.all(c),i.address=Ed(o.map(h=>h.toLowerCase()))}return{filter:i,tag:Sc("event",i),type:"event"}}k(!1,"unknown ProviderEvent","event",r)}function Fh(){return new Date().getTime()}const kO={cacheTimeout:250,pollingInterval:4e3};class RO{#e;#t;#n;#s;#i;#a;#r;#o;#d;#c;#p;#g;constructor(e,t){if(this.#g=Object.assign({},kO,t||{}),e==="any")this.#a=!0,this.#i=null;else if(e){const i=cn.from(e);this.#a=!1,this.#i=Promise.resolve(i),setTimeout(()=>{this.emit("network",i,null)},0)}else this.#a=!1,this.#i=null;this.#o=-1,this.#r=new Map,this.#e=new Map,this.#t=new Map,this.#n=null,this.#s=!1,this.#d=1,this.#c=new Map,this.#p=!1}get pollingInterval(){return this.#g.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#t.values())}attachPlugin(e){if(this.#t.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#t.set(e.name,e.connect(this)),this}getPlugin(e){return this.#t.get(e)||null}get disableCcipRead(){return this.#p}set disableCcipRead(e){this.#p=!!e}async#l(e){const t=this.#g.cacheTimeout;if(t<0)return await this._perform(e);const i=Sc(e.method,e);let o=this.#r.get(i);return o||(o=this._perform(e),this.#r.set(i,o),setTimeout(()=>{this.#r.get(i)===o&&this.#r.delete(i)},t)),await o}async ccipReadFetch(e,t,i){if(this.disableCcipRead||i.length===0||e.to==null)return null;const o=e.to.toLowerCase(),c=t.toLowerCase(),u=[];for(let h=0;h<i.length;h++){const p=i[h],g=p.replace("{sender}",o).replace("{data}",c),m=new ws(g);p.indexOf("{data}")===-1&&(m.body={data:c,sender:o}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:m,index:h,urls:i});let y="unknown error",w;try{w=await m.send()}catch(x){u.push(x.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:m,result:{error:x}});continue}try{const x=w.bodyJson;if(x.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:m,result:x}),x.data;x.message&&(y=x.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:m,result:x})}catch{}Q(w.statusCode<400||w.statusCode>=500,`response not found during CCIP fetch: ${y}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:p,errorMessage:y}}),u.push(y)}Q(!1,`error encountered during CCIP fetch: ${u.map(h=>JSON.stringify(h)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:i,errorMessages:u}})}_wrapBlock(e,t){return new YN(pO(e),this)}_wrapLog(e,t){return new zo(hO(e),this)}_wrapTransactionReceipt(e,t){return new Hv(bO(e),this)}_wrapTransactionResponse(e,t){return new Ho(Wv(e),this)}_detectNetwork(){Q(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){Q(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=Ae(await this.#l({method:"getBlockNumber"}),"%response");return this.#o>=0&&(this.#o=e),e}_getAddress(e){return It(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Ve(e))return Ve(e,32)?e:Cn(e);if(typeof e=="bigint"&&(e=Ae(e,"blockTag")),typeof e=="number")return e>=0?Cn(e):this.#o>=0?Cn(this.#o+e):this.getBlockNumber().then(t=>Cn(t+e));k(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const t=(e.topics||[]).map(p=>p==null?null:Array.isArray(p)?Ed(p.map(g=>g.toLowerCase())):p.toLowerCase()),i="blockHash"in e?e.blockHash:void 0,o=(p,g,m)=>{let y;switch(p.length){case 0:break;case 1:y=p[0];break;default:p.sort(),y=p}if(i&&(g!=null||m!=null))throw new Error("invalid filter");const w={};return y&&(w.address=y),t.length&&(w.topics=t),g&&(w.fromBlock=g),m&&(w.toBlock=m),i&&(w.blockHash=i),w};let c=[];if(e.address)if(Array.isArray(e.address))for(const p of e.address)c.push(this._getAddress(p));else c.push(this._getAddress(e.address));let u;"fromBlock"in e&&(u=this._getBlockTag(e.fromBlock));let h;return"toBlock"in e&&(h=this._getBlockTag(e.toBlock)),c.filter(p=>typeof p!="string").length||u!=null&&typeof u!="string"||h!=null&&typeof h!="string"?Promise.all([Promise.all(c),u,h]).then(p=>o(p[0],p[1],p[2])):o(c,u,h)}_getTransactionRequest(e){const t=Ic(e),i=[];if(["to","from"].forEach(o=>{if(t[o]==null)return;const c=It(t[o],this);vc(c)?i.push(async function(){t[o]=await c}()):t[o]=c}),t.blockTag!=null){const o=this._getBlockTag(t.blockTag);vc(o)?i.push(async function(){t.blockTag=await o}()):t.blockTag=o}return i.length?async function(){return await Promise.all(i),t}():t}async getNetwork(){if(this.#i==null){const o=(async()=>{try{const c=await this._detectNetwork();return this.emit("network",c,null),c}catch(c){throw this.#i===o&&(this.#i=null),c}})();return this.#i=o,(await o).clone()}const e=this.#i,[t,i]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==i.chainId&&(this.#a?(this.emit("network",i,t),this.#i===e&&(this.#i=Promise.resolve(i))):Q(!1,`network changed: ${t.chainId} => ${i.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:o,gasPrice:c,priorityFee:u}=await jt({_block:this.#y("latest",!1),gasPrice:(async()=>{try{const m=await this.#l({method:"getGasPrice"});return W(m,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const m=await this.#l({method:"getPriorityFee"});return W(m,"%response")}catch{}return null})()});let h=null,p=null;const g=this._wrapBlock(o,e);return g&&g.baseFeePerGas&&(p=u??BigInt("1000000000"),h=g.baseFeePerGas*_O+p),new kb(c,h,p)},i=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(i){const o=new ws(i.url),c=await i.processFunc(t,this,o);return new kb(c.gasPrice,c.maxFeePerGas,c.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return vc(t)&&(t=await t),W(await this.#l({method:"estimateGas",transaction:t}),"%response")}async#u(e,t,i){Q(i<NO,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const o=Ic(e);try{return Y(await this._perform({method:"call",transaction:o,blockTag:t}))}catch(c){if(!this.disableCcipRead&&Ld(c)&&c.data&&i>=0&&t==="latest"&&o.to!=null&&et(c.data,0,4)==="0x556f1830"){const u=c.data,h=await It(o.to,this);let p;try{p=MO(et(c.data,4))}catch(y){Q(!1,y.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:o,info:{data:u}})}Q(p.sender.toLowerCase()===h.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:u,reason:"OffchainLookup",transaction:o,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:p.errorArgs}});const g=await this.ccipReadFetch(o,p.calldata,p.urls);Q(g!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:o,info:{data:c.data,errorArgs:p.errorArgs}});const m={to:h,data:st([p.selector,DO([g,p.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:m});try{const y=await this.#u(m,t,i+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},m),result:y}),y}catch(y){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},m),error:y}),y}}throw c}}async#f(e){const{value:t}=await jt({network:this.getNetwork(),value:e});return t}async call(e){const{tx:t,blockTag:i}=await jt({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#f(this.#u(t,i,e.enableCcipRead?0:-1))}async#h(e,t,i){let o=this._getAddress(t),c=this._getBlockTag(i);return(typeof o!="string"||typeof c!="string")&&([o,c]=await Promise.all([o,c])),await this.#f(this.#l(Object.assign(e,{address:o,blockTag:c})))}async getBalance(e,t){return W(await this.#h({method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return Ae(await this.#h({method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return Y(await this.#h({method:"getCode"},e,t))}async getStorage(e,t,i){const o=W(t,"position");return Y(await this.#h({method:"getStorage",position:o},e,i))}async broadcastTransaction(e){const{blockNumber:t,hash:i,network:o}=await jt({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),c=On.from(e);if(c.hash!==i)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(c,o).replaceableTransaction(t)}async#y(e,t){if(Ve(e,32))return await this.#l({method:"getBlock",blockHash:e,includeTransactions:t});let i=this._getBlockTag(e);return typeof i!="string"&&(i=await i),await this.#l({method:"getBlock",blockTag:i,includeTransactions:t})}async getBlock(e,t){const{network:i,params:o}=await jt({network:this.getNetwork(),params:this.#y(e,!!t)});return o==null?null:this._wrapBlock(o,i)}async getTransaction(e){const{network:t,params:i}=await jt({network:this.getNetwork(),params:this.#l({method:"getTransaction",hash:e})});return i==null?null:this._wrapTransactionResponse(i,t)}async getTransactionReceipt(e){const{network:t,params:i}=await jt({network:this.getNetwork(),params:this.#l({method:"getTransactionReceipt",hash:e})});if(i==null)return null;if(i.gasPrice==null&&i.effectiveGasPrice==null){const o=await this.#l({method:"getTransaction",hash:e});if(o==null)throw new Error("report this; could not find tx or effectiveGasPrice");i.effectiveGasPrice=o.gasPrice}return this._wrapTransactionReceipt(i,t)}async getTransactionResult(e){const{result:t}=await jt({network:this.getNetwork(),result:this.#l({method:"getTransactionResult",hash:e})});return t==null?null:Y(t)}async getLogs(e){let t=this._getFilter(e);vc(t)&&(t=await t);const{network:i,params:o}=await jt({network:this.getNetwork(),params:this.#l({method:"getLogs",filter:t})});return o.map(c=>this._wrapLog(c,i))}_getProvider(e){Q(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await ea.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){e=Ue(e);const t=bd(e.substring(2).toLowerCase()+".addr.reverse");try{const i=await ea.getEnsAddress(this),c=await new si(i,["function resolver(bytes32) view returns (address)"],this).resolver(t);if(c==null||c===Oo)return null;const h=await new si(c,["function name(bytes32) view returns (string)"],this).name(t);return await this.resolveName(h)!==e?null:h}catch(i){if(kt(i,"BAD_DATA")&&i.value==="0x"||kt(i,"CALL_EXCEPTION"))return null;throw i}return null}async waitForTransaction(e,t,i){const o=t??1;return o===0?this.getTransactionReceipt(e):new Promise(async(c,u)=>{let h=null;const p=async g=>{try{const m=await this.getTransactionReceipt(e);if(m!=null&&g-m.blockNumber+1>=o){c(m),h&&(clearTimeout(h),h=null);return}}catch(m){console.log("EEE",m)}this.once("block",p)};i!=null&&(h=setTimeout(()=>{h!=null&&(h=null,this.off("block",p),u(Ye("timeout","TIMEOUT",{reason:"timeout"})))},i)),p(await this.getBlockNumber())})}async waitForBlock(e){Q(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=this.#c.get(e);t&&(t.timer&&clearTimeout(t.timer),this.#c.delete(e))}_setTimeout(e,t){t==null&&(t=0);const i=this.#d++,o=()=>{this.#c.delete(i),e()};if(this.paused)this.#c.set(i,{timer:null,func:o,time:t});else{const c=setTimeout(o,t);this.#c.set(i,{timer:c,func:o,time:Fh()})}return i}_forEachSubscriber(e){for(const t of this.#e.values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new eA(e.type);case"block":{const t=new EO(this);return t.pollingInterval=this.pollingInterval,t}case"safe":case"finalized":return new xO(this,e.type);case"event":return new sp(this,e.filter);case"transaction":return new TO(this,e.hash);case"orphan":return new SO(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const i of this.#e.values())if(i.subscriber===e){i.started&&i.subscriber.stop(),i.subscriber=t,i.started&&t.start(),this.#n!=null&&t.pause(this.#n);break}}async#m(e,t){let i=await Gh(e,this);return i.type==="event"&&t&&t.length>0&&t[0].removed===!0&&(i=await Gh({orphan:"drop-log",log:t[0]},this)),this.#e.get(i.tag)||null}async#b(e){const t=await Gh(e,this),i=t.tag;let o=this.#e.get(i);return o||(o={subscriber:this._getSubscriber(t),tag:i,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#e.set(i,o)),o}async on(e,t){const i=await this.#b(e);return i.listeners.push({listener:t,once:!1}),i.started||(i.subscriber.start(),i.started=!0,this.#n!=null&&i.subscriber.pause(this.#n)),this}async once(e,t){const i=await this.#b(e);return i.listeners.push({listener:t,once:!0}),i.started||(i.subscriber.start(),i.started=!0,this.#n!=null&&i.subscriber.pause(this.#n)),this}async emit(e,...t){const i=await this.#m(e,t);if(!i||i.listeners.length===0)return!1;const o=i.listeners.length;return i.listeners=i.listeners.filter(({listener:c,once:u})=>{const h=new ww(this,u?null:c,e);try{c.call(this,...t,h)}catch{}return!u}),i.listeners.length===0&&(i.started&&i.subscriber.stop(),this.#e.delete(i.tag)),o>0}async listenerCount(e){if(e){const i=await this.#m(e);return i?i.listeners.length:0}let t=0;for(const{listeners:i}of this.#e.values())t+=i.length;return t}async listeners(e){if(e){const i=await this.#m(e);return i?i.listeners.map(({listener:o})=>o):[]}let t=[];for(const{listeners:i}of this.#e.values())t=t.concat(i.map(({listener:o})=>o));return t}async off(e,t){const i=await this.#m(e);if(!i)return this;if(t){const o=i.listeners.map(({listener:c})=>c).indexOf(t);o>=0&&i.listeners.splice(o,1)}return(!t||i.listeners.length===0)&&(i.started&&i.subscriber.stop(),this.#e.delete(i.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:i,subscriber:o}=await this.#b(e);i&&o.stop(),this.#e.delete(t)}else for(const[t,{started:i,subscriber:o}]of this.#e)i&&o.stop(),this.#e.delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return this.#s}destroy(){this.removeAllListeners();for(const e of this.#c.keys())this._clearTimeout(e);this.#s=!0}get paused(){return this.#n!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#o=-1,this.#n!=null){if(this.#n==!!e)return;Q(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(t=>t.pause(e)),this.#n=!!e;for(const t of this.#c.values())t.timer&&clearTimeout(t.timer),t.time=Fh()-t.time}resume(){if(this.#n!=null){this._forEachSubscriber(e=>e.resume()),this.#n=null;for(const e of this.#c.values()){let t=e.time;t<0&&(t=0),e.time=Fh(),setTimeout(e.func,t)}}}}function CO(r,e){try{const t=xd(r,e);if(t)return Bc(t)}catch{}return null}function xd(r,e){if(r==="0x")return null;try{const t=Ae(et(r,e,e+32)),i=Ae(et(r,t,t+32));return et(r,t+32,t+32+i)}catch{}return null}function Lb(r){const e=yt(r);if(e.length>32)throw new Error("internal; should not happen");const t=new Uint8Array(32);return t.set(e,32-e.length),t}function BO(r){if(r.length%32===0)return r;const e=new Uint8Array(Math.ceil(r.length/32)*32);return e.set(r),e}const UO=new Uint8Array([]);function DO(r){const e=[];let t=0;for(let i=0;i<r.length;i++)e.push(UO),t+=32;for(let i=0;i<r.length;i++){const o=ve(r[i]);e[i]=Lb(t),e.push(Lb(o.length)),e.push(BO(o)),t+=32+Math.ceil(o.length/32)*32}return st(e)}const Pb="0x0000000000000000000000000000000000000000000000000000000000000000";function MO(r){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};Q(Zr(r)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const t=et(r,0,32);Q(et(t,0,12)===et(Pb,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=et(t,12);try{const i=[],o=Ae(et(r,32,64)),c=Ae(et(r,o,o+32)),u=et(r,o+32);for(let h=0;h<c;h++){const p=CO(u,h*32);if(p==null)throw new Error("abort");i.push(p)}e.urls=i}catch{Q(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const i=xd(r,64);if(i==null)throw new Error("abort");e.calldata=i}catch{Q(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}Q(et(r,100,128)===et(Pb,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=et(r,96,100);try{const i=xd(r,128);if(i==null)throw new Error("abort");e.extraData=i}catch{Q(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(i=>e[i]),e}function Ri(r,e){if(r.provider)return r.provider;Q(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function Ib(r,e){let t=Ic(e);if(t.to!=null&&(t.to=It(t.to,r)),t.from!=null){const i=t.from;t.from=Promise.all([r.getAddress(),It(i,r)]).then(([o,c])=>(k(o.toLowerCase()===c.toLowerCase(),"transaction from mismatch","tx.from",c),o))}else t.from=r.getAddress();return await jt(t)}class jO{provider;constructor(e){ae(this,{provider:e||null})}async getNonce(e){return Ri(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await Ib(this,e)}async populateTransaction(e){const t=Ri(this,"populateTransaction"),i=await Ib(this,e);i.nonce==null&&(i.nonce=await this.getNonce("pending")),i.gasLimit==null&&(i.gasLimit=await this.estimateGas(i));const o=await this.provider.getNetwork();if(i.chainId!=null){const u=W(i.chainId);k(u===o.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else i.chainId=o.chainId;const c=i.maxFeePerGas!=null||i.maxPriorityFeePerGas!=null;if(i.gasPrice!=null&&(i.type===2||c)?k(!1,"eip-1559 transaction do not support gasPrice","tx",e):(i.type===0||i.type===1)&&c&&k(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(i.type===2||i.type==null)&&i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)i.type=2;else if(i.type===0||i.type===1){const u=await t.getFeeData();Q(u.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),i.gasPrice==null&&(i.gasPrice=u.gasPrice)}else{const u=await t.getFeeData();if(i.type==null)if(u.maxFeePerGas!=null&&u.maxPriorityFeePerGas!=null)if(i.authorizationList&&i.authorizationList.length?i.type=4:i.type=2,i.gasPrice!=null){const h=i.gasPrice;delete i.gasPrice,i.maxFeePerGas=h,i.maxPriorityFeePerGas=h}else i.maxFeePerGas==null&&(i.maxFeePerGas=u.maxFeePerGas),i.maxPriorityFeePerGas==null&&(i.maxPriorityFeePerGas=u.maxPriorityFeePerGas);else u.gasPrice!=null?(Q(!c,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),i.gasPrice==null&&(i.gasPrice=u.gasPrice),i.type=0):Q(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(i.type===2||i.type===3||i.type===4)&&(i.maxFeePerGas==null&&(i.maxFeePerGas=u.maxFeePerGas),i.maxPriorityFeePerGas==null&&(i.maxPriorityFeePerGas=u.maxPriorityFeePerGas))}return await jt(i)}async populateAuthorization(e){const t=Object.assign({},e);return t.chainId==null&&(t.chainId=(await Ri(this,"getNetwork").getNetwork()).chainId),t.nonce==null&&(t.nonce=await this.getNonce()),t}async estimateGas(e){return Ri(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Ri(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Ri(this,"resolveName").resolveName(e)}async sendTransaction(e){const t=Ri(this,"sendTransaction"),i=await this.populateTransaction(e);delete i.from;const o=On.from(i);return await t.broadcastTransaction(await this.signTransaction(o))}authorize(e){Q(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function LO(r){return JSON.parse(JSON.stringify(r))}class tA{#e;#t;#n;#s;#i;#a;constructor(e){this.#e=e,this.#t=null,this.#n=this.#r.bind(this),this.#s=!1,this.#i=null,this.#a=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#r(e){try{this.#t==null&&(this.#t=this._subscribe(this.#e));let t=null;try{t=await this.#t}catch(c){if(!kt(c,"UNSUPPORTED_OPERATION")||c.operation!=="eth_newFilter")throw c}if(t==null){this.#t=null,this.#e._recoverSubscriber(this,this._recover(this.#e));return}const i=await this.#e.getNetwork();if(this.#i||(this.#i=i),this.#i.chainId!==i.chainId)throw new Error("chaid changed");if(this.#a)return;const o=await this.#e.send("eth_getFilterChanges",[t]);await this._emitResults(this.#e,o)}catch(t){console.log("@TODO",t)}this.#e.once("block",this.#n)}#o(){const e=this.#t;e&&(this.#t=null,e.then(t=>{this.#e.destroyed||this.#e.send("eth_uninstallFilter",[t])}))}start(){this.#s||(this.#s=!0,this.#r(-2))}stop(){this.#s&&(this.#s=!1,this.#a=!0,this.#o(),this.#e.off("block",this.#n))}pause(e){e&&this.#o(),this.#e.off("block",this.#n)}resume(){this.start()}}class PO extends tA{#e;constructor(e,t){super(e),this.#e=LO(t)}_recover(e){return new sp(e,this.#e)}async _subscribe(e){return await e.send("eth_newFilter",[this.#e])}async _emitResults(e,t){for(const i of t)e.emit(this.#e,e._wrapLog(i,e._network))}}class IO extends tA{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const i of t)e.emit("pending",i)}}const zO="bigint,boolean,function,number,string,symbol".split(/,/g);function Tc(r){if(r==null||zO.indexOf(typeof r)>=0||typeof r.getAddress=="function")return r;if(Array.isArray(r))return r.map(Tc);if(typeof r=="object")return Object.keys(r).reduce((e,t)=>(e[t]=r[t],e),{});throw new Error(`should not happen: ${r} (${typeof r})`)}function HO(r){return new Promise(e=>{setTimeout(e,r)})}function Qr(r){return r&&r.toLowerCase()}function zb(r){return r&&typeof r.pollingInterval=="number"}const nA={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class qh extends jO{address;constructor(e,t){super(e),t=Ue(t),ae(this,{address:t})}connect(e){Q(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const t=Tc(e),i=[];if(t.from){const c=t.from;i.push((async()=>{const u=await It(c,this.provider);k(u!=null&&u.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=u})())}else t.from=this.address;if(t.gasLimit==null&&i.push((async()=>{t.gasLimit=await this.provider.estimateGas({...t,from:this.address})})()),t.to!=null){const c=t.to;i.push((async()=>{t.to=await It(c,this.provider)})())}i.length&&await Promise.all(i);const o=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[o])}async sendTransaction(e){const t=await this.provider.getBlockNumber(),i=await this.sendUncheckedTransaction(e);return await new Promise((o,c)=>{const u=[1e3,100];let h=0;const p=async()=>{try{const g=await this.provider.getTransaction(i);if(g!=null){o(g.replaceableTransaction(t));return}}catch(g){if(kt(g,"CANCELLED")||kt(g,"BAD_DATA")||kt(g,"NETWORK_ERROR")||kt(g,"UNSUPPORTED_OPERATION")){g.info==null&&(g.info={}),g.info.sendTransactionHash=i,c(g);return}if(kt(g,"INVALID_ARGUMENT")&&(h++,g.info==null&&(g.info={}),g.info.sendTransactionHash=i,h>10)){c(g);return}this.provider.emit("error",Ye("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:g}))}this.provider._setTimeout(()=>{p()},u.pop()||4e3)};p()})}async signTransaction(e){const t=Tc(e);if(t.from){const o=await It(t.from,this.provider);k(o!=null&&o.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=o}else t.from=this.address;const i=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[i])}async signMessage(e){const t=typeof e=="string"?ms(e):e;return await this.provider.send("personal_sign",[Y(t),this.address.toLowerCase()])}async signTypedData(e,t,i){const o=Tc(i),c=await on.resolveNames(e,t,o,async u=>{const h=await It(u);return k(h!=null,"TypedData does not support null address","value",u),h});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(on.getPayload(c.domain,t,c.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const t=typeof e=="string"?ms(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),Y(t)])}}class GO extends RO{#e;#t;#n;#s;#i;#a;#r;#o(){if(this.#s)return;const e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#s=setTimeout(()=>{this.#s=null;const t=this.#n;for(this.#n=[];t.length;){const i=[t.shift()];for(;t.length&&i.length!==this.#e.batchMaxCount;)if(i.push(t.shift()),JSON.stringify(i.map(c=>c.payload)).length>this.#e.batchMaxSize){t.unshift(i.pop());break}(async()=>{const o=i.length===1?i[0].payload:i.map(c=>c.payload);this.emit("debug",{action:"sendRpcPayload",payload:o});try{const c=await this._send(o);this.emit("debug",{action:"receiveRpcResult",result:c});for(const{resolve:u,reject:h,payload:p}of i){if(this.destroyed){h(Ye("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:p.method}));continue}const g=c.filter(m=>m.id===p.id)[0];if(g==null){const m=Ye("missing response for request","BAD_DATA",{value:c,info:{payload:p}});this.emit("error",m),h(m);continue}if("error"in g){h(this.getRpcError(p,g));continue}u(g.result)}}catch(c){this.emit("debug",{action:"receiveRpcError",error:c});for(const{reject:u}of i)u(c)}})()}},e)}constructor(e,t){super(e,t),this.#t=1,this.#e=Object.assign({},nA,t||{}),this.#n=[],this.#s=null,this.#a=null,this.#r=null;{let o=null;const c=new Promise(u=>{o=u});this.#i={promise:c,resolve:o}}const i=this._getOption("staticNetwork");typeof i=="boolean"?(k(!i||e!=="any","staticNetwork cannot be used on special network 'any'","options",t),i&&e!=null&&(this.#a=cn.from(e))):i&&(k(e==null||i.matches(e),"staticNetwork MUST match network object","options",t),this.#a=i)}_getOption(e){return this.#e[e]}get _network(){return Q(this.#a,"network is not available yet","NETWORK_ERROR"),this.#a}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let i=e.transaction;if(i&&i.type!=null&&W(i.type)&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const o=await this.getFeeData();o.maxFeePerGas==null&&o.maxPriorityFeePerGas==null&&(e=Object.assign({},e,{transaction:Object.assign({},i,{type:void 0})}))}}const t=this.getRpcRequest(e);return t!=null?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e)if(e===!0){if(this.#a)return this.#a}else return e;return this.#r?await this.#r:this.ready?(this.#r=(async()=>{try{const t=cn.from(W(await this.send("eth_chainId",[])));return this.#r=null,t}catch(t){throw this.#r=null,t}})(),await this.#r):(this.#r=(async()=>{const t={id:this.#t++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:t});let i;try{i=(await this._send(t))[0],this.#r=null}catch(o){throw this.#r=null,this.emit("debug",{action:"receiveRpcError",error:o}),o}if(this.emit("debug",{action:"receiveRpcResult",result:i}),"result"in i)return cn.from(W(i.result));throw this.getRpcError(t,i)})(),await this.#r)}_start(){this.#i==null||this.#i.resolve==null||(this.#i.resolve(),this.#i=null,(async()=>{for(;this.#a==null&&!this.destroyed;)try{this.#a=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Ye("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await HO(1e3)}this.#o()})())}async _waitUntilReady(){if(this.#i!=null)return await this.#i.promise}_getSubscriber(e){return e.type==="pending"?new IO(this):e.type==="event"?this._getOption("polling")?new sp(this,e.filter):new PO(this,e.filter):e.type==="orphan"&&e.filter.orphan==="drop-log"?new eA("orphan"):super._getSubscriber(e)}get ready(){return this.#i==null}getRpcTransaction(e){const t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(i=>{if(e[i]==null)return;let o=i;i==="gasLimit"&&(o="gas"),t[o]=Cn(W(e[i],`tx.${i}`))}),["from","to","data"].forEach(i=>{e[i]!=null&&(t[i]=Y(e[i]))}),e.accessList&&(t.accessList=Ki(e.accessList)),e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.map(i=>i.toLowerCase())),e.authorizationList&&(t.authorizationList=e.authorizationList.map(i=>{const o=ov(i);return{address:o.address,nonce:Cn(o.nonce),chainId:Cn(o.chainId),yParity:Cn(o.signature.yParity),r:Cn(o.signature.r),s:Cn(o.signature.s)}})),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Qr(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Qr(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[Qr(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Qr(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&e.filter.address!=null&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(Qr):e.filter.address=Qr(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){const{method:i}=e,{error:o}=t;if(i==="eth_estimateGas"&&o.message){const h=o.message;if(!h.match(/revert/i)&&h.match(/insufficient funds/i))return Ye("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:o}});if(h.match(/nonce/i)&&h.match(/too low/i))return Ye("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:o}})}if(i==="eth_call"||i==="eth_estimateGas"){const h=Sd(o),p=la.getBuiltinCallException(i==="eth_call"?"call":"estimateGas",e.params[0],h?h.data:null);return p.info={error:o,payload:e},p}const c=JSON.stringify(qO(o));if(typeof o.message=="string"&&o.message.match(/user denied|ethers-user-denied/i))return Ye("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[i]||"unknown",reason:"rejected",info:{payload:e,error:o}});if(i==="eth_sendRawTransaction"||i==="eth_sendTransaction"){const h=e.params[0];if(c.match(/insufficient funds|base fee exceeds gas limit/i))return Ye("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:h,info:{error:o}});if(c.match(/nonce/i)&&c.match(/too low/i))return Ye("nonce has already been used","NONCE_EXPIRED",{transaction:h,info:{error:o}});if(c.match(/replacement transaction/i)&&c.match(/underpriced/i))return Ye("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:h,info:{error:o}});if(c.match(/only replay-protected/i))return Ye("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:i,info:{transaction:h,info:{error:o}}})}let u=!!c.match(/the method .* does not exist/i);return u||o&&o.details&&o.details.startsWith("Unauthorized method:")&&(u=!0),u?Ye("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:o,payload:e}}):Ye("could not coalesce error","UNKNOWN_ERROR",{error:o,payload:e})}send(e,t){if(this.destroyed)return Promise.reject(Ye("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const i=this.#t++,o=new Promise((c,u)=>{this.#n.push({resolve:c,reject:u,payload:{method:e,params:t,id:i,jsonrpc:"2.0"}})});return this.#o(),o}async getSigner(e){e==null&&(e=0);const t=this.send("eth_accounts",[]);if(typeof e=="number"){const o=await t;if(e>=o.length)throw new Error("no such account");return new qh(this,o[e])}const{accounts:i}=await jt({network:this.getNetwork(),accounts:t});e=Ue(e);for(const o of i)if(Ue(o)===e)return new qh(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(t=>new qh(this,t))}destroy(){this.#s&&(clearTimeout(this.#s),this.#s=null);for(const{payload:e,reject:t}of this.#n)t(Ye("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#n=[],super.destroy()}}class FO extends GO{#e;constructor(e,t){super(e,t);let i=this._getOption("pollingInterval");i==null&&(i=nA.pollingInterval),this.#e=i}_getSubscriber(e){const t=super._getSubscriber(e);return zb(t)&&(t.pollingInterval=this.#e),t}get pollingInterval(){return this.#e}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#e=e,this._forEachSubscriber(t=>{zb(t)&&(t.pollingInterval=this.#e)})}}function Sd(r){if(r==null)return null;if(typeof r.message=="string"&&r.message.match(/revert/i)&&Ve(r.data))return{message:r.message,data:r.data};if(typeof r=="object"){for(const e in r){const t=Sd(r[e]);if(t)return t}return null}if(typeof r=="string")try{return Sd(JSON.parse(r))}catch{}return null}function Td(r,e){if(r!=null){if(typeof r.message=="string"&&e.push(r.message),typeof r=="object")for(const t in r)Td(r[t],e);if(typeof r=="string")try{return Td(JSON.parse(r),e)}catch{}}}function qO(r){const e=[];return Td(r,e),e}class ti extends FO{#e;#t;constructor(e,t,i){const o=Object.assign({},i??{},{batchMaxCount:1});k(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(t,o),this.#t=null,i&&i.providerInfo&&(this.#t=i.providerInfo),this.#e=async(c,u)=>{const h={method:c,params:u};this.emit("debug",{action:"sendEip1193Request",payload:h});try{const p=await e.request(h);return this.emit("debug",{action:"receiveEip1193Result",result:p}),p}catch(p){const g=new Error(p.message);throw g.code=p.code,g.data=p.data,g.payload=h,this.emit("debug",{action:"receiveEip1193Error",error:g}),g}}}get providerInfo(){return this.#t}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){k(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const t=await this.#e(e.method,e.params||[]);return[{id:e.id,result:t}]}catch(t){return[{id:e.id,error:{code:t.code,data:t.data,message:t.message}}]}}getRpcError(e,t){switch(t=JSON.parse(JSON.stringify(t)),t.error.code||-1){case 4001:t.error.message=`ethers-user-denied: ${t.error.message}`;break;case 4200:t.error.message=`ethers-unsupported: ${t.error.message}`;break}return super.getRpcError(e,t)}async hasSigner(e){e==null&&(e=0);const t=await this.send("eth_accounts",[]);return typeof e=="number"?t.length>e:(e=e.toLowerCase(),t.filter(i=>i.toLowerCase()===e).length!==0)}async getSigner(e){if(e==null&&(e=0),!await this.hasSigner(e))try{await this.#e("eth_requestAccounts",[])}catch(t){const i=t.payload;throw this.getRpcError(i,{id:i.id,error:t})}return await super.getSigner(e)}static async discover(e){if(e==null&&(e={}),e.provider)return new ti(e.provider);const t=e.window?e.window:typeof window<"u"?window:null;if(t==null)return null;const i=e.anyProvider;if(i&&t.ethereum)return new ti(t.ethereum);if(!("addEventListener"in t&&"dispatchEvent"in t&&"removeEventListener"in t))return null;const o=e.timeout?e.timeout:300;return o===0?null:await new Promise((c,u)=>{let h=[];const p=y=>{h.push(y.detail),i&&g()},g=()=>{if(clearTimeout(m),h.length)if(e&&e.filter){const y=e.filter(h.map(w=>Object.assign({},w.info)));if(y==null)c(null);else if(y instanceof ti)c(y);else{let w=null;if(y.uuid&&(w=h.filter(T=>y.uuid===T.info.uuid)[0]),w){const{provider:x,info:T}=w;c(new ti(x,void 0,{providerInfo:T}))}else u(Ye("filter returned unknown info","UNSUPPORTED_OPERATION",{value:y}))}}else{const{provider:y,info:w}=h[0];c(new ti(y,void 0,{providerInfo:w}))}else c(null);t.removeEventListener("eip6963:announceProvider",p)},m=setTimeout(()=>{g()},o);t.addEventListener("eip6963:announceProvider",p),t.dispatchEvent(new Event("eip6963:requestProvider"))})}}const QO=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"OwnableInvalidOwner","type":"error"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"OwnableUnauthorizedAccount","type":"error"},{"inputs":[],"name":"ReentrancyGuardReentrantCall","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Deposit","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"fromToken","type":"address"},{"indexed":true,"internalType":"address","name":"toToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"rate","type":"uint256"}],"name":"ExchangeRateUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":true,"internalType":"address","name":"fromToken","type":"address"},{"indexed":true,"internalType":"address","name":"toToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"fromAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"toAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"fee","type":"uint256"}],"name":"Swap","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Withdraw","type":"event"},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"addSupportedToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"deposit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"exchangeRates","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"feeBalances","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"feeRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getSupportedTokens","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"address","name":"token","type":"address"}],"name":"getUserBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"getUserBalances","outputs":[{"internalType":"address[]","name":"tokens","type":"address[]"},{"internalType":"uint256[]","name":"balances","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"isSupportedToken","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"fromToken","type":"address"},{"internalType":"address","name":"toToken","type":"address"},{"internalType":"uint256","name":"rate","type":"uint256"}],"name":"setExchangeRate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_feeRate","type":"uint256"}],"name":"setFeeRate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"supportedTokens","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"fromToken","type":"address"},{"internalType":"address","name":"toToken","type":"address"},{"internalType":"uint256","name":"fromAmount","type":"uint256"}],"name":"swap","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"userBalances","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"withdrawFees","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),Hb="0x33d89348E9547662840A035d26930EE37c6741d0",VO="0x6b797dC9D340bf09A77Fb54075530c5fb6bdF699",KO="0x59dF7b4D7cf172Aa5be3b524D4ac2616d7097a78",JO=()=>{const{address:r,isConnected:e}=Mo(),[t,i]=ye.useState(null),[o,c]=ye.useState(null),[u,h]=ye.useState(null),[p,g]=ye.useState(null),[m,y]=ye.useState(null),[w,x]=ye.useState(""),[T,S]=ye.useState(""),[_,U]=ye.useState(!1),[F,R]=ye.useState(""),[z,K]=ye.useState("SOW"),[H,J]=ye.useState("KOW");ye.useEffect(()=>{window.ethereum&&e&&new ti(window.ethereum).getSigner().then(V=>{i(new si(Hb,QO,V)),c(Hb),h(VO),g(KO)})},[e]),ye.useEffect(()=>{o&&r&&(async()=>{const V=await t.getBalance(r,o);y(V)})()});const X=async()=>{U(!0),R("토큰 추가 중...");try{await(await t.addSupportedToken(u)).wait(),await(await t.addSupportedToken(p)).wait(),R("토큰 추가 성공!"),setTimeout(()=>R(""),3e3)}catch(O){console.error("토큰 추가 실패:",O),R("토큰 추가 실패"),setTimeout(()=>R(""),3e3)}U(!1)},he=async()=>{U(!0),R("교환 비율 설정 중...");try{await(await t.setExchangeRate(p,u,100)).wait(),R("교환 비율 설정 성공!"),setTimeout(()=>R(""),3e3)}catch(O){console.error("교환 비율 설정 실패:",O),R("교환 비율 설정 실패"),setTimeout(()=>R(""),3e3)}U(!1)},te=async()=>{if(!(!T||isNaN(T))){U(!0),R("수수료 설정 중...");try{await(await t.setFeeRate(T)).wait(),R("수수료 설정 성공!"),S(""),setTimeout(()=>R(""),3e3)}catch(O){console.error("수수료 설정 실패:",O),R("수수료 설정 실패"),setTimeout(()=>R(""),3e3)}U(!1)}},ce=async()=>{U(!0),R("수수료 출금 중...");try{await(await t.withdrawFee(u)).wait(),R("수수료 출금 성공!"),setTimeout(()=>R(""),3e3)}catch(O){console.error("수수료 출금 실패:",O),R("수수료 출금 실패"),setTimeout(()=>R(""),3e3)}U(!1)},be=async()=>{if(!(!w||isNaN(w))){U(!0),R("KOW 예치 중...");try{await(await t.deposit(u,w)).wait(),R("KOW 예치 성공!"),x(""),setTimeout(()=>R(""),3e3)}catch(O){console.error("예치 실패:",O),R("예치 실패"),setTimeout(()=>R(""),3e3)}U(!1)}},Ge=async()=>{if(!(!w||isNaN(w))){U(!0),R("SOW 입금 중...");try{await(await t.deposit(p,w)).wait(),R("SOW 입금 성공!"),x(""),setTimeout(()=>R(""),3e3)}catch(O){console.error("입금 실패:",O),R("입금 실패"),setTimeout(()=>R(""),3e3)}U(!1)}},ue=async()=>{if(!(!w||isNaN(w))){U(!0),R("SOW 출금 중...");try{await(await t.withdraw(p,w)).wait(),R("SOW 출금 성공!"),x(""),setTimeout(()=>R(""),3e3)}catch(O){console.error("출금 실패:",O),R("출금 실패"),setTimeout(()=>R(""),3e3)}U(!1)}},q=async()=>{if(!(!w||isNaN(w))){U(!0),R(`${z}에서 ${H}로 교환 중...`);try{let O;z==="SOW"&&H==="KOW"?O=await t.swap(p,u,w):z==="KOW"&&H==="SOW"&&(O=await t.swap(u,p,w)),await O.wait(),R("교환 성공!"),x(""),setTimeout(()=>R(""),3e3)}catch(O){console.error("교환 실패:",O),R("교환 실패"),setTimeout(()=>R(""),3e3)}U(!1)}},C=()=>{const O=z;K(H),J(O)};return e?A.jsxs("div",{className:"animate-fade-in",children:[A.jsx("div",{className:"page-header animate-fade-in-scale",children:A.jsx("h2",{children:"🔄 SimpleDEX"})}),F&&A.jsxs("div",{className:`transaction-status animate-fade-in-scale ${F.includes("성공")?"success":F.includes("실패")?"error":"pending"}`,children:[_&&A.jsx("div",{className:"loading-spinner"}),A.jsx("span",{children:F})]}),A.jsxs("div",{className:"balance-card animate-fade-in-up animate-delay-200",children:[A.jsxs("div",{className:"balance-header",children:[A.jsx("h3",{children:"💰 내 잔액"}),A.jsx("button",{className:"refresh-btn hover-scale",onClick:()=>window.location.reload(),children:"🔄"})]}),A.jsxs("div",{className:"balance-amount",children:[A.jsx("span",{className:"amount",children:m||"0"}),A.jsx("span",{className:"currency",children:"SOW"})]}),A.jsx("div",{className:"balance-usd",children:"≈ $0.00 USD"})]}),A.jsxs("div",{className:"swap-card animate-fade-in-up animate-delay-300",children:[A.jsxs("div",{className:"swap-header",children:[A.jsx("h3",{children:"🔄 토큰 스왑"}),A.jsx("div",{className:"exchange-rate",children:"1 SOW = 1 KOW"})]}),A.jsxs("div",{className:"swap-container",children:[A.jsxs("div",{className:"swap-input-group",children:[A.jsxs("div",{className:"input-header",children:[A.jsx("span",{children:"보내는 토큰"}),A.jsxs("span",{className:"token-balance",children:["잔액: ",m||"0"]})]}),A.jsxs("div",{className:"swap-input",children:[A.jsx("input",{type:"number",placeholder:"0.0",value:w,onChange:O=>x(O.target.value),className:"amount-input"}),A.jsx("div",{className:"token-selector",children:A.jsx("span",{className:"token-symbol",children:z})})]})]}),A.jsx("div",{className:"swap-switch",children:A.jsx("button",{className:"switch-btn hover-rotate",onClick:C,disabled:_,children:"⇅"})}),A.jsxs("div",{className:"swap-input-group",children:[A.jsxs("div",{className:"input-header",children:[A.jsx("span",{children:"받는 토큰"}),A.jsx("span",{className:"token-balance",children:"잔액: 0"})]}),A.jsxs("div",{className:"swap-input",children:[A.jsx("input",{type:"number",placeholder:"0.0",value:w,readOnly:!0,className:"amount-input"}),A.jsx("div",{className:"token-selector",children:A.jsx("span",{className:"token-symbol",children:H})})]})]})]}),A.jsx("button",{className:`swap-button hover-lift ${!w||_?"disabled":""}`,onClick:q,disabled:!w||_,children:_?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"loading-spinner"}),"스왑 중..."]}):`🔄 ${z}를 ${H}로 스왑`})]}),A.jsxs("div",{className:"liquidity-section animate-fade-in-up animate-delay-400",children:[A.jsx("div",{className:"section-tabs",children:A.jsx("button",{className:"tab-btn active",children:"💰 입출금"})}),A.jsxs("div",{className:"liquidity-actions",children:[A.jsxs("div",{className:"action-group",children:[A.jsx("h4",{children:"💵 SOW 관리"}),A.jsxs("div",{className:"input-with-button",children:[A.jsx("input",{type:"number",placeholder:"금액 입력",value:w,onChange:O=>x(O.target.value),className:"action-input"}),A.jsxs("button",{className:"action-btn primary hover-lift",onClick:Ge,disabled:!w||_,children:[_?A.jsx("div",{className:"loading-spinner"}):"💰"," 입금"]}),A.jsxs("button",{className:"action-btn secondary hover-lift",onClick:ue,disabled:!w||_,children:[_?A.jsx("div",{className:"loading-spinner"}):"💸"," 출금"]})]})]}),A.jsxs("div",{className:"action-group",children:[A.jsx("h4",{children:"🪙 KOW 예치"}),A.jsxs("div",{className:"input-with-button",children:[A.jsx("input",{type:"number",placeholder:"예치할 금액",value:w,onChange:O=>x(O.target.value),className:"action-input"}),A.jsxs("button",{className:"action-btn success hover-lift",onClick:be,disabled:!w||_,children:[_?A.jsx("div",{className:"loading-spinner"}):"🪙"," KOW 예치"]})]})]})]})]}),A.jsxs("div",{className:"admin-card animate-fade-in-up animate-delay-500",children:[A.jsxs("div",{className:"admin-header",children:[A.jsx("h3",{children:"⚙️ 관리자 기능"}),A.jsx("span",{className:"admin-badge",children:"ADMIN"})]}),A.jsxs("div",{className:"admin-actions",children:[A.jsxs("div",{className:"admin-group",children:[A.jsx("h4",{children:"토큰 설정"}),A.jsxs("div",{className:"admin-buttons",children:[A.jsxs("button",{className:"admin-btn hover-lift",onClick:X,disabled:_,children:[_?A.jsx("div",{className:"loading-spinner"}):"➕"," 토큰 추가"]}),A.jsxs("button",{className:"admin-btn hover-lift",onClick:he,disabled:_,children:[_?A.jsx("div",{className:"loading-spinner"}):"📊"," 교환비율 설정"]})]})]}),A.jsxs("div",{className:"admin-group",children:[A.jsx("h4",{children:"수수료 관리"}),A.jsxs("div",{className:"fee-input-group",children:[A.jsx("input",{type:"number",placeholder:"수수료 (%)",value:T,onChange:O=>S(O.target.value),className:"fee-input"}),A.jsxs("button",{className:"admin-btn hover-lift",onClick:te,disabled:!T||_,children:[_?A.jsx("div",{className:"loading-spinner"}):"💰"," 수수료 설정"]}),A.jsxs("button",{className:"admin-btn danger hover-lift",onClick:ce,disabled:_,children:[_?A.jsx("div",{className:"loading-spinner"}):"💸"," 수수료 출금"]})]})]})]})]})]}):A.jsxs("div",{className:"animate-fade-in",children:[A.jsx("div",{className:"page-header animate-fade-in-scale",children:A.jsx("h2",{children:"🔄 SimpleDEX"})}),A.jsxs("div",{className:"connection-required animate-fade-in-up animate-delay-200",children:[A.jsx("div",{className:"connection-icon",children:"🔗"}),A.jsx("h3",{children:"지갑 연결이 필요합니다"}),A.jsx("p",{children:"SimpleDEX를 사용하려면 먼저 지갑을 연결해주세요."})]})]})},Vn=Object.create(null);Vn.open="0";Vn.close="1";Vn.ping="2";Vn.pong="3";Vn.message="4";Vn.upgrade="5";Vn.noop="6";const _c=Object.create(null);Object.keys(Vn).forEach(r=>{_c[Vn[r]]=r});const _d={type:"error",data:"parser error"},sA=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",iA=typeof ArrayBuffer=="function",rA=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer,ip=({type:r,data:e},t,i)=>sA&&e instanceof Blob?t?i(e):Gb(e,i):iA&&(e instanceof ArrayBuffer||rA(e))?t?i(e):Gb(new Blob([e]),i):i(Vn[r]+(e||"")),Gb=(r,e)=>{const t=new FileReader;return t.onload=function(){const i=t.result.split(",")[1];e("b"+(i||""))},t.readAsDataURL(r)};function Fb(r){return r instanceof Uint8Array?r:r instanceof ArrayBuffer?new Uint8Array(r):new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}let Qh;function YO(r,e){if(sA&&r.data instanceof Blob)return r.data.arrayBuffer().then(Fb).then(e);if(iA&&(r.data instanceof ArrayBuffer||rA(r.data)))return e(Fb(r.data));ip(r,!1,t=>{Qh||(Qh=new TextEncoder),e(Qh.encode(t))})}const qb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vo=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let r=0;r<qb.length;r++)vo[qb.charCodeAt(r)]=r;const XO=r=>{let e=r.length*.75,t=r.length,i,o=0,c,u,h,p;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);const g=new ArrayBuffer(e),m=new Uint8Array(g);for(i=0;i<t;i+=4)c=vo[r.charCodeAt(i)],u=vo[r.charCodeAt(i+1)],h=vo[r.charCodeAt(i+2)],p=vo[r.charCodeAt(i+3)],m[o++]=c<<2|u>>4,m[o++]=(u&15)<<4|h>>2,m[o++]=(h&3)<<6|p&63;return g},ZO=typeof ArrayBuffer=="function",rp=(r,e)=>{if(typeof r!="string")return{type:"message",data:aA(r,e)};const t=r.charAt(0);return t==="b"?{type:"message",data:$O(r.substring(1),e)}:_c[t]?r.length>1?{type:_c[t],data:r.substring(1)}:{type:_c[t]}:_d},$O=(r,e)=>{if(ZO){const t=XO(r);return aA(t,e)}else return{base64:!0,data:r}},aA=(r,e)=>{switch(e){case"blob":return r instanceof Blob?r:new Blob([r]);case"arraybuffer":default:return r instanceof ArrayBuffer?r:r.buffer}},oA="",WO=(r,e)=>{const t=r.length,i=new Array(t);let o=0;r.forEach((c,u)=>{ip(c,!1,h=>{i[u]=h,++o===t&&e(i.join(oA))})})},ek=(r,e)=>{const t=r.split(oA),i=[];for(let o=0;o<t.length;o++){const c=rp(t[o],e);if(i.push(c),c.type==="error")break}return i};function tk(){return new TransformStream({transform(r,e){YO(r,t=>{const i=t.length;let o;if(i<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,i);else if(i<65536){o=new Uint8Array(3);const c=new DataView(o.buffer);c.setUint8(0,126),c.setUint16(1,i)}else{o=new Uint8Array(9);const c=new DataView(o.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(i))}r.data&&typeof r.data!="string"&&(o[0]|=128),e.enqueue(o),e.enqueue(t)})}})}let Vh;function Ac(r){return r.reduce((e,t)=>e+t.length,0)}function Ec(r,e){if(r[0].length===e)return r.shift();const t=new Uint8Array(e);let i=0;for(let o=0;o<e;o++)t[o]=r[0][i++],i===r[0].length&&(r.shift(),i=0);return r.length&&i<r[0].length&&(r[0]=r[0].slice(i)),t}function nk(r,e){Vh||(Vh=new TextDecoder);const t=[];let i=0,o=-1,c=!1;return new TransformStream({transform(u,h){for(t.push(u);;){if(i===0){if(Ac(t)<1)break;const p=Ec(t,1);c=(p[0]&128)===128,o=p[0]&127,o<126?i=3:o===126?i=1:i=2}else if(i===1){if(Ac(t)<2)break;const p=Ec(t,2);o=new DataView(p.buffer,p.byteOffset,p.length).getUint16(0),i=3}else if(i===2){if(Ac(t)<8)break;const p=Ec(t,8),g=new DataView(p.buffer,p.byteOffset,p.length),m=g.getUint32(0);if(m>Math.pow(2,21)-1){h.enqueue(_d);break}o=m*Math.pow(2,32)+g.getUint32(4),i=3}else{if(Ac(t)<o)break;const p=Ec(t,o);h.enqueue(rp(c?p:Vh.decode(p),e)),i=0}if(o===0||o>r){h.enqueue(_d);break}}}})}const lA=4;function ft(r){if(r)return sk(r)}function sk(r){for(var e in ft.prototype)r[e]=ft.prototype[e];return r}ft.prototype.on=ft.prototype.addEventListener=function(r,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(e),this};ft.prototype.once=function(r,e){function t(){this.off(r,t),e.apply(this,arguments)}return t.fn=e,this.on(r,t),this};ft.prototype.off=ft.prototype.removeListener=ft.prototype.removeAllListeners=ft.prototype.removeEventListener=function(r,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+r];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var i,o=0;o<t.length;o++)if(i=t[o],i===e||i.fn===e){t.splice(o,1);break}return t.length===0&&delete this._callbacks["$"+r],this};ft.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+r],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(t){t=t.slice(0);for(var i=0,o=t.length;i<o;++i)t[i].apply(this,e)}return this};ft.prototype.emitReserved=ft.prototype.emit;ft.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]};ft.prototype.hasListeners=function(r){return!!this.listeners(r).length};const su=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),An=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),ik="arraybuffer";function cA(r,...e){return e.reduce((t,i)=>(r.hasOwnProperty(i)&&(t[i]=r[i]),t),{})}const rk=An.setTimeout,ak=An.clearTimeout;function iu(r,e){e.useNativeTimers?(r.setTimeoutFn=rk.bind(An),r.clearTimeoutFn=ak.bind(An)):(r.setTimeoutFn=An.setTimeout.bind(An),r.clearTimeoutFn=An.clearTimeout.bind(An))}const ok=1.33;function lk(r){return typeof r=="string"?ck(r):Math.ceil((r.byteLength||r.size)*ok)}function ck(r){let e=0,t=0;for(let i=0,o=r.length;i<o;i++)e=r.charCodeAt(i),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(i++,t+=4);return t}function uA(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function uk(r){let e="";for(let t in r)r.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(r[t]));return e}function fk(r){let e={},t=r.split("&");for(let i=0,o=t.length;i<o;i++){let c=t[i].split("=");e[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return e}class hk extends Error{constructor(e,t,i){super(e),this.description=t,this.context=i,this.type="TransportError"}}class ap extends ft{constructor(e){super(),this.writable=!1,iu(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,i){return super.emitReserved("error",new hk(e,t,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=rp(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const t=uk(e);return t.length?"?"+t:""}}class dk extends ap{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||t()})),this.writable||(i++,this.once("drain",function(){--i||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};ek(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,WO(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=uA()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}let fA=!1;try{fA=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const pk=fA;function gk(){}class mk extends dk{constructor(e){if(super(e),typeof location<"u"){const t=location.protocol==="https:";let i=location.port;i||(i=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port}}doWrite(e,t){const i=this.request({method:"POST",data:e});i.on("success",t),i.on("error",(o,c)=>{this.onError("xhr post error",o,c)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,i)=>{this.onError("xhr poll error",t,i)}),this.pollXhr=e}}class Qn extends ft{constructor(e,t,i){super(),this.createRequest=e,iu(this,i),this._opts=i,this._method=i.method||"GET",this._uri=t,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var e;const t=cA(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const i=this._xhr=this.createRequest(t);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var o;i.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=Qn.requestsCount++,Qn.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=gk,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Qn.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Qn.requestsCount=0;Qn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Qb);else if(typeof addEventListener=="function"){const r="onpagehide"in An?"pagehide":"unload";addEventListener(r,Qb,!1)}}function Qb(){for(let r in Qn.requests)Qn.requests.hasOwnProperty(r)&&Qn.requests[r].abort()}const yk=function(){const r=hA({xdomain:!1});return r&&r.responseType!==null}();class bk extends mk{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=yk&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Qn(hA,this.uri(),e)}}function hA(r){const e=r.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||pk))return new XMLHttpRequest}catch{}if(!e)try{return new An[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const dA=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class wk extends ap{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,i=dA?{}:cA(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,i)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const i=e[t],o=t===e.length-1;ip(i,this.supportsBinary,c=>{try{this.doWrite(i,c)}catch{}o&&su(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=uA()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const Kh=An.WebSocket||An.MozWebSocket;class vk extends wk{createSocket(e,t,i){return dA?new Kh(e,t,i):t?new Kh(e,t):new Kh(e)}doWrite(e,t){this.ws.send(t)}}class Ak extends ap{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=nk(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=e.readable.pipeThrough(t).getReader(),o=tk();o.readable.pipeTo(e.writable),this._writer=o.writable.getWriter();const c=()=>{i.read().then(({done:h,value:p})=>{h||(this.onPacket(p),c())}).catch(h=>{})};c();const u={type:"open"};this.query.sid&&(u.data=`{"sid":"${this.query.sid}"}`),this._writer.write(u).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const i=e[t],o=t===e.length-1;this._writer.write(i).then(()=>{o&&su(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const Ek={websocket:vk,webtransport:Ak,polling:bk},xk=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Sk=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Nd(r){if(r.length>8e3)throw"URI too long";const e=r,t=r.indexOf("["),i=r.indexOf("]");t!=-1&&i!=-1&&(r=r.substring(0,t)+r.substring(t,i).replace(/:/g,";")+r.substring(i,r.length));let o=xk.exec(r||""),c={},u=14;for(;u--;)c[Sk[u]]=o[u]||"";return t!=-1&&i!=-1&&(c.source=e,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=Tk(c,c.path),c.queryKey=_k(c,c.query),c}function Tk(r,e){const t=/\/{2,9}/g,i=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&i.splice(0,1),e.slice(-1)=="/"&&i.splice(i.length-1,1),i}function _k(r,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,o,c){o&&(t[o]=c)}),t}const Od=typeof addEventListener=="function"&&typeof removeEventListener=="function",Nc=[];Od&&addEventListener("offline",()=>{Nc.forEach(r=>r())},!1);class ii extends ft{constructor(e,t){if(super(),this.binaryType=ik,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(t=e,e=null),e){const i=Nd(e);t.hostname=i.host,t.secure=i.protocol==="https"||i.protocol==="wss",t.port=i.port,i.query&&(t.query=i.query)}else t.host&&(t.hostname=Nd(t.host).host);iu(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(i=>{const o=i.prototype.name;this.transports.push(o),this._transportsByName[o]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=fk(this.opts.query)),Od&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Nc.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=lA,t.transport=e,this.id&&(t.sid=this.id);const i=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&ii.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",ii.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let i=0;i<this.writeBuffer.length;i++){const o=this.writeBuffer[i].data;if(o&&(t+=lk(o)),i>0&&t>this._maxPayload)return this.writeBuffer.slice(0,i);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,su(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,i){return this._sendPacket("message",e,t,i),this}send(e,t,i){return this._sendPacket("message",e,t,i),this}_sendPacket(e,t,i,o){if(typeof t=="function"&&(o=t,t=void 0),typeof i=="function"&&(o=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const c={type:e,data:t,options:i};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),o&&this.once("flush",o),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},i=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}_onError(e){if(ii.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Od&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const i=Nc.indexOf(this._offlineEventListener);i!==-1&&Nc.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}ii.protocol=lA;class Nk extends ii{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),i=!1;ii.priorWebsocketSuccess=!1;const o=()=>{i||(t.send([{type:"ping",data:"probe"}]),t.once("packet",y=>{if(!i)if(y.type==="pong"&&y.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;ii.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(m(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const w=new Error("probe error");w.transport=t.name,this.emitReserved("upgradeError",w)}}))};function c(){i||(i=!0,m(),t.close(),t=null)}const u=y=>{const w=new Error("probe error: "+y);w.transport=t.name,c(),this.emitReserved("upgradeError",w)};function h(){u("transport closed")}function p(){u("socket closed")}function g(y){t&&y.name!==t.name&&c()}const m=()=>{t.removeListener("open",o),t.removeListener("error",u),t.removeListener("close",h),this.off("close",p),this.off("upgrading",g)};t.once("open",o),t.once("error",u),t.once("close",h),this.once("close",p),this.once("upgrading",g),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{i||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let i=0;i<e.length;i++)~this.transports.indexOf(e[i])&&t.push(e[i]);return t}}let Ok=class extends Nk{constructor(e,t={}){const i=typeof e=="object"?e:t;(!i.transports||i.transports&&typeof i.transports[0]=="string")&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(o=>Ek[o]).filter(o=>!!o)),super(e,i)}};function kk(r,e="",t){let i=r;t=t||typeof location<"u"&&location,r==null&&(r=t.protocol+"//"+t.host),typeof r=="string"&&(r.charAt(0)==="/"&&(r.charAt(1)==="/"?r=t.protocol+r:r=t.host+r),/^(https?|wss?):\/\//.test(r)||(typeof t<"u"?r=t.protocol+"//"+r:r="https://"+r),i=Nd(r)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const c=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+c+":"+i.port+e,i.href=i.protocol+"://"+c+(t&&t.port===i.port?"":":"+i.port),i}const Rk=typeof ArrayBuffer=="function",Ck=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r.buffer instanceof ArrayBuffer,pA=Object.prototype.toString,Bk=typeof Blob=="function"||typeof Blob<"u"&&pA.call(Blob)==="[object BlobConstructor]",Uk=typeof File=="function"||typeof File<"u"&&pA.call(File)==="[object FileConstructor]";function op(r){return Rk&&(r instanceof ArrayBuffer||Ck(r))||Bk&&r instanceof Blob||Uk&&r instanceof File}function Oc(r,e){if(!r||typeof r!="object")return!1;if(Array.isArray(r)){for(let t=0,i=r.length;t<i;t++)if(Oc(r[t]))return!0;return!1}if(op(r))return!0;if(r.toJSON&&typeof r.toJSON=="function"&&arguments.length===1)return Oc(r.toJSON(),!0);for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&Oc(r[t]))return!0;return!1}function Dk(r){const e=[],t=r.data,i=r;return i.data=kd(t,e),i.attachments=e.length,{packet:i,buffers:e}}function kd(r,e){if(!r)return r;if(op(r)){const t={_placeholder:!0,num:e.length};return e.push(r),t}else if(Array.isArray(r)){const t=new Array(r.length);for(let i=0;i<r.length;i++)t[i]=kd(r[i],e);return t}else if(typeof r=="object"&&!(r instanceof Date)){const t={};for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=kd(r[i],e));return t}return r}function Mk(r,e){return r.data=Rd(r.data,e),delete r.attachments,r}function Rd(r,e){if(!r)return r;if(r&&r._placeholder===!0){if(typeof r.num=="number"&&r.num>=0&&r.num<e.length)return e[r.num];throw new Error("illegal attachments")}else if(Array.isArray(r))for(let t=0;t<r.length;t++)r[t]=Rd(r[t],e);else if(typeof r=="object")for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&(r[t]=Rd(r[t],e));return r}const jk=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Lk=5;var _e;(function(r){r[r.CONNECT=0]="CONNECT",r[r.DISCONNECT=1]="DISCONNECT",r[r.EVENT=2]="EVENT",r[r.ACK=3]="ACK",r[r.CONNECT_ERROR=4]="CONNECT_ERROR",r[r.BINARY_EVENT=5]="BINARY_EVENT",r[r.BINARY_ACK=6]="BINARY_ACK"})(_e||(_e={}));class Pk{constructor(e){this.replacer=e}encode(e){return(e.type===_e.EVENT||e.type===_e.ACK)&&Oc(e)?this.encodeAsBinary({type:e.type===_e.EVENT?_e.BINARY_EVENT:_e.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===_e.BINARY_EVENT||e.type===_e.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Dk(e),i=this.encodeAsString(t.packet),o=t.buffers;return o.unshift(i),o}}function Vb(r){return Object.prototype.toString.call(r)==="[object Object]"}class lp extends ft{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const i=t.type===_e.BINARY_EVENT;i||t.type===_e.BINARY_ACK?(t.type=i?_e.EVENT:_e.ACK,this.reconstructor=new Ik(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(op(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const i={type:Number(e.charAt(0))};if(_e[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===_e.BINARY_EVENT||i.type===_e.BINARY_ACK){const c=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const u=e.substring(c,t);if(u!=Number(u)||e.charAt(t)!=="-")throw new Error("Illegal attachments");i.attachments=Number(u)}if(e.charAt(t+1)==="/"){const c=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););i.nsp=e.substring(c,t)}else i.nsp="/";const o=e.charAt(t+1);if(o!==""&&Number(o)==o){const c=t+1;for(;++t;){const u=e.charAt(t);if(u==null||Number(u)!=u){--t;break}if(t===e.length)break}i.id=Number(e.substring(c,t+1))}if(e.charAt(++t)){const c=this.tryParse(e.substr(t));if(lp.isPayloadValid(i.type,c))i.data=c;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case _e.CONNECT:return Vb(t);case _e.DISCONNECT:return t===void 0;case _e.CONNECT_ERROR:return typeof t=="string"||Vb(t);case _e.EVENT:case _e.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&jk.indexOf(t[0])===-1);case _e.ACK:case _e.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Ik{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=Mk(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const zk=Object.freeze(Object.defineProperty({__proto__:null,Decoder:lp,Encoder:Pk,get PacketType(){return _e},protocol:Lk},Symbol.toStringTag,{value:"Module"}));function Rn(r,e,t){return r.on(e,t),function(){r.off(e,t)}}const Hk=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class gA extends ft{constructor(e,t,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Rn(e,"open",this.onopen.bind(this)),Rn(e,"packet",this.onpacket.bind(this)),Rn(e,"error",this.onerror.bind(this)),Rn(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var i,o,c;if(Hk.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const u={type:_e.EVENT,data:t};if(u.options={},u.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const m=this.ids++,y=t.pop();this._registerAckCallback(m,y),u.id=m}const h=(o=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||o===void 0?void 0:o.writable,p=this.connected&&!(!((c=this.io.engine)===null||c===void 0)&&c._hasPingExpired());return this.flags.volatile&&!h||(p?(this.notifyOutgoingListeners(u),this.packet(u)):this.sendBuffer.push(u)),this.flags={},this}_registerAckCallback(e,t){var i;const o=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(o===void 0){this.acks[e]=t;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let h=0;h<this.sendBuffer.length;h++)this.sendBuffer[h].id===e&&this.sendBuffer.splice(h,1);t.call(this,new Error("operation has timed out"))},o),u=(...h)=>{this.io.clearTimeoutFn(c),t.apply(this,h)};u.withError=!0,this.acks[e]=u}emitWithAck(e,...t){return new Promise((i,o)=>{const c=(u,h)=>u?o(u):i(h);c.withError=!0,t.push(c),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((o,...c)=>i!==this._queue[0]?void 0:(o!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(o)):(this._queue.shift(),t&&t(null,...c)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:_e.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(i=>String(i.id)===e)){const i=this.acks[e];delete this.acks[e],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case _e.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case _e.EVENT:case _e.BINARY_EVENT:this.onevent(e);break;case _e.ACK:case _e.BINARY_ACK:this.onack(e);break;case _e.DISCONNECT:this.ondisconnect();break;case _e.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const i of t)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let i=!1;return function(...o){i||(i=!0,t.packet({type:_e.ACK,id:e,data:o}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:_e.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const i of t)i.apply(this,e.data)}}}function da(r){r=r||{},this.ms=r.min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0}da.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*r);r=(Math.floor(e*10)&1)==0?r-t:r+t}return Math.min(r,this.max)|0};da.prototype.reset=function(){this.attempts=0};da.prototype.setMin=function(r){this.ms=r};da.prototype.setMax=function(r){this.max=r};da.prototype.setJitter=function(r){this.jitter=r};class Cd extends ft{constructor(e,t){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,iu(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((i=t.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new da({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const o=t.parser||zk;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Ok(this.uri,this.opts);const t=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const o=Rn(t,"open",function(){i.onopen(),e&&e()}),c=h=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",h),e?e(h):this.maybeReconnectOnOpen()},u=Rn(t,"error",c);if(this._timeout!==!1){const h=this._timeout,p=this.setTimeoutFn(()=>{o(),c(new Error("timeout")),t.close()},h);this.opts.autoUnref&&p.unref(),this.subs.push(()=>{this.clearTimeoutFn(p)})}return this.subs.push(o),this.subs.push(u),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Rn(e,"ping",this.onping.bind(this)),Rn(e,"data",this.ondata.bind(this)),Rn(e,"error",this.onerror.bind(this)),Rn(e,"close",this.onclose.bind(this)),Rn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){su(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new gA(this,e,t),this.nsps[e]=i),i}_destroy(e){const t=Object.keys(this.nsps);for(const i of t)if(this.nsps[i].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let i=0;i<t.length;i++)this.engine.write(t[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var i;this.cleanup(),(i=this.engine)===null||i===void 0||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(o=>{o?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",o)):e.onreconnect()}))},t);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const go={};function kc(r,e){typeof r=="object"&&(e=r,r=void 0),e=e||{};const t=kk(r,e.path||"/socket.io"),i=t.source,o=t.id,c=t.path,u=go[o]&&c in go[o].nsps,h=e.forceNew||e["force new connection"]||e.multiplex===!1||u;let p;return h?p=new Cd(i,e):(go[o]||(go[o]=new Cd(i,e)),p=go[o]),t.query&&!e.query&&(e.query=t.queryKey),p.socket(t.path,e)}Object.assign(kc,{Manager:Cd,Socket:gA,io:kc,connect:kc});const Gk=JSON.parse('[{"inputs":[{"internalType":"address","name":"initialOwner","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"OwnableInvalidOwner","type":"error"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"OwnableUnauthorizedAccount","type":"error"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"itemId","type":"uint256"},{"indexed":false,"internalType":"address","name":"bidder","type":"address"},{"indexed":false,"internalType":"uint256","name":"bidAmount","type":"uint256"}],"name":"BidPlaced","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"FeeWithdrawn","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"itemId","type":"uint256"},{"indexed":true,"internalType":"address","name":"nftContract","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"address","name":"seller","type":"address"}],"name":"ItemCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"itemId","type":"uint256"},{"indexed":false,"internalType":"address","name":"buyer","type":"address"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"}],"name":"ItemSold","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"newFeeBps","type":"uint256"}],"name":"PlatformFeeChanged","type":"event"},{"inputs":[],"name":"FEE_DENOMINATOR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"address","name":"","type":"address"}],"name":"bids","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"itemId","type":"uint256"}],"name":"buyNow","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"fetchActiveItems","outputs":[{"components":[{"internalType":"uint256","name":"itemId","type":"uint256"},{"internalType":"address","name":"nftContract","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address payable","name":"seller","type":"address"},{"internalType":"address payable","name":"buyer","type":"address"},{"internalType":"uint256","name":"startPrice","type":"uint256"},{"internalType":"uint256","name":"buyNowPrice","type":"uint256"},{"internalType":"uint256","name":"auctionEndTime","type":"uint256"},{"internalType":"string","name":"tokenURI","type":"string"},{"internalType":"bool","name":"sold","type":"bool"}],"internalType":"struct SimpleNFTmarket.MarketItem[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"itemId","type":"uint256"}],"name":"getItemDetails","outputs":[{"components":[{"internalType":"uint256","name":"itemId","type":"uint256"},{"internalType":"address","name":"nftContract","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address payable","name":"seller","type":"address"},{"internalType":"address payable","name":"buyer","type":"address"},{"internalType":"uint256","name":"startPrice","type":"uint256"},{"internalType":"uint256","name":"buyNowPrice","type":"uint256"},{"internalType":"uint256","name":"auctionEndTime","type":"uint256"},{"internalType":"string","name":"tokenURI","type":"string"},{"internalType":"bool","name":"sold","type":"bool"}],"internalType":"struct SimpleNFTmarket.MarketItem","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"highestBid","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"highestBidder","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"idToMarketItem","outputs":[{"internalType":"uint256","name":"itemId","type":"uint256"},{"internalType":"address","name":"nftContract","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address payable","name":"seller","type":"address"},{"internalType":"address payable","name":"buyer","type":"address"},{"internalType":"uint256","name":"startPrice","type":"uint256"},{"internalType":"uint256","name":"buyNowPrice","type":"uint256"},{"internalType":"uint256","name":"auctionEndTime","type":"uint256"},{"internalType":"string","name":"tokenURI","type":"string"},{"internalType":"bool","name":"sold","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"itemCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"nftContract","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"startPrice","type":"uint256"},{"internalType":"uint256","name":"buyNowPrice","type":"uint256"},{"internalType":"uint256","name":"auctionDuration","type":"uint256"},{"internalType":"string","name":"tokenURI","type":"string"}],"name":"listItem","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"itemId","type":"uint256"}],"name":"placeBid","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"platformFeePercent","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"newFeeBps","type":"uint256"}],"name":"setPlatformFeePercent","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"totalFeesAccumulated","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdrawFees","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),Fk=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address","name":"owner","type":"address"}],"name":"ERC721IncorrectOwner","type":"error"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ERC721InsufficientApproval","type":"error"},{"inputs":[{"internalType":"address","name":"approver","type":"address"}],"name":"ERC721InvalidApprover","type":"error"},{"inputs":[{"internalType":"address","name":"operator","type":"address"}],"name":"ERC721InvalidOperator","type":"error"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"ERC721InvalidOwner","type":"error"},{"inputs":[{"internalType":"address","name":"receiver","type":"address"}],"name":"ERC721InvalidReceiver","type":"error"},{"inputs":[{"internalType":"address","name":"sender","type":"address"}],"name":"ERC721InvalidSender","type":"error"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ERC721NonexistentToken","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_fromTokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_toTokenId","type":"uint256"}],"name":"BatchMetadataUpdate","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"MetadataUpdate","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"string","name":"tokenURI","type":"string"}],"name":"mintNFT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),Kb="0x20afD28B62c68ea9F7068A7CEB70B4fFbE59820a",Jb="0x890Bd72170b6Dad51Cdb0129dff13Ce381B9B015",qk=()=>{const{address:r,isConnected:e}=Mo(),[t,i]=ye.useState(null),[o,c]=ye.useState(null),[u,h]=ye.useState(0),[p,g]=ye.useState(0),[m,y]=ye.useState(0),[w,x]=ye.useState(0),[T,S]=ye.useState(""),[_,U]=ye.useState(0),[F,R]=ye.useState(0),[z,K]=ye.useState(0),[H,J]=ye.useState(""),[X,he]=ye.useState([]),[te,ce]=ye.useState(null),[be,Ge]=ye.useState(null),[ue,q]=ye.useState(!1),[C,O]=ye.useState(""),[V,ne]=ye.useState("list");ye.useEffect(()=>{window.ethereum&&e&&new ti(window.ethereum).getSigner().then(Ke=>{i(new si(Kb,Gk,Ke)),c(new si(Jb,Fk,Ke))})},[e]),ye.useEffect(()=>{const Z=kc("http://localhost:5173");return Ge(Z),()=>{Z.close()}},[]);const le=async()=>{if(!u||!p||!m||!w||!T){O("모든 필드를 입력해주세요"),setTimeout(()=>O(""),3e3);return}q(!0),O("NFT 등록 중...");try{await(await t.listItem(Jb,u,p,m,w,T)).wait(),await(await o.approve(Kb,u)).wait(),O("NFT 등록 완료!"),h(0),g(0),y(0),x(0),S(""),setTimeout(()=>O(""),3e3)}catch(Z){console.error(Z),O("NFT 등록 실패"),setTimeout(()=>O(""),3e3)}q(!1)},Ce=async()=>{if(!(!_||isNaN(_))){q(!0),O("플랫폼 수수료 설정 중...");try{await(await t.setPlatformFeePercent(_)).wait(),O("플랫폼 수수료 설정 완료!"),U(0),setTimeout(()=>O(""),3e3)}catch(Z){console.error(Z),O("플랫폼 수수료 설정 실패"),setTimeout(()=>O(""),3e3)}q(!1)}},pe=async()=>{if(!(!z||!F)){q(!0),O("입찰 중...");try{await(await t.placeBid(z,{value:F})).wait(),O("입찰 완료!"),R(0),setTimeout(()=>O(""),3e3)}catch(Z){console.error(Z),O("입찰 실패"),setTimeout(()=>O(""),3e3)}q(!1)}};ye.useEffect(()=>{if(be)return be.on("BidPlaced",(Z,Ke,Xt)=>{console.log(`새로운 입찰 발생: Item ID ${Z}, 주소 ${Ke}, 입찰가 ${Xt} ETH`),alert(`새로운 입찰이 발생했습니다!
Item ID: ${Z}
입찰자: ${Ke}
입찰가: ${Xt} ETH`)}),()=>{be.off("BidPlaced")}},[be]);const ge=async()=>{if(z){q(!0),O("소유자 조회 중...");try{const Z=await o.ownerOf(z);J(Z),O("소유자 조회 완료!"),setTimeout(()=>O(""),3e3)}catch(Z){console.error(Z),O("소유자 조회 실패"),setTimeout(()=>O(""),3e3)}q(!1)}},De=async()=>{if(z){q(!0),O("구매 중...");try{await(await t.buyNow(z)).wait(),H&&await(await o.transferFrom(H,r,z)).wait(),O("구매 완료!"),setTimeout(()=>O(""),3e3)}catch(Z){console.error(Z),O("구매 실패"),setTimeout(()=>O(""),3e3)}q(!1)}},ht=async()=>{q(!0),O("NFT 목록 조회 중...");try{const Z=await t.fetchActiveItems();console.log("현재 판매중인 NFT:",Z),he(Z),O(`${Z.length}개의 NFT를 조회했습니다!`),setTimeout(()=>O(""),3e3)}catch(Z){console.error(Z),O("NFT 조회 실패"),setTimeout(()=>O(""),3e3)}q(!1)},Rt=async()=>{if(z){q(!0),O("NFT 상세 정보 조회 중...");try{const Z=await t.getItemDetails(z);console.log("NFT 상세:",Z),ce(Z),O("NFT 상세 정보 조회 완료!"),setTimeout(()=>O(""),3e3)}catch(Z){console.error(Z),O("NFT 상세 조회 실패"),setTimeout(()=>O(""),3e3)}q(!1)}},Ut=async()=>{q(!0),O("수수료 인출 중...");try{await(await t.withdrawFees()).wait(),O("수수료 인출 완료!"),setTimeout(()=>O(""),3e3)}catch(Z){console.error(Z),O("수수료 인출 실패"),setTimeout(()=>O(""),3e3)}q(!1)};return e?A.jsxs("div",{className:"animate-fade-in",children:[A.jsx("div",{className:"page-header animate-fade-in-scale",children:A.jsx("h2",{children:"🇞🇦 NFT Marketplace"})}),C&&A.jsxs("div",{className:`transaction-status animate-fade-in-scale ${C.includes("완료")||C.includes("성공")?"success":C.includes("실패")?"error":"pending"}`,children:[ue&&A.jsx("div",{className:"loading-spinner"}),A.jsx("span",{children:C})]}),A.jsxs("div",{className:"nft-tabs animate-fade-in-up animate-delay-200",children:[A.jsx("button",{className:`tab-btn ${V==="list"?"active":""}`,onClick:()=>ne("list"),children:"🎨 NFT 등록"}),A.jsx("button",{className:`tab-btn ${V==="bid"?"active":""}`,onClick:()=>ne("bid"),children:"💰 입찰"}),A.jsx("button",{className:`tab-btn ${V==="buy"?"active":""}`,onClick:()=>ne("buy"),children:"🛒 구매"}),A.jsx("button",{className:`tab-btn ${V==="admin"?"active":""}`,onClick:()=>ne("admin"),children:"⚙️ 관리"})]}),V==="list"&&A.jsxs("div",{className:"nft-section animate-fade-in-scale",children:[A.jsxs("div",{className:"section-header",children:[A.jsx("h3",{children:"🎨 NFT 등록"}),A.jsx("span",{className:"section-description",children:"나만의 NFT를 마켓에 등록해보세요"})]}),A.jsxs("div",{className:"nft-form",children:[A.jsxs("div",{className:"form-grid",children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"토큰 ID"}),A.jsx("input",{type:"number",placeholder:"0",value:u,onChange:Z=>h(Number(Z.target.value)),className:"form-input"})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"시작 가격 (ETH)"}),A.jsx("input",{type:"number",placeholder:"0.0",step:"0.01",value:p,onChange:Z=>g(Number(Z.target.value)),className:"form-input"})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"즉시 구매 가격 (ETH)"}),A.jsx("input",{type:"number",placeholder:"0.0",step:"0.01",value:m,onChange:Z=>y(Number(Z.target.value)),className:"form-input"})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"경매 기간 (초)"}),A.jsx("input",{type:"number",placeholder:"3600",value:w,onChange:Z=>x(Number(Z.target.value)),className:"form-input"})]})]}),A.jsxs("div",{className:"form-group full-width",children:[A.jsx("label",{children:"Token URI"}),A.jsx("input",{type:"url",placeholder:"https://ipfs.io/ipfs/...",value:T,onChange:Z=>S(Z.target.value),className:"form-input"})]}),A.jsx("button",{className:`primary-btn hover-lift ${ue?"loading":""}`,onClick:le,disabled:ue||!u||!p||!m||!w||!T,children:ue?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"loading-spinner"}),"등록 중..."]}):A.jsx(A.Fragment,{children:"🎨 NFT 등록하기"})})]})]}),V==="bid"&&A.jsxs("div",{className:"nft-section animate-fade-in-scale",children:[A.jsxs("div",{className:"section-header",children:[A.jsx("h3",{children:"💰 입찰하기"}),A.jsx("span",{className:"section-description",children:"원하는 NFT에 입찰해보세요"})]}),A.jsxs("div",{className:"bid-form",children:[A.jsxs("div",{className:"form-row",children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Item ID"}),A.jsx("input",{type:"number",placeholder:"0",value:z,onChange:Z=>K(Number(Z.target.value)),className:"form-input"})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"입찰가 (ETH)"}),A.jsx("input",{type:"number",placeholder:"0.0",step:"0.01",value:F,onChange:Z=>R(Number(Z.target.value)),className:"form-input"})]})]}),A.jsx("button",{className:`primary-btn hover-lift ${ue?"loading":""}`,onClick:pe,disabled:ue||!z||!F,children:ue?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"loading-spinner"}),"입찰 중..."]}):A.jsx(A.Fragment,{children:"💰 입찰하기"})})]})]}),V==="buy"&&A.jsxs("div",{className:"nft-section animate-fade-in-scale",children:[A.jsxs("div",{className:"section-header",children:[A.jsx("h3",{children:"🛒 NFT 구매"}),A.jsx("span",{className:"section-description",children:"즉시 구매 및 소유자 확인"})]}),A.jsxs("div",{className:"buy-form",children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Item ID"}),A.jsx("input",{type:"number",placeholder:"0",value:z,onChange:Z=>K(Number(Z.target.value)),className:"form-input"})]}),A.jsxs("div",{className:"button-group",children:[A.jsxs("button",{className:`secondary-btn hover-lift ${ue?"loading":""}`,onClick:ge,disabled:ue||!z,children:[ue?A.jsx("div",{className:"loading-spinner"}):"👤"," 소유자 확인"]}),A.jsx("button",{className:`primary-btn hover-lift ${ue?"loading":""}`,onClick:De,disabled:ue||!z,children:ue?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"loading-spinner"}),"구매 중..."]}):A.jsx(A.Fragment,{children:"🛒 즉시 구매"})})]}),H&&A.jsxs("div",{className:"owner-info animate-fade-in",children:[A.jsx("div",{className:"info-label",children:"현재 소유자"}),A.jsx("div",{className:"owner-address",children:H})]})]})]}),V==="admin"&&A.jsxs("div",{className:"nft-section animate-fade-in-scale",children:[A.jsxs("div",{className:"section-header",children:[A.jsx("h3",{children:"⚙️ 관리자 기능"}),A.jsx("span",{className:"admin-badge",children:"ADMIN"})]}),A.jsxs("div",{className:"admin-actions",children:[A.jsxs("div",{className:"admin-group",children:[A.jsx("h4",{children:"플랫폼 수수료 설정"}),A.jsxs("div",{className:"form-row",children:[A.jsx("input",{type:"number",placeholder:"수수료 (%)",value:_,onChange:Z=>U(Number(Z.target.value)),className:"form-input"}),A.jsxs("button",{className:`admin-btn hover-lift ${ue?"loading":""}`,onClick:Ce,disabled:ue||!_,children:[ue?A.jsx("div",{className:"loading-spinner"}):"💰"," 수수료 설정"]})]})]}),A.jsxs("div",{className:"admin-group",children:[A.jsx("h4",{children:"수수료 관리"}),A.jsx("button",{className:`admin-btn danger hover-lift ${ue?"loading":""}`,onClick:Ut,disabled:ue,children:ue?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"loading-spinner"}),"인출 중..."]}):A.jsx(A.Fragment,{children:"💸 수수료 인출"})})]})]})]}),A.jsxs("div",{className:"marketplace-section animate-fade-in-up animate-delay-400",children:[A.jsxs("div",{className:"section-header",children:[A.jsx("h3",{children:"🎨 마켓플레이스"}),A.jsxs("button",{className:`refresh-btn hover-scale ${ue?"loading":""}`,onClick:ht,disabled:ue,children:[ue?A.jsx("div",{className:"loading-spinner"}):"🔄"," 새로고침"]})]}),X.length>0?A.jsx("div",{className:"nft-grid stagger-children",children:X.map((Z,Ke)=>A.jsxs("div",{className:"nft-card hover-lift",children:[A.jsxs("div",{className:"nft-card-header",children:[A.jsxs("div",{className:"nft-id",children:["#",Z.tokenId?.toString()||"N/A"]}),A.jsx("div",{className:"nft-status active",children:"🟢 판매중"})]}),A.jsx("div",{className:"nft-placeholder",children:"🇞🇦 NFT"}),A.jsxs("div",{className:"nft-info",children:[A.jsxs("div",{className:"nft-title",children:["Item ID: ",Z.itemId?.toString()||"N/A"]}),A.jsxs("div",{className:"nft-seller",children:["👤 ",Z.seller?.slice(0,6),"...",Z.seller?.slice(-4)||"N/A"]})]}),A.jsxs("div",{className:"price-info",children:[A.jsxs("div",{className:"price-row",children:[A.jsx("span",{children:"시작가"}),A.jsxs("span",{className:"price",children:[Z.startPrice?.toString()||"N/A"," ETH"]})]}),A.jsxs("div",{className:"price-row",children:[A.jsx("span",{children:"즉시구매"}),A.jsxs("span",{className:"price highlight",children:[Z.buyNowPrice?.toString()||"N/A"," ETH"]})]})]})]},Ke))}):A.jsxs("div",{className:"empty-state",children:[A.jsx("div",{className:"empty-icon",children:"🎆"}),A.jsx("h4",{children:"아직 판매중인 NFT가 없어요"}),A.jsx("p",{children:"첫 번째 NFT를 등록해보세요!"})]})]}),A.jsxs("div",{className:"detail-section animate-fade-in-up animate-delay-500",children:[A.jsx("div",{className:"section-header",children:A.jsx("h3",{children:"🔍 NFT 상세 정보"})}),A.jsx("div",{className:"detail-form",children:A.jsxs("div",{className:"form-row",children:[A.jsx("input",{type:"number",placeholder:"Item ID 입력",value:z,onChange:Z=>K(Number(Z.target.value)),className:"form-input"}),A.jsxs("button",{className:`secondary-btn hover-lift ${ue?"loading":""}`,onClick:Rt,disabled:ue||!z,children:[ue?A.jsx("div",{className:"loading-spinner"}):"🔍"," 상세 조회"]})]})}),te&&A.jsxs("div",{className:"detail-card animate-fade-in",children:[A.jsxs("div",{className:"detail-header",children:[A.jsxs("h4",{children:["Item ID ",z," 상세 정보"]}),A.jsx("div",{className:`status-badge ${te.isActive?"active":"inactive"}`,children:te.isActive?"🟢 활성":"🔴 비활성"})]}),A.jsxs("div",{className:"detail-grid",children:[A.jsxs("div",{className:"detail-item",children:[A.jsx("span",{className:"detail-label",children:"Token ID"}),A.jsx("span",{className:"detail-value",children:te.tokenId?.toString()||"N/A"})]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("span",{className:"detail-label",children:"Contract"}),A.jsxs("span",{className:"detail-value address",children:[te.nftContract?.slice(0,6),"...",te.nftContract?.slice(-4)||"N/A"]})]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("span",{className:"detail-label",children:"판매자"}),A.jsxs("span",{className:"detail-value address",children:[te.seller?.slice(0,6),"...",te.seller?.slice(-4)||"N/A"]})]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("span",{className:"detail-label",children:"시작 가격"}),A.jsxs("span",{className:"detail-value price",children:[te.startPrice?.toString()||"N/A"," ETH"]})]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("span",{className:"detail-label",children:"즉시구매가"}),A.jsxs("span",{className:"detail-value price highlight",children:[te.buyNowPrice?.toString()||"N/A"," ETH"]})]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("span",{className:"detail-label",children:"현재 입찰가"}),A.jsxs("span",{className:"detail-value price",children:[te.currentBid?.toString()||"N/A"," ETH"]})]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("span",{className:"detail-label",children:"입찰자"}),A.jsx("span",{className:"detail-value address",children:te.currentBidder&&te.currentBidder!=="0x0000000000000000000000000000000000000000"?`${te.currentBidder.slice(0,6)}...${te.currentBidder.slice(-4)}`:"없음"})]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("span",{className:"detail-label",children:"마감 시간"}),A.jsx("span",{className:"detail-value",children:te.endTime?new Date(Number(te.endTime)*1e3).toLocaleString():"N/A"})]})]}),te.tokenURI&&A.jsxs("div",{className:"token-uri",children:[A.jsx("span",{className:"detail-label",children:"Token URI"}),A.jsxs("a",{href:te.tokenURI,target:"_blank",rel:"noopener noreferrer",className:"uri-link",children:[te.tokenURI.length>50?`${te.tokenURI.slice(0,50)}...`:te.tokenURI,"🔗"]})]})]})]})]}):A.jsxs("div",{className:"animate-fade-in",children:[A.jsx("div",{className:"page-header animate-fade-in-scale",children:A.jsx("h2",{children:"🇞🇦 NFT Marketplace"})}),A.jsxs("div",{className:"connection-required animate-fade-in-up animate-delay-200",children:[A.jsx("div",{className:"connection-icon",children:"🔗"}),A.jsx("h3",{children:"지갑 연결이 필요합니다"}),A.jsx("p",{children:"NFT 마켓플레이스를 사용하려면 먼저 지갑을 연결해주세요."})]})]})};function Qk(){return A.jsx($E,{children:A.jsxs("div",{className:"layout",children:[A.jsx(ax,{}),A.jsx("main",{className:"main-content",children:A.jsxs(WE,{children:[A.jsx(yh,{path:"/",element:A.jsx(fT,{})}),A.jsx(yh,{path:"/simpledex",element:A.jsx(JO,{})}),A.jsx(yh,{path:"/nftmarket",element:A.jsx(qk,{})})]})})]})})}const Yb=IE({id:1001,name:"Kairos Testnet",network:"kairos",nativeCurrency:{decimals:18,name:"Kairos KAIA",symbol:"KAIA"},rpcUrls:{default:{http:["https://public-en-kairos.node.kaia.io"]}},blockExplorers:{default:{name:"KaiaScan",url:"https://kairos.kaiascan.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:123390593}},testnet:!0}),Vk=zE({chains:[Yb],connectors:[GE()],transports:{[Yb.id]:HE()}}),Kk=new FE,mA=document.getElementById("root");if(!mA)throw new Error("Root element not found");rx.createRoot(mA).render(A.jsx(qE.StrictMode,{children:A.jsx(QE,{config:Vk,children:A.jsx(VE,{client:Kk,children:A.jsx(Qk,{})})})}));
